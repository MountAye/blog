{"pageProps":{"metadata":{"slug":"Python-test-notes","date":"2023-10-16","title":".py | Python 测试笔记","filename":"2023-10-16-Python-test-notes.md","url":"Python-test-notes","layout":"post","keywords":["md","py"],"excerpt":"如题","content":"\r\n## 一些名词\r\n\r\n### 调试和测试\r\n\r\n调试一般是由代码的作者进行，用于自行检查程序运行过程，是否存在思路和实现不匹配的错误，调试的代码一般和程序主体写在一起，主要包括错误处理和日志记录。简单的可以用 print 和 assert，复杂的程序可以用 logging。\r\n\r\n测试一般由第三方进行，测试代码和程序代码分离，写测试的人甚至不需要理解程序的具体工作原理，只关注给定的输入能否得到程序宣称的输出。\r\n\r\n### 单元测试\r\n\r\n对一个模块、一个函数或者一个类来进行正确性检验的测试工作。\r\n\r\n检验的方法是写一堆测试用例，把测试员拍脑袋想的输入交给相应的模块，看模块的输出是否正确；以及不合理的输入是否被程序识别，抛出异常。\r\n\r\n单元测试全通过了不代表程序整体一定就没错误，但是单元测试通不过的程序一定有问题。\r\n\r\n### 文档测试\r\n\r\n文档是对代码的功能介绍，其中不免要举例子，给出实例代码和相应的输出，这个过程很像是单元测试，只不过是纯嘴炮。\r\n\r\n文档测试就是自动寻找文档中的示例代码，运行之后，和文档中的结果进行比对。\r\n\r\n### 集成测试\r\n\r\n集成测试模拟用户的行为，测试各个模块之间的配合，测试结果应该保证程序可以在生产环境中工作。\r\n\r\n## Python 中的测试\r\n\r\n### 文件结构\r\n\r\n上一篇文章里面提到了 src-layout，在 setuptools 的官方文档里提供了[一篇博客文章](https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure)，里面提到，这种文件结构的一个优点就是，测试代码的文件夹一般和 `src/` 而不是 package 平级，这就导致运行测试的时候只能先（在虚拟环境里）安装待测试的包，而不会无意中出现测试的代码和用户下载到的内容不同的问题。\r\n\r\n```\r\n<project_name>\r\n├── LICENSE\r\n├── pyproject.toml\r\n├── README.md\r\n├── src/\r\n│   └── <package_name>/\r\n│       ├── __init__.py\r\n│       └── example.py\r\n└── tests/\r\n```\r\n\r\n### 单元测试·`unittest`\r\n\r\n`unittest` 是 Python 自带的单元测试库。\r\n\r\n测试脚本的内容基本如下：\r\n\r\n```\r\nimport unittest\r\n\r\nclass TestName1(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nclass TestName2(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()\r\n```\r\n\r\n- 测试用例包装在一个 class 里面，这个 class 继承自 `unittest.TestCase`\r\n- 所有测试方法名字以 “test” 开头，能测试的性质有限，都是类自带的方法，以 `self.` 开头。支持的方法见下表，感觉 `[assertTrue(x)](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue)` 和 `assertRaises(Exception)` 包打一切\r\n- 作为 `'__main__'` 运行，运行的是自带的函数 `unittest.main()`。\r\n- 运行时需要 python 指明脚本的文件名。安装了 nose2 这个库的话，可以直接运行 `python -m nose2`, 它会自动寻找所有的测试依次运行。（后面发现 `unittest` 好像也有自动发现功能）\r\n\r\n| Method | Checks that | New in |\r\n| --- | --- | --- |\r\n|         [unittest.TestCase.assertEqual](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual) | a == b |  |\r\n|      [unittest.TestCase.assertNotEqual](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual) | a != b |  |\r\n|          [unittest.TestCase.assertTrue](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue) | bool(x) is True |  |\r\n|         [unittest.TestCase.assertFalse](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse) | bool(x) is False |  |\r\n|            [unittest.TestCase.assertIs](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs) | a is b | 3.1 |\r\n|         [unittest.TestCase.assertIsNot](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot) | a is not b | 3.1 |\r\n|        [unittest.TestCase.assertIsNone](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone) | x is None | 3.1 |\r\n|     [unittest.TestCase.assertIsNotNone](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone) | x is not None | 3.1 |\r\n|            [unittest.TestCase.assertIn](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn) | a in b | 3.1 |\r\n|         [unittest.TestCase.assertNotIn](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn) | a not in b | 3.1 |\r\n|    [unittest.TestCase.assertIsInstance](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance) | isinstance(a, b) | 3.2 |\r\n| [unittest.TestCase.assertNotIsInstance](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance) | not isinstance(a, b) | 3.2 |\r\n\r\n### 文档测试\r\n\r\n[https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840](https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840)\r\n\r\nPython 的文档测试用的是 `doctest` 库，写法如下：\r\n\r\n```python\r\nclass Dict(dict):\r\n    '''\r\n    Simple dict but also support access as x.y style.\r\n\r\n    >>> d1 = Dict()\r\n    >>> d1['x'] = 100\r\n    >>> d1.x\r\n    100\r\n    >>> d1.y = 200\r\n    >>> d1['y']\r\n    200\r\n    >>> d2 = Dict(a=1, b=2, c='3')\r\n    >>> d2.c\r\n    '3'\r\n    >>> d2['empty']\r\n    Traceback (most recent call last):\r\n        ...\r\n    KeyError: 'empty'\r\n    >>> d2.empty\r\n    Traceback (most recent call last):\r\n        ...\r\n    AttributeError: 'Dict' object has no attribute 'empty'\r\n    '''\r\n    def __init__(self, **kw):\r\n        super(Dict, self).__init__(**kw)\r\n\r\n    def __getattr__(self, key):\r\n        try:\r\n            return self[key]\r\n        except KeyError:\r\n            raise AttributeError(r\"'Dict' object has no attribute '%s'\" % key)\r\n\r\n    def __setattr__(self, key, value):\r\n        self[key] = value\r\n\r\nif __name__=='__main__':\r\n    import doctest\r\n    doctest.testmod()\r\n```\r\n\r\n在保持 docstring 缩进的前提下，`>>>`  开头的注释会被当作测试运行，紧随其后的行将作为对比基准。只有当预期报错的时候，可以用 `...` 省略中间的报错信息。\r\n\r\n### 集成测试\r\n\r\n也可以用 `unittest` 完成。\r\n\r\n和单元测试的区别在于，一般来说需要构建测试数据集等等。这需要重写 `unittest.TestCase.setup()`\r\n\r\n```python\r\nclass TestComplexData(unittest.TestCase):\r\n    def setUp(self):\r\n        # load test data\r\n        self.app = App(database='fixtures/test_complex.json')\r\n\r\n    def test_customer_count(self):\r\n        self.assertEqual(len(self.app.customers), 10000)\r\n\r\n    def test_existence_of_customer(self):\r\n        customer = self.app.get_customer(id=9999)\r\n        self.assertEqual(customer.name, u\"バナナ\")\r\n        self.assertEqual(customer.address, \"10 Red Road, Akihabara, Tokyo\")\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()\r\n```"},"mdAst":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"一些名词","position":{"start":{"line":2,"column":4,"offset":5},"end":{"line":2,"column":8,"offset":9}}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":8,"offset":9}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"调试和测试","position":{"start":{"line":4,"column":5,"offset":17},"end":{"line":4,"column":10,"offset":22}}}],"position":{"start":{"line":4,"column":1,"offset":13},"end":{"line":4,"column":10,"offset":22}}},{"type":"paragraph","children":[{"type":"text","value":"调试一般是由代码的作者进行，用于自行检查程序运行过程，是否存在思路和实现不匹配的错误，调试的代码一般和程序主体写在一起，主要包括错误处理和日志记录。简单的可以用 print 和 assert，复杂的程序可以用 logging。","position":{"start":{"line":6,"column":1,"offset":26},"end":{"line":6,"column":114,"offset":139}}}],"position":{"start":{"line":6,"column":1,"offset":26},"end":{"line":6,"column":114,"offset":139}}},{"type":"paragraph","children":[{"type":"text","value":"测试一般由第三方进行，测试代码和程序代码分离，写测试的人甚至不需要理解程序的具体工作原理，只关注给定的输入能否得到程序宣称的输出。","position":{"start":{"line":8,"column":1,"offset":143},"end":{"line":8,"column":66,"offset":208}}}],"position":{"start":{"line":8,"column":1,"offset":143},"end":{"line":8,"column":66,"offset":208}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"单元测试","position":{"start":{"line":10,"column":5,"offset":216},"end":{"line":10,"column":9,"offset":220}}}],"position":{"start":{"line":10,"column":1,"offset":212},"end":{"line":10,"column":9,"offset":220}}},{"type":"paragraph","children":[{"type":"text","value":"对一个模块、一个函数或者一个类来进行正确性检验的测试工作。","position":{"start":{"line":12,"column":1,"offset":224},"end":{"line":12,"column":30,"offset":253}}}],"position":{"start":{"line":12,"column":1,"offset":224},"end":{"line":12,"column":30,"offset":253}}},{"type":"paragraph","children":[{"type":"text","value":"检验的方法是写一堆测试用例，把测试员拍脑袋想的输入交给相应的模块，看模块的输出是否正确；以及不合理的输入是否被程序识别，抛出异常。","position":{"start":{"line":14,"column":1,"offset":257},"end":{"line":14,"column":66,"offset":322}}}],"position":{"start":{"line":14,"column":1,"offset":257},"end":{"line":14,"column":66,"offset":322}}},{"type":"paragraph","children":[{"type":"text","value":"单元测试全通过了不代表程序整体一定就没错误，但是单元测试通不过的程序一定有问题。","position":{"start":{"line":16,"column":1,"offset":326},"end":{"line":16,"column":41,"offset":366}}}],"position":{"start":{"line":16,"column":1,"offset":326},"end":{"line":16,"column":41,"offset":366}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"文档测试","position":{"start":{"line":18,"column":5,"offset":374},"end":{"line":18,"column":9,"offset":378}}}],"position":{"start":{"line":18,"column":1,"offset":370},"end":{"line":18,"column":9,"offset":378}}},{"type":"paragraph","children":[{"type":"text","value":"文档是对代码的功能介绍，其中不免要举例子，给出实例代码和相应的输出，这个过程很像是单元测试，只不过是纯嘴炮。","position":{"start":{"line":20,"column":1,"offset":382},"end":{"line":20,"column":55,"offset":436}}}],"position":{"start":{"line":20,"column":1,"offset":382},"end":{"line":20,"column":55,"offset":436}}},{"type":"paragraph","children":[{"type":"text","value":"文档测试就是自动寻找文档中的示例代码，运行之后，和文档中的结果进行比对。","position":{"start":{"line":22,"column":1,"offset":440},"end":{"line":22,"column":37,"offset":476}}}],"position":{"start":{"line":22,"column":1,"offset":440},"end":{"line":22,"column":37,"offset":476}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"集成测试","position":{"start":{"line":24,"column":5,"offset":484},"end":{"line":24,"column":9,"offset":488}}}],"position":{"start":{"line":24,"column":1,"offset":480},"end":{"line":24,"column":9,"offset":488}}},{"type":"paragraph","children":[{"type":"text","value":"集成测试模拟用户的行为，测试各个模块之间的配合，测试结果应该保证程序可以在生产环境中工作。","position":{"start":{"line":26,"column":1,"offset":492},"end":{"line":26,"column":46,"offset":537}}}],"position":{"start":{"line":26,"column":1,"offset":492},"end":{"line":26,"column":46,"offset":537}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Python 中的测试","position":{"start":{"line":28,"column":4,"offset":544},"end":{"line":28,"column":15,"offset":555}}}],"position":{"start":{"line":28,"column":1,"offset":541},"end":{"line":28,"column":15,"offset":555}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"文件结构","position":{"start":{"line":30,"column":5,"offset":563},"end":{"line":30,"column":9,"offset":567}}}],"position":{"start":{"line":30,"column":1,"offset":559},"end":{"line":30,"column":9,"offset":567}}},{"type":"paragraph","children":[{"type":"text","value":"上一篇文章里面提到了 src-layout，在 setuptools 的官方文档里提供了","position":{"start":{"line":32,"column":1,"offset":571},"end":{"line":32,"column":45,"offset":615}}},{"type":"link","title":null,"url":"https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure","children":[{"type":"text","value":"一篇博客文章","position":{"start":{"line":32,"column":46,"offset":616},"end":{"line":32,"column":52,"offset":622}}}],"position":{"start":{"line":32,"column":45,"offset":615},"end":{"line":32,"column":121,"offset":691}}},{"type":"text","value":"，里面提到，这种文件结构的一个优点就是，测试代码的文件夹一般和 ","position":{"start":{"line":32,"column":121,"offset":691},"end":{"line":32,"column":153,"offset":723}}},{"type":"inlineCode","value":"src/","position":{"start":{"line":32,"column":153,"offset":723},"end":{"line":32,"column":159,"offset":729}}},{"type":"text","value":" 而不是 package 平级，这就导致运行测试的时候只能先（在虚拟环境里）安装待测试的包，而不会无意中出现测试的代码和用户下载到的内容不同的问题。","position":{"start":{"line":32,"column":159,"offset":729},"end":{"line":32,"column":233,"offset":803}}}],"position":{"start":{"line":32,"column":1,"offset":571},"end":{"line":32,"column":233,"offset":803}}},{"type":"code","lang":null,"meta":null,"value":"<project_name>\r\n├── LICENSE\r\n├── pyproject.toml\r\n├── README.md\r\n├── src/\r\n│   └── <package_name>/\r\n│       ├── __init__.py\r\n│       └── example.py\r\n└── tests/","position":{"start":{"line":34,"column":1,"offset":807},"end":{"line":44,"column":4,"offset":975}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"单元测试·","position":{"start":{"line":46,"column":5,"offset":983},"end":{"line":46,"column":10,"offset":988}}},{"type":"inlineCode","value":"unittest","position":{"start":{"line":46,"column":10,"offset":988},"end":{"line":46,"column":20,"offset":998}}}],"position":{"start":{"line":46,"column":1,"offset":979},"end":{"line":46,"column":20,"offset":998}}},{"type":"paragraph","children":[{"type":"inlineCode","value":"unittest","position":{"start":{"line":48,"column":1,"offset":1002},"end":{"line":48,"column":11,"offset":1012}}},{"type":"text","value":" 是 Python 自带的单元测试库。","position":{"start":{"line":48,"column":11,"offset":1012},"end":{"line":48,"column":30,"offset":1031}}}],"position":{"start":{"line":48,"column":1,"offset":1002},"end":{"line":48,"column":30,"offset":1031}}},{"type":"paragraph","children":[{"type":"text","value":"测试脚本的内容基本如下：","position":{"start":{"line":50,"column":1,"offset":1035},"end":{"line":50,"column":13,"offset":1047}}}],"position":{"start":{"line":50,"column":1,"offset":1035},"end":{"line":50,"column":13,"offset":1047}}},{"type":"code","lang":null,"meta":null,"value":"import unittest\r\n\r\nclass TestName1(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nclass TestName2(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()","position":{"start":{"line":52,"column":1,"offset":1051},"end":{"line":73,"column":4,"offset":1565}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"测试用例包装在一个 class 里面，这个 class 继承自 ","position":{"start":{"line":75,"column":3,"offset":1571},"end":{"line":75,"column":35,"offset":1603}}},{"type":"inlineCode","value":"unittest.TestCase","position":{"start":{"line":75,"column":35,"offset":1603},"end":{"line":75,"column":54,"offset":1622}}}],"position":{"start":{"line":75,"column":3,"offset":1571},"end":{"line":75,"column":54,"offset":1622}}}],"position":{"start":{"line":75,"column":1,"offset":1569},"end":{"line":75,"column":54,"offset":1622}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"所有测试方法名字以 “test” 开头，能测试的性质有限，都是类自带的方法，以 ","position":{"start":{"line":76,"column":3,"offset":1626},"end":{"line":76,"column":43,"offset":1666}}},{"type":"inlineCode","value":"self.","position":{"start":{"line":76,"column":43,"offset":1666},"end":{"line":76,"column":50,"offset":1673}}},{"type":"text","value":" 开头。支持的方法见下表，感觉 ","position":{"start":{"line":76,"column":50,"offset":1673},"end":{"line":76,"column":66,"offset":1689}}},{"type":"inlineCode","value":"[assertTrue(x)](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue)","position":{"start":{"line":76,"column":66,"offset":1689},"end":{"line":76,"column":161,"offset":1784}}},{"type":"text","value":" 和 ","position":{"start":{"line":76,"column":161,"offset":1784},"end":{"line":76,"column":164,"offset":1787}}},{"type":"inlineCode","value":"assertRaises(Exception)","position":{"start":{"line":76,"column":164,"offset":1787},"end":{"line":76,"column":189,"offset":1812}}},{"type":"text","value":" 包打一切","position":{"start":{"line":76,"column":189,"offset":1812},"end":{"line":76,"column":194,"offset":1817}}}],"position":{"start":{"line":76,"column":3,"offset":1626},"end":{"line":76,"column":194,"offset":1817}}}],"position":{"start":{"line":76,"column":1,"offset":1624},"end":{"line":76,"column":194,"offset":1817}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"作为 ","position":{"start":{"line":77,"column":3,"offset":1821},"end":{"line":77,"column":6,"offset":1824}}},{"type":"inlineCode","value":"'__main__'","position":{"start":{"line":77,"column":6,"offset":1824},"end":{"line":77,"column":18,"offset":1836}}},{"type":"text","value":" 运行，运行的是自带的函数 ","position":{"start":{"line":77,"column":18,"offset":1836},"end":{"line":77,"column":32,"offset":1850}}},{"type":"inlineCode","value":"unittest.main()","position":{"start":{"line":77,"column":32,"offset":1850},"end":{"line":77,"column":49,"offset":1867}}},{"type":"text","value":"。","position":{"start":{"line":77,"column":49,"offset":1867},"end":{"line":77,"column":50,"offset":1868}}}],"position":{"start":{"line":77,"column":3,"offset":1821},"end":{"line":77,"column":50,"offset":1868}}}],"position":{"start":{"line":77,"column":1,"offset":1819},"end":{"line":77,"column":50,"offset":1868}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"运行时需要 python 指明脚本的文件名。安装了 nose2 这个库的话，可以直接运行 ","position":{"start":{"line":78,"column":3,"offset":1872},"end":{"line":78,"column":48,"offset":1917}}},{"type":"inlineCode","value":"python -m nose2","position":{"start":{"line":78,"column":48,"offset":1917},"end":{"line":78,"column":65,"offset":1934}}},{"type":"text","value":", 它会自动寻找所有的测试依次运行。（后面发现 ","position":{"start":{"line":78,"column":65,"offset":1934},"end":{"line":78,"column":89,"offset":1958}}},{"type":"inlineCode","value":"unittest","position":{"start":{"line":78,"column":89,"offset":1958},"end":{"line":78,"column":99,"offset":1968}}},{"type":"text","value":" 好像也有自动发现功能）","position":{"start":{"line":78,"column":99,"offset":1968},"end":{"line":78,"column":111,"offset":1980}}}],"position":{"start":{"line":78,"column":3,"offset":1872},"end":{"line":78,"column":111,"offset":1980}}}],"position":{"start":{"line":78,"column":1,"offset":1870},"end":{"line":78,"column":111,"offset":1980}}}],"position":{"start":{"line":75,"column":1,"offset":1569},"end":{"line":78,"column":111,"offset":1980}}},{"type":"table","align":[null,null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Method","position":{"start":{"line":80,"column":3,"offset":1986},"end":{"line":80,"column":9,"offset":1992}}}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":80,"column":10,"offset":1993}}},{"type":"tableCell","children":[{"type":"text","value":"Checks that","position":{"start":{"line":80,"column":12,"offset":1995},"end":{"line":80,"column":23,"offset":2006}}}],"position":{"start":{"line":80,"column":10,"offset":1993},"end":{"line":80,"column":24,"offset":2007}}},{"type":"tableCell","children":[{"type":"text","value":"New in","position":{"start":{"line":80,"column":26,"offset":2009},"end":{"line":80,"column":32,"offset":2015}}}],"position":{"start":{"line":80,"column":24,"offset":2007},"end":{"line":80,"column":34,"offset":2017}}}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":80,"column":34,"offset":2017}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual","children":[{"type":"text","value":"unittest.TestCase.assertEqual","position":{"start":{"line":82,"column":12,"offset":2051},"end":{"line":82,"column":41,"offset":2080}}}],"position":{"start":{"line":82,"column":11,"offset":2050},"end":{"line":82,"column":121,"offset":2160}}}],"position":{"start":{"line":82,"column":1,"offset":2040},"end":{"line":82,"column":122,"offset":2161}}},{"type":"tableCell","children":[{"type":"text","value":"a == b","position":{"start":{"line":82,"column":124,"offset":2163},"end":{"line":82,"column":130,"offset":2169}}}],"position":{"start":{"line":82,"column":122,"offset":2161},"end":{"line":82,"column":131,"offset":2170}}},{"type":"tableCell","children":[],"position":{"start":{"line":82,"column":131,"offset":2170},"end":{"line":82,"column":135,"offset":2174}}}],"position":{"start":{"line":82,"column":1,"offset":2040},"end":{"line":82,"column":135,"offset":2174}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual","children":[{"type":"text","value":"unittest.TestCase.assertNotEqual","position":{"start":{"line":83,"column":9,"offset":2184},"end":{"line":83,"column":41,"offset":2216}}}],"position":{"start":{"line":83,"column":8,"offset":2183},"end":{"line":83,"column":124,"offset":2299}}}],"position":{"start":{"line":83,"column":1,"offset":2176},"end":{"line":83,"column":125,"offset":2300}}},{"type":"tableCell","children":[{"type":"text","value":"a != b","position":{"start":{"line":83,"column":127,"offset":2302},"end":{"line":83,"column":133,"offset":2308}}}],"position":{"start":{"line":83,"column":125,"offset":2300},"end":{"line":83,"column":134,"offset":2309}}},{"type":"tableCell","children":[],"position":{"start":{"line":83,"column":134,"offset":2309},"end":{"line":83,"column":138,"offset":2313}}}],"position":{"start":{"line":83,"column":1,"offset":2176},"end":{"line":83,"column":138,"offset":2313}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue","children":[{"type":"text","value":"unittest.TestCase.assertTrue","position":{"start":{"line":84,"column":13,"offset":2327},"end":{"line":84,"column":41,"offset":2355}}}],"position":{"start":{"line":84,"column":12,"offset":2326},"end":{"line":84,"column":120,"offset":2434}}}],"position":{"start":{"line":84,"column":1,"offset":2315},"end":{"line":84,"column":121,"offset":2435}}},{"type":"tableCell","children":[{"type":"text","value":"bool(x) is True","position":{"start":{"line":84,"column":123,"offset":2437},"end":{"line":84,"column":138,"offset":2452}}}],"position":{"start":{"line":84,"column":121,"offset":2435},"end":{"line":84,"column":139,"offset":2453}}},{"type":"tableCell","children":[],"position":{"start":{"line":84,"column":139,"offset":2453},"end":{"line":84,"column":143,"offset":2457}}}],"position":{"start":{"line":84,"column":1,"offset":2315},"end":{"line":84,"column":143,"offset":2457}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse","children":[{"type":"text","value":"unittest.TestCase.assertFalse","position":{"start":{"line":85,"column":12,"offset":2470},"end":{"line":85,"column":41,"offset":2499}}}],"position":{"start":{"line":85,"column":11,"offset":2469},"end":{"line":85,"column":121,"offset":2579}}}],"position":{"start":{"line":85,"column":1,"offset":2459},"end":{"line":85,"column":122,"offset":2580}}},{"type":"tableCell","children":[{"type":"text","value":"bool(x) is False","position":{"start":{"line":85,"column":124,"offset":2582},"end":{"line":85,"column":140,"offset":2598}}}],"position":{"start":{"line":85,"column":122,"offset":2580},"end":{"line":85,"column":141,"offset":2599}}},{"type":"tableCell","children":[],"position":{"start":{"line":85,"column":141,"offset":2599},"end":{"line":85,"column":145,"offset":2603}}}],"position":{"start":{"line":85,"column":1,"offset":2459},"end":{"line":85,"column":145,"offset":2603}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs","children":[{"type":"text","value":"unittest.TestCase.assertIs","position":{"start":{"line":86,"column":15,"offset":2619},"end":{"line":86,"column":41,"offset":2645}}}],"position":{"start":{"line":86,"column":14,"offset":2618},"end":{"line":86,"column":118,"offset":2722}}}],"position":{"start":{"line":86,"column":1,"offset":2605},"end":{"line":86,"column":119,"offset":2723}}},{"type":"tableCell","children":[{"type":"text","value":"a is b","position":{"start":{"line":86,"column":121,"offset":2725},"end":{"line":86,"column":127,"offset":2731}}}],"position":{"start":{"line":86,"column":119,"offset":2723},"end":{"line":86,"column":128,"offset":2732}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":86,"column":130,"offset":2734},"end":{"line":86,"column":133,"offset":2737}}}],"position":{"start":{"line":86,"column":128,"offset":2732},"end":{"line":86,"column":135,"offset":2739}}}],"position":{"start":{"line":86,"column":1,"offset":2605},"end":{"line":86,"column":135,"offset":2739}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot","children":[{"type":"text","value":"unittest.TestCase.assertIsNot","position":{"start":{"line":87,"column":12,"offset":2752},"end":{"line":87,"column":41,"offset":2781}}}],"position":{"start":{"line":87,"column":11,"offset":2751},"end":{"line":87,"column":121,"offset":2861}}}],"position":{"start":{"line":87,"column":1,"offset":2741},"end":{"line":87,"column":122,"offset":2862}}},{"type":"tableCell","children":[{"type":"text","value":"a is not b","position":{"start":{"line":87,"column":124,"offset":2864},"end":{"line":87,"column":134,"offset":2874}}}],"position":{"start":{"line":87,"column":122,"offset":2862},"end":{"line":87,"column":135,"offset":2875}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":87,"column":137,"offset":2877},"end":{"line":87,"column":140,"offset":2880}}}],"position":{"start":{"line":87,"column":135,"offset":2875},"end":{"line":87,"column":142,"offset":2882}}}],"position":{"start":{"line":87,"column":1,"offset":2741},"end":{"line":87,"column":142,"offset":2882}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone","children":[{"type":"text","value":"unittest.TestCase.assertIsNone","position":{"start":{"line":88,"column":11,"offset":2894},"end":{"line":88,"column":41,"offset":2924}}}],"position":{"start":{"line":88,"column":10,"offset":2893},"end":{"line":88,"column":122,"offset":3005}}}],"position":{"start":{"line":88,"column":1,"offset":2884},"end":{"line":88,"column":123,"offset":3006}}},{"type":"tableCell","children":[{"type":"text","value":"x is None","position":{"start":{"line":88,"column":125,"offset":3008},"end":{"line":88,"column":134,"offset":3017}}}],"position":{"start":{"line":88,"column":123,"offset":3006},"end":{"line":88,"column":135,"offset":3018}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":88,"column":137,"offset":3020},"end":{"line":88,"column":140,"offset":3023}}}],"position":{"start":{"line":88,"column":135,"offset":3018},"end":{"line":88,"column":142,"offset":3025}}}],"position":{"start":{"line":88,"column":1,"offset":2884},"end":{"line":88,"column":142,"offset":3025}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone","children":[{"type":"text","value":"unittest.TestCase.assertIsNotNone","position":{"start":{"line":89,"column":8,"offset":3034},"end":{"line":89,"column":41,"offset":3067}}}],"position":{"start":{"line":89,"column":7,"offset":3033},"end":{"line":89,"column":125,"offset":3151}}}],"position":{"start":{"line":89,"column":1,"offset":3027},"end":{"line":89,"column":126,"offset":3152}}},{"type":"tableCell","children":[{"type":"text","value":"x is not None","position":{"start":{"line":89,"column":128,"offset":3154},"end":{"line":89,"column":141,"offset":3167}}}],"position":{"start":{"line":89,"column":126,"offset":3152},"end":{"line":89,"column":142,"offset":3168}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":89,"column":144,"offset":3170},"end":{"line":89,"column":147,"offset":3173}}}],"position":{"start":{"line":89,"column":142,"offset":3168},"end":{"line":89,"column":149,"offset":3175}}}],"position":{"start":{"line":89,"column":1,"offset":3027},"end":{"line":89,"column":149,"offset":3175}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn","children":[{"type":"text","value":"unittest.TestCase.assertIn","position":{"start":{"line":90,"column":15,"offset":3191},"end":{"line":90,"column":41,"offset":3217}}}],"position":{"start":{"line":90,"column":14,"offset":3190},"end":{"line":90,"column":118,"offset":3294}}}],"position":{"start":{"line":90,"column":1,"offset":3177},"end":{"line":90,"column":119,"offset":3295}}},{"type":"tableCell","children":[{"type":"text","value":"a in b","position":{"start":{"line":90,"column":121,"offset":3297},"end":{"line":90,"column":127,"offset":3303}}}],"position":{"start":{"line":90,"column":119,"offset":3295},"end":{"line":90,"column":128,"offset":3304}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":90,"column":130,"offset":3306},"end":{"line":90,"column":133,"offset":3309}}}],"position":{"start":{"line":90,"column":128,"offset":3304},"end":{"line":90,"column":135,"offset":3311}}}],"position":{"start":{"line":90,"column":1,"offset":3177},"end":{"line":90,"column":135,"offset":3311}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn","children":[{"type":"text","value":"unittest.TestCase.assertNotIn","position":{"start":{"line":91,"column":12,"offset":3324},"end":{"line":91,"column":41,"offset":3353}}}],"position":{"start":{"line":91,"column":11,"offset":3323},"end":{"line":91,"column":121,"offset":3433}}}],"position":{"start":{"line":91,"column":1,"offset":3313},"end":{"line":91,"column":122,"offset":3434}}},{"type":"tableCell","children":[{"type":"text","value":"a not in b","position":{"start":{"line":91,"column":124,"offset":3436},"end":{"line":91,"column":134,"offset":3446}}}],"position":{"start":{"line":91,"column":122,"offset":3434},"end":{"line":91,"column":135,"offset":3447}}},{"type":"tableCell","children":[{"type":"text","value":"3.1","position":{"start":{"line":91,"column":137,"offset":3449},"end":{"line":91,"column":140,"offset":3452}}}],"position":{"start":{"line":91,"column":135,"offset":3447},"end":{"line":91,"column":142,"offset":3454}}}],"position":{"start":{"line":91,"column":1,"offset":3313},"end":{"line":91,"column":142,"offset":3454}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance","children":[{"type":"text","value":"unittest.TestCase.assertIsInstance","position":{"start":{"line":92,"column":7,"offset":3462},"end":{"line":92,"column":41,"offset":3496}}}],"position":{"start":{"line":92,"column":6,"offset":3461},"end":{"line":92,"column":126,"offset":3581}}}],"position":{"start":{"line":92,"column":1,"offset":3456},"end":{"line":92,"column":127,"offset":3582}}},{"type":"tableCell","children":[{"type":"text","value":"isinstance(a, b)","position":{"start":{"line":92,"column":129,"offset":3584},"end":{"line":92,"column":145,"offset":3600}}}],"position":{"start":{"line":92,"column":127,"offset":3582},"end":{"line":92,"column":146,"offset":3601}}},{"type":"tableCell","children":[{"type":"text","value":"3.2","position":{"start":{"line":92,"column":148,"offset":3603},"end":{"line":92,"column":151,"offset":3606}}}],"position":{"start":{"line":92,"column":146,"offset":3601},"end":{"line":92,"column":153,"offset":3608}}}],"position":{"start":{"line":92,"column":1,"offset":3456},"end":{"line":92,"column":153,"offset":3608}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance","children":[{"type":"text","value":"unittest.TestCase.assertNotIsInstance","position":{"start":{"line":93,"column":4,"offset":3613},"end":{"line":93,"column":41,"offset":3650}}}],"position":{"start":{"line":93,"column":3,"offset":3612},"end":{"line":93,"column":129,"offset":3738}}}],"position":{"start":{"line":93,"column":1,"offset":3610},"end":{"line":93,"column":130,"offset":3739}}},{"type":"tableCell","children":[{"type":"text","value":"not isinstance(a, b)","position":{"start":{"line":93,"column":132,"offset":3741},"end":{"line":93,"column":152,"offset":3761}}}],"position":{"start":{"line":93,"column":130,"offset":3739},"end":{"line":93,"column":153,"offset":3762}}},{"type":"tableCell","children":[{"type":"text","value":"3.2","position":{"start":{"line":93,"column":155,"offset":3764},"end":{"line":93,"column":158,"offset":3767}}}],"position":{"start":{"line":93,"column":153,"offset":3762},"end":{"line":93,"column":160,"offset":3769}}}],"position":{"start":{"line":93,"column":1,"offset":3610},"end":{"line":93,"column":160,"offset":3769}}}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":93,"column":160,"offset":3769}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"文档测试","position":{"start":{"line":95,"column":5,"offset":3777},"end":{"line":95,"column":9,"offset":3781}}}],"position":{"start":{"line":95,"column":1,"offset":3773},"end":{"line":95,"column":9,"offset":3781}}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840","children":[{"type":"text","value":"https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840","position":{"start":{"line":97,"column":2,"offset":3786},"end":{"line":97,"column":68,"offset":3852}}}],"position":{"start":{"line":97,"column":1,"offset":3785},"end":{"line":97,"column":137,"offset":3921}}}],"position":{"start":{"line":97,"column":1,"offset":3785},"end":{"line":97,"column":137,"offset":3921}}},{"type":"paragraph","children":[{"type":"text","value":"Python 的文档测试用的是 ","position":{"start":{"line":99,"column":1,"offset":3925},"end":{"line":99,"column":17,"offset":3941}}},{"type":"inlineCode","value":"doctest","position":{"start":{"line":99,"column":17,"offset":3941},"end":{"line":99,"column":26,"offset":3950}}},{"type":"text","value":" 库，写法如下：","position":{"start":{"line":99,"column":26,"offset":3950},"end":{"line":99,"column":34,"offset":3958}}}],"position":{"start":{"line":99,"column":1,"offset":3925},"end":{"line":99,"column":34,"offset":3958}}},{"type":"code","lang":"python","meta":null,"value":"class Dict(dict):\r\n    '''\r\n    Simple dict but also support access as x.y style.\r\n\r\n    >>> d1 = Dict()\r\n    >>> d1['x'] = 100\r\n    >>> d1.x\r\n    100\r\n    >>> d1.y = 200\r\n    >>> d1['y']\r\n    200\r\n    >>> d2 = Dict(a=1, b=2, c='3')\r\n    >>> d2.c\r\n    '3'\r\n    >>> d2['empty']\r\n    Traceback (most recent call last):\r\n        ...\r\n    KeyError: 'empty'\r\n    >>> d2.empty\r\n    Traceback (most recent call last):\r\n        ...\r\n    AttributeError: 'Dict' object has no attribute 'empty'\r\n    '''\r\n    def __init__(self, **kw):\r\n        super(Dict, self).__init__(**kw)\r\n\r\n    def __getattr__(self, key):\r\n        try:\r\n            return self[key]\r\n        except KeyError:\r\n            raise AttributeError(r\"'Dict' object has no attribute '%s'\" % key)\r\n\r\n    def __setattr__(self, key, value):\r\n        self[key] = value\r\n\r\nif __name__=='__main__':\r\n    import doctest\r\n    doctest.testmod()","position":{"start":{"line":101,"column":1,"offset":3962},"end":{"line":140,"column":4,"offset":4868}}},{"type":"paragraph","children":[{"type":"text","value":"在保持 docstring 缩进的前提下，","position":{"start":{"line":142,"column":1,"offset":4872},"end":{"line":142,"column":22,"offset":4893}}},{"type":"inlineCode","value":">>>","position":{"start":{"line":142,"column":22,"offset":4893},"end":{"line":142,"column":27,"offset":4898}}},{"type":"text","value":"  开头的注释会被当作测试运行，紧随其后的行将作为对比基准。只有当预期报错的时候，可以用 ","position":{"start":{"line":142,"column":27,"offset":4898},"end":{"line":142,"column":72,"offset":4943}}},{"type":"inlineCode","value":"...","position":{"start":{"line":142,"column":72,"offset":4943},"end":{"line":142,"column":77,"offset":4948}}},{"type":"text","value":" 省略中间的报错信息。","position":{"start":{"line":142,"column":77,"offset":4948},"end":{"line":142,"column":88,"offset":4959}}}],"position":{"start":{"line":142,"column":1,"offset":4872},"end":{"line":142,"column":88,"offset":4959}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"集成测试","position":{"start":{"line":144,"column":5,"offset":4967},"end":{"line":144,"column":9,"offset":4971}}}],"position":{"start":{"line":144,"column":1,"offset":4963},"end":{"line":144,"column":9,"offset":4971}}},{"type":"paragraph","children":[{"type":"text","value":"也可以用 ","position":{"start":{"line":146,"column":1,"offset":4975},"end":{"line":146,"column":6,"offset":4980}}},{"type":"inlineCode","value":"unittest","position":{"start":{"line":146,"column":6,"offset":4980},"end":{"line":146,"column":16,"offset":4990}}},{"type":"text","value":" 完成。","position":{"start":{"line":146,"column":16,"offset":4990},"end":{"line":146,"column":20,"offset":4994}}}],"position":{"start":{"line":146,"column":1,"offset":4975},"end":{"line":146,"column":20,"offset":4994}}},{"type":"paragraph","children":[{"type":"text","value":"和单元测试的区别在于，一般来说需要构建测试数据集等等。这需要重写 ","position":{"start":{"line":148,"column":1,"offset":4998},"end":{"line":148,"column":34,"offset":5031}}},{"type":"inlineCode","value":"unittest.TestCase.setup()","position":{"start":{"line":148,"column":34,"offset":5031},"end":{"line":148,"column":61,"offset":5058}}}],"position":{"start":{"line":148,"column":1,"offset":4998},"end":{"line":148,"column":61,"offset":5058}}},{"type":"code","lang":"python","meta":null,"value":"class TestComplexData(unittest.TestCase):\r\n    def setUp(self):\r\n        # load test data\r\n        self.app = App(database='fixtures/test_complex.json')\r\n\r\n    def test_customer_count(self):\r\n        self.assertEqual(len(self.app.customers), 10000)\r\n\r\n    def test_existence_of_customer(self):\r\n        customer = self.app.get_customer(id=9999)\r\n        self.assertEqual(customer.name, u\"バナナ\")\r\n        self.assertEqual(customer.address, \"10 Red Road, Akihabara, Tokyo\")\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()","position":{"start":{"line":150,"column":1,"offset":5062},"end":{"line":166,"column":4,"offset":5599}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":166,"column":4,"offset":5599}}},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"一些名词"},"children":[{"type":"element","tagName":"a","properties":{"href":"#一些名词"},"children":[{"type":"text","value":"一些名词","position":{"start":{"line":2,"column":4,"offset":5},"end":{"line":2,"column":8,"offset":9}}}]}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":8,"offset":9}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"调试和测试"},"children":[{"type":"element","tagName":"a","properties":{"href":"#调试和测试"},"children":[{"type":"text","value":"调试和测试","position":{"start":{"line":4,"column":5,"offset":17},"end":{"line":4,"column":10,"offset":22}}}]}],"position":{"start":{"line":4,"column":1,"offset":13},"end":{"line":4,"column":10,"offset":22}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"调试一般是由代码的作者进行，用于自行检查程序运行过程，是否存在思路和实现不匹配的错误，调试的代码一般和程序主体写在一起，主要包括错误处理和日志记录。简单的可以用 print 和 assert，复杂的程序可以用 logging。","position":{"start":{"line":6,"column":1,"offset":26},"end":{"line":6,"column":114,"offset":139}}}],"position":{"start":{"line":6,"column":1,"offset":26},"end":{"line":6,"column":114,"offset":139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"测试一般由第三方进行，测试代码和程序代码分离，写测试的人甚至不需要理解程序的具体工作原理，只关注给定的输入能否得到程序宣称的输出。","position":{"start":{"line":8,"column":1,"offset":143},"end":{"line":8,"column":66,"offset":208}}}],"position":{"start":{"line":8,"column":1,"offset":143},"end":{"line":8,"column":66,"offset":208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"单元测试"},"children":[{"type":"element","tagName":"a","properties":{"href":"#单元测试"},"children":[{"type":"text","value":"单元测试","position":{"start":{"line":10,"column":5,"offset":216},"end":{"line":10,"column":9,"offset":220}}}]}],"position":{"start":{"line":10,"column":1,"offset":212},"end":{"line":10,"column":9,"offset":220}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"对一个模块、一个函数或者一个类来进行正确性检验的测试工作。","position":{"start":{"line":12,"column":1,"offset":224},"end":{"line":12,"column":30,"offset":253}}}],"position":{"start":{"line":12,"column":1,"offset":224},"end":{"line":12,"column":30,"offset":253}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"检验的方法是写一堆测试用例，把测试员拍脑袋想的输入交给相应的模块，看模块的输出是否正确；以及不合理的输入是否被程序识别，抛出异常。","position":{"start":{"line":14,"column":1,"offset":257},"end":{"line":14,"column":66,"offset":322}}}],"position":{"start":{"line":14,"column":1,"offset":257},"end":{"line":14,"column":66,"offset":322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"单元测试全通过了不代表程序整体一定就没错误，但是单元测试通不过的程序一定有问题。","position":{"start":{"line":16,"column":1,"offset":326},"end":{"line":16,"column":41,"offset":366}}}],"position":{"start":{"line":16,"column":1,"offset":326},"end":{"line":16,"column":41,"offset":366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"文档测试"},"children":[{"type":"element","tagName":"a","properties":{"href":"#文档测试"},"children":[{"type":"text","value":"文档测试","position":{"start":{"line":18,"column":5,"offset":374},"end":{"line":18,"column":9,"offset":378}}}]}],"position":{"start":{"line":18,"column":1,"offset":370},"end":{"line":18,"column":9,"offset":378}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"文档是对代码的功能介绍，其中不免要举例子，给出实例代码和相应的输出，这个过程很像是单元测试，只不过是纯嘴炮。","position":{"start":{"line":20,"column":1,"offset":382},"end":{"line":20,"column":55,"offset":436}}}],"position":{"start":{"line":20,"column":1,"offset":382},"end":{"line":20,"column":55,"offset":436}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"文档测试就是自动寻找文档中的示例代码，运行之后，和文档中的结果进行比对。","position":{"start":{"line":22,"column":1,"offset":440},"end":{"line":22,"column":37,"offset":476}}}],"position":{"start":{"line":22,"column":1,"offset":440},"end":{"line":22,"column":37,"offset":476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"集成测试"},"children":[{"type":"element","tagName":"a","properties":{"href":"#集成测试"},"children":[{"type":"text","value":"集成测试","position":{"start":{"line":24,"column":5,"offset":484},"end":{"line":24,"column":9,"offset":488}}}]}],"position":{"start":{"line":24,"column":1,"offset":480},"end":{"line":24,"column":9,"offset":488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"集成测试模拟用户的行为，测试各个模块之间的配合，测试结果应该保证程序可以在生产环境中工作。","position":{"start":{"line":26,"column":1,"offset":492},"end":{"line":26,"column":46,"offset":537}}}],"position":{"start":{"line":26,"column":1,"offset":492},"end":{"line":26,"column":46,"offset":537}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"python-中的测试"},"children":[{"type":"element","tagName":"a","properties":{"href":"#python-中的测试"},"children":[{"type":"text","value":"Python 中的测试","position":{"start":{"line":28,"column":4,"offset":544},"end":{"line":28,"column":15,"offset":555}}}]}],"position":{"start":{"line":28,"column":1,"offset":541},"end":{"line":28,"column":15,"offset":555}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"文件结构"},"children":[{"type":"element","tagName":"a","properties":{"href":"#文件结构"},"children":[{"type":"text","value":"文件结构","position":{"start":{"line":30,"column":5,"offset":563},"end":{"line":30,"column":9,"offset":567}}}]}],"position":{"start":{"line":30,"column":1,"offset":559},"end":{"line":30,"column":9,"offset":567}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"上一篇文章里面提到了 src-layout，在 setuptools 的官方文档里提供了","position":{"start":{"line":32,"column":1,"offset":571},"end":{"line":32,"column":45,"offset":615}}},{"type":"element","tagName":"a","properties":{"href":"https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure"},"children":[{"type":"text","value":"一篇博客文章","position":{"start":{"line":32,"column":46,"offset":616},"end":{"line":32,"column":52,"offset":622}}}],"position":{"start":{"line":32,"column":45,"offset":615},"end":{"line":32,"column":121,"offset":691}}},{"type":"text","value":"，里面提到，这种文件结构的一个优点就是，测试代码的文件夹一般和 ","position":{"start":{"line":32,"column":121,"offset":691},"end":{"line":32,"column":153,"offset":723}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"src/","position":{"start":{"line":32,"column":153,"offset":723},"end":{"line":32,"column":159,"offset":729}}}],"position":{"start":{"line":32,"column":153,"offset":723},"end":{"line":32,"column":159,"offset":729}}},{"type":"text","value":" 而不是 package 平级，这就导致运行测试的时候只能先（在虚拟环境里）安装待测试的包，而不会无意中出现测试的代码和用户下载到的内容不同的问题。","position":{"start":{"line":32,"column":159,"offset":729},"end":{"line":32,"column":233,"offset":803}}}],"position":{"start":{"line":32,"column":1,"offset":571},"end":{"line":32,"column":233,"offset":803}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<project_name>\r\n├── LICENSE\r\n├── pyproject.toml\r\n├── README.md\r\n├── src/\r\n│   └── <package_name>/\r\n│       ├── __init__.py\r\n│       └── example.py\r\n└── tests/\n"}],"position":{"start":{"line":34,"column":1,"offset":807},"end":{"line":44,"column":4,"offset":975}}}],"position":{"start":{"line":34,"column":1,"offset":807},"end":{"line":44,"column":4,"offset":975}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"单元测试unittest"},"children":[{"type":"element","tagName":"a","properties":{"href":"#单元测试unittest"},"children":[{"type":"text","value":"单元测试·","position":{"start":{"line":46,"column":5,"offset":983},"end":{"line":46,"column":10,"offset":988}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest","position":{"start":{"line":46,"column":10,"offset":988},"end":{"line":46,"column":20,"offset":998}}}],"position":{"start":{"line":46,"column":10,"offset":988},"end":{"line":46,"column":20,"offset":998}}}]}],"position":{"start":{"line":46,"column":1,"offset":979},"end":{"line":46,"column":20,"offset":998}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest","position":{"start":{"line":48,"column":1,"offset":1002},"end":{"line":48,"column":11,"offset":1012}}}],"position":{"start":{"line":48,"column":1,"offset":1002},"end":{"line":48,"column":11,"offset":1012}}},{"type":"text","value":" 是 Python 自带的单元测试库。","position":{"start":{"line":48,"column":11,"offset":1012},"end":{"line":48,"column":30,"offset":1031}}}],"position":{"start":{"line":48,"column":1,"offset":1002},"end":{"line":48,"column":30,"offset":1031}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"测试脚本的内容基本如下：","position":{"start":{"line":50,"column":1,"offset":1035},"end":{"line":50,"column":13,"offset":1047}}}],"position":{"start":{"line":50,"column":1,"offset":1035},"end":{"line":50,"column":13,"offset":1047}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import unittest\r\n\r\nclass TestName1(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nclass TestName2(unittest.TestCase):\r\n\r\n    def test_sum(self):\r\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\r\n\r\n    def test_sum_tuple(self):\r\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()\n"}],"position":{"start":{"line":52,"column":1,"offset":1051},"end":{"line":73,"column":4,"offset":1565}}}],"position":{"start":{"line":52,"column":1,"offset":1051},"end":{"line":73,"column":4,"offset":1565}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"测试用例包装在一个 class 里面，这个 class 继承自 ","position":{"start":{"line":75,"column":3,"offset":1571},"end":{"line":75,"column":35,"offset":1603}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest.TestCase","position":{"start":{"line":75,"column":35,"offset":1603},"end":{"line":75,"column":54,"offset":1622}}}],"position":{"start":{"line":75,"column":35,"offset":1603},"end":{"line":75,"column":54,"offset":1622}}}],"position":{"start":{"line":75,"column":1,"offset":1569},"end":{"line":75,"column":54,"offset":1622}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"所有测试方法名字以 “test” 开头，能测试的性质有限，都是类自带的方法，以 ","position":{"start":{"line":76,"column":3,"offset":1626},"end":{"line":76,"column":43,"offset":1666}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"self.","position":{"start":{"line":76,"column":43,"offset":1666},"end":{"line":76,"column":50,"offset":1673}}}],"position":{"start":{"line":76,"column":43,"offset":1666},"end":{"line":76,"column":50,"offset":1673}}},{"type":"text","value":" 开头。支持的方法见下表，感觉 ","position":{"start":{"line":76,"column":50,"offset":1673},"end":{"line":76,"column":66,"offset":1689}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[assertTrue(x)](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue)","position":{"start":{"line":76,"column":66,"offset":1689},"end":{"line":76,"column":161,"offset":1784}}}],"position":{"start":{"line":76,"column":66,"offset":1689},"end":{"line":76,"column":161,"offset":1784}}},{"type":"text","value":" 和 ","position":{"start":{"line":76,"column":161,"offset":1784},"end":{"line":76,"column":164,"offset":1787}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"assertRaises(Exception)","position":{"start":{"line":76,"column":164,"offset":1787},"end":{"line":76,"column":189,"offset":1812}}}],"position":{"start":{"line":76,"column":164,"offset":1787},"end":{"line":76,"column":189,"offset":1812}}},{"type":"text","value":" 包打一切","position":{"start":{"line":76,"column":189,"offset":1812},"end":{"line":76,"column":194,"offset":1817}}}],"position":{"start":{"line":76,"column":1,"offset":1624},"end":{"line":76,"column":194,"offset":1817}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"作为 ","position":{"start":{"line":77,"column":3,"offset":1821},"end":{"line":77,"column":6,"offset":1824}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"'__main__'","position":{"start":{"line":77,"column":6,"offset":1824},"end":{"line":77,"column":18,"offset":1836}}}],"position":{"start":{"line":77,"column":6,"offset":1824},"end":{"line":77,"column":18,"offset":1836}}},{"type":"text","value":" 运行，运行的是自带的函数 ","position":{"start":{"line":77,"column":18,"offset":1836},"end":{"line":77,"column":32,"offset":1850}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest.main()","position":{"start":{"line":77,"column":32,"offset":1850},"end":{"line":77,"column":49,"offset":1867}}}],"position":{"start":{"line":77,"column":32,"offset":1850},"end":{"line":77,"column":49,"offset":1867}}},{"type":"text","value":"。","position":{"start":{"line":77,"column":49,"offset":1867},"end":{"line":77,"column":50,"offset":1868}}}],"position":{"start":{"line":77,"column":1,"offset":1819},"end":{"line":77,"column":50,"offset":1868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"运行时需要 python 指明脚本的文件名。安装了 nose2 这个库的话，可以直接运行 ","position":{"start":{"line":78,"column":3,"offset":1872},"end":{"line":78,"column":48,"offset":1917}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"python -m nose2","position":{"start":{"line":78,"column":48,"offset":1917},"end":{"line":78,"column":65,"offset":1934}}}],"position":{"start":{"line":78,"column":48,"offset":1917},"end":{"line":78,"column":65,"offset":1934}}},{"type":"text","value":", 它会自动寻找所有的测试依次运行。（后面发现 ","position":{"start":{"line":78,"column":65,"offset":1934},"end":{"line":78,"column":89,"offset":1958}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest","position":{"start":{"line":78,"column":89,"offset":1958},"end":{"line":78,"column":99,"offset":1968}}}],"position":{"start":{"line":78,"column":89,"offset":1958},"end":{"line":78,"column":99,"offset":1968}}},{"type":"text","value":" 好像也有自动发现功能）","position":{"start":{"line":78,"column":99,"offset":1968},"end":{"line":78,"column":111,"offset":1980}}}],"position":{"start":{"line":78,"column":1,"offset":1870},"end":{"line":78,"column":111,"offset":1980}}},{"type":"text","value":"\n"}],"position":{"start":{"line":75,"column":1,"offset":1569},"end":{"line":78,"column":111,"offset":1980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"thead","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Method","position":{"start":{"line":80,"column":3,"offset":1986},"end":{"line":80,"column":9,"offset":1992}}}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":80,"column":10,"offset":1993}}},{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Checks that","position":{"start":{"line":80,"column":12,"offset":1995},"end":{"line":80,"column":23,"offset":2006}}}],"position":{"start":{"line":80,"column":10,"offset":1993},"end":{"line":80,"column":24,"offset":2007}}},{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"New in","position":{"start":{"line":80,"column":26,"offset":2009},"end":{"line":80,"column":32,"offset":2015}}}],"position":{"start":{"line":80,"column":24,"offset":2007},"end":{"line":80,"column":34,"offset":2017}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":80,"column":34,"offset":2017}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":80,"column":34,"offset":2017}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual"},"children":[{"type":"text","value":"unittest.TestCase.assertEqual","position":{"start":{"line":82,"column":12,"offset":2051},"end":{"line":82,"column":41,"offset":2080}}}],"position":{"start":{"line":82,"column":11,"offset":2050},"end":{"line":82,"column":121,"offset":2160}}}],"position":{"start":{"line":82,"column":1,"offset":2040},"end":{"line":82,"column":122,"offset":2161}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a == b","position":{"start":{"line":82,"column":124,"offset":2163},"end":{"line":82,"column":130,"offset":2169}}}],"position":{"start":{"line":82,"column":122,"offset":2161},"end":{"line":82,"column":131,"offset":2170}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[],"position":{"start":{"line":82,"column":131,"offset":2170},"end":{"line":82,"column":135,"offset":2174}}},{"type":"text","value":"\n"}],"position":{"start":{"line":82,"column":1,"offset":2040},"end":{"line":82,"column":135,"offset":2174}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual"},"children":[{"type":"text","value":"unittest.TestCase.assertNotEqual","position":{"start":{"line":83,"column":9,"offset":2184},"end":{"line":83,"column":41,"offset":2216}}}],"position":{"start":{"line":83,"column":8,"offset":2183},"end":{"line":83,"column":124,"offset":2299}}}],"position":{"start":{"line":83,"column":1,"offset":2176},"end":{"line":83,"column":125,"offset":2300}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a != b","position":{"start":{"line":83,"column":127,"offset":2302},"end":{"line":83,"column":133,"offset":2308}}}],"position":{"start":{"line":83,"column":125,"offset":2300},"end":{"line":83,"column":134,"offset":2309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[],"position":{"start":{"line":83,"column":134,"offset":2309},"end":{"line":83,"column":138,"offset":2313}}},{"type":"text","value":"\n"}],"position":{"start":{"line":83,"column":1,"offset":2176},"end":{"line":83,"column":138,"offset":2313}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue"},"children":[{"type":"text","value":"unittest.TestCase.assertTrue","position":{"start":{"line":84,"column":13,"offset":2327},"end":{"line":84,"column":41,"offset":2355}}}],"position":{"start":{"line":84,"column":12,"offset":2326},"end":{"line":84,"column":120,"offset":2434}}}],"position":{"start":{"line":84,"column":1,"offset":2315},"end":{"line":84,"column":121,"offset":2435}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"bool(x) is True","position":{"start":{"line":84,"column":123,"offset":2437},"end":{"line":84,"column":138,"offset":2452}}}],"position":{"start":{"line":84,"column":121,"offset":2435},"end":{"line":84,"column":139,"offset":2453}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[],"position":{"start":{"line":84,"column":139,"offset":2453},"end":{"line":84,"column":143,"offset":2457}}},{"type":"text","value":"\n"}],"position":{"start":{"line":84,"column":1,"offset":2315},"end":{"line":84,"column":143,"offset":2457}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse"},"children":[{"type":"text","value":"unittest.TestCase.assertFalse","position":{"start":{"line":85,"column":12,"offset":2470},"end":{"line":85,"column":41,"offset":2499}}}],"position":{"start":{"line":85,"column":11,"offset":2469},"end":{"line":85,"column":121,"offset":2579}}}],"position":{"start":{"line":85,"column":1,"offset":2459},"end":{"line":85,"column":122,"offset":2580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"bool(x) is False","position":{"start":{"line":85,"column":124,"offset":2582},"end":{"line":85,"column":140,"offset":2598}}}],"position":{"start":{"line":85,"column":122,"offset":2580},"end":{"line":85,"column":141,"offset":2599}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[],"position":{"start":{"line":85,"column":141,"offset":2599},"end":{"line":85,"column":145,"offset":2603}}},{"type":"text","value":"\n"}],"position":{"start":{"line":85,"column":1,"offset":2459},"end":{"line":85,"column":145,"offset":2603}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs"},"children":[{"type":"text","value":"unittest.TestCase.assertIs","position":{"start":{"line":86,"column":15,"offset":2619},"end":{"line":86,"column":41,"offset":2645}}}],"position":{"start":{"line":86,"column":14,"offset":2618},"end":{"line":86,"column":118,"offset":2722}}}],"position":{"start":{"line":86,"column":1,"offset":2605},"end":{"line":86,"column":119,"offset":2723}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a is b","position":{"start":{"line":86,"column":121,"offset":2725},"end":{"line":86,"column":127,"offset":2731}}}],"position":{"start":{"line":86,"column":119,"offset":2723},"end":{"line":86,"column":128,"offset":2732}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":86,"column":130,"offset":2734},"end":{"line":86,"column":133,"offset":2737}}}],"position":{"start":{"line":86,"column":128,"offset":2732},"end":{"line":86,"column":135,"offset":2739}}},{"type":"text","value":"\n"}],"position":{"start":{"line":86,"column":1,"offset":2605},"end":{"line":86,"column":135,"offset":2739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot"},"children":[{"type":"text","value":"unittest.TestCase.assertIsNot","position":{"start":{"line":87,"column":12,"offset":2752},"end":{"line":87,"column":41,"offset":2781}}}],"position":{"start":{"line":87,"column":11,"offset":2751},"end":{"line":87,"column":121,"offset":2861}}}],"position":{"start":{"line":87,"column":1,"offset":2741},"end":{"line":87,"column":122,"offset":2862}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a is not b","position":{"start":{"line":87,"column":124,"offset":2864},"end":{"line":87,"column":134,"offset":2874}}}],"position":{"start":{"line":87,"column":122,"offset":2862},"end":{"line":87,"column":135,"offset":2875}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":87,"column":137,"offset":2877},"end":{"line":87,"column":140,"offset":2880}}}],"position":{"start":{"line":87,"column":135,"offset":2875},"end":{"line":87,"column":142,"offset":2882}}},{"type":"text","value":"\n"}],"position":{"start":{"line":87,"column":1,"offset":2741},"end":{"line":87,"column":142,"offset":2882}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone"},"children":[{"type":"text","value":"unittest.TestCase.assertIsNone","position":{"start":{"line":88,"column":11,"offset":2894},"end":{"line":88,"column":41,"offset":2924}}}],"position":{"start":{"line":88,"column":10,"offset":2893},"end":{"line":88,"column":122,"offset":3005}}}],"position":{"start":{"line":88,"column":1,"offset":2884},"end":{"line":88,"column":123,"offset":3006}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"x is None","position":{"start":{"line":88,"column":125,"offset":3008},"end":{"line":88,"column":134,"offset":3017}}}],"position":{"start":{"line":88,"column":123,"offset":3006},"end":{"line":88,"column":135,"offset":3018}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":88,"column":137,"offset":3020},"end":{"line":88,"column":140,"offset":3023}}}],"position":{"start":{"line":88,"column":135,"offset":3018},"end":{"line":88,"column":142,"offset":3025}}},{"type":"text","value":"\n"}],"position":{"start":{"line":88,"column":1,"offset":2884},"end":{"line":88,"column":142,"offset":3025}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone"},"children":[{"type":"text","value":"unittest.TestCase.assertIsNotNone","position":{"start":{"line":89,"column":8,"offset":3034},"end":{"line":89,"column":41,"offset":3067}}}],"position":{"start":{"line":89,"column":7,"offset":3033},"end":{"line":89,"column":125,"offset":3151}}}],"position":{"start":{"line":89,"column":1,"offset":3027},"end":{"line":89,"column":126,"offset":3152}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"x is not None","position":{"start":{"line":89,"column":128,"offset":3154},"end":{"line":89,"column":141,"offset":3167}}}],"position":{"start":{"line":89,"column":126,"offset":3152},"end":{"line":89,"column":142,"offset":3168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":89,"column":144,"offset":3170},"end":{"line":89,"column":147,"offset":3173}}}],"position":{"start":{"line":89,"column":142,"offset":3168},"end":{"line":89,"column":149,"offset":3175}}},{"type":"text","value":"\n"}],"position":{"start":{"line":89,"column":1,"offset":3027},"end":{"line":89,"column":149,"offset":3175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn"},"children":[{"type":"text","value":"unittest.TestCase.assertIn","position":{"start":{"line":90,"column":15,"offset":3191},"end":{"line":90,"column":41,"offset":3217}}}],"position":{"start":{"line":90,"column":14,"offset":3190},"end":{"line":90,"column":118,"offset":3294}}}],"position":{"start":{"line":90,"column":1,"offset":3177},"end":{"line":90,"column":119,"offset":3295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a in b","position":{"start":{"line":90,"column":121,"offset":3297},"end":{"line":90,"column":127,"offset":3303}}}],"position":{"start":{"line":90,"column":119,"offset":3295},"end":{"line":90,"column":128,"offset":3304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":90,"column":130,"offset":3306},"end":{"line":90,"column":133,"offset":3309}}}],"position":{"start":{"line":90,"column":128,"offset":3304},"end":{"line":90,"column":135,"offset":3311}}},{"type":"text","value":"\n"}],"position":{"start":{"line":90,"column":1,"offset":3177},"end":{"line":90,"column":135,"offset":3311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn"},"children":[{"type":"text","value":"unittest.TestCase.assertNotIn","position":{"start":{"line":91,"column":12,"offset":3324},"end":{"line":91,"column":41,"offset":3353}}}],"position":{"start":{"line":91,"column":11,"offset":3323},"end":{"line":91,"column":121,"offset":3433}}}],"position":{"start":{"line":91,"column":1,"offset":3313},"end":{"line":91,"column":122,"offset":3434}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"a not in b","position":{"start":{"line":91,"column":124,"offset":3436},"end":{"line":91,"column":134,"offset":3446}}}],"position":{"start":{"line":91,"column":122,"offset":3434},"end":{"line":91,"column":135,"offset":3447}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.1","position":{"start":{"line":91,"column":137,"offset":3449},"end":{"line":91,"column":140,"offset":3452}}}],"position":{"start":{"line":91,"column":135,"offset":3447},"end":{"line":91,"column":142,"offset":3454}}},{"type":"text","value":"\n"}],"position":{"start":{"line":91,"column":1,"offset":3313},"end":{"line":91,"column":142,"offset":3454}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance"},"children":[{"type":"text","value":"unittest.TestCase.assertIsInstance","position":{"start":{"line":92,"column":7,"offset":3462},"end":{"line":92,"column":41,"offset":3496}}}],"position":{"start":{"line":92,"column":6,"offset":3461},"end":{"line":92,"column":126,"offset":3581}}}],"position":{"start":{"line":92,"column":1,"offset":3456},"end":{"line":92,"column":127,"offset":3582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"isinstance(a, b)","position":{"start":{"line":92,"column":129,"offset":3584},"end":{"line":92,"column":145,"offset":3600}}}],"position":{"start":{"line":92,"column":127,"offset":3582},"end":{"line":92,"column":146,"offset":3601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.2","position":{"start":{"line":92,"column":148,"offset":3603},"end":{"line":92,"column":151,"offset":3606}}}],"position":{"start":{"line":92,"column":146,"offset":3601},"end":{"line":92,"column":153,"offset":3608}}},{"type":"text","value":"\n"}],"position":{"start":{"line":92,"column":1,"offset":3456},"end":{"line":92,"column":153,"offset":3608}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance"},"children":[{"type":"text","value":"unittest.TestCase.assertNotIsInstance","position":{"start":{"line":93,"column":4,"offset":3613},"end":{"line":93,"column":41,"offset":3650}}}],"position":{"start":{"line":93,"column":3,"offset":3612},"end":{"line":93,"column":129,"offset":3738}}}],"position":{"start":{"line":93,"column":1,"offset":3610},"end":{"line":93,"column":130,"offset":3739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"not isinstance(a, b)","position":{"start":{"line":93,"column":132,"offset":3741},"end":{"line":93,"column":152,"offset":3761}}}],"position":{"start":{"line":93,"column":130,"offset":3739},"end":{"line":93,"column":153,"offset":3762}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"3.2","position":{"start":{"line":93,"column":155,"offset":3764},"end":{"line":93,"column":158,"offset":3767}}}],"position":{"start":{"line":93,"column":153,"offset":3762},"end":{"line":93,"column":160,"offset":3769}}},{"type":"text","value":"\n"}],"position":{"start":{"line":93,"column":1,"offset":3610},"end":{"line":93,"column":160,"offset":3769}}},{"type":"text","value":"\n"}],"position":{"start":{"line":82,"column":1,"offset":2040},"end":{"line":93,"column":160,"offset":3769}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":1984},"end":{"line":93,"column":160,"offset":3769}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"文档测试-1"},"children":[{"type":"element","tagName":"a","properties":{"href":"#文档测试-1"},"children":[{"type":"text","value":"文档测试","position":{"start":{"line":95,"column":5,"offset":3777},"end":{"line":95,"column":9,"offset":3781}}}]}],"position":{"start":{"line":95,"column":1,"offset":3773},"end":{"line":95,"column":9,"offset":3781}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840"},"children":[{"type":"text","value":"https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840","position":{"start":{"line":97,"column":2,"offset":3786},"end":{"line":97,"column":68,"offset":3852}}}],"position":{"start":{"line":97,"column":1,"offset":3785},"end":{"line":97,"column":137,"offset":3921}}}],"position":{"start":{"line":97,"column":1,"offset":3785},"end":{"line":97,"column":137,"offset":3921}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Python 的文档测试用的是 ","position":{"start":{"line":99,"column":1,"offset":3925},"end":{"line":99,"column":17,"offset":3941}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"doctest","position":{"start":{"line":99,"column":17,"offset":3941},"end":{"line":99,"column":26,"offset":3950}}}],"position":{"start":{"line":99,"column":17,"offset":3941},"end":{"line":99,"column":26,"offset":3950}}},{"type":"text","value":" 库，写法如下：","position":{"start":{"line":99,"column":26,"offset":3950},"end":{"line":99,"column":34,"offset":3958}}}],"position":{"start":{"line":99,"column":1,"offset":3925},"end":{"line":99,"column":34,"offset":3958}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"class":"shiki shiki-themes github-light github-dark","style":"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8","tabindex":"0"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" Dict"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"dict"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    '''"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    Simple dict but also support access as x.y style."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d1 = Dict()"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d1['x'] = 100"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d1.x"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    100"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d1.y = 200"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d1['y']"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    200"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d2 = Dict(a=1, b=2, c='3')"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d2.c"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    '3'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d2['empty']"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    Traceback (most recent call last):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    KeyError: 'empty'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    >>> "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"d2.empty"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    Traceback (most recent call last):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"        ..."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    AttributeError: 'Dict' object has no attribute 'empty'"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"    '''"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" __init__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self, "}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"**"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"kw):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        super"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(Dict, "}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")."}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"__init__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"**"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"kw)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" __getattr__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self, key):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"        try"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"            return"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"[key]"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"        except"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" KeyError"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"            raise"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" AttributeError"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#DBEDFF"},"children":[{"type":"text","value":"'Dict' object has no attribute '%s'"}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":" %"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" key)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" __setattr__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self, key, value):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"[key] "}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" value"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"if"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" __name__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"=="}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"'__main__'"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    import"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" doctest"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    doctest.testmod()"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在保持 docstring 缩进的前提下，","position":{"start":{"line":142,"column":1,"offset":4872},"end":{"line":142,"column":22,"offset":4893}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":">>>","position":{"start":{"line":142,"column":22,"offset":4893},"end":{"line":142,"column":27,"offset":4898}}}],"position":{"start":{"line":142,"column":22,"offset":4893},"end":{"line":142,"column":27,"offset":4898}}},{"type":"text","value":"  开头的注释会被当作测试运行，紧随其后的行将作为对比基准。只有当预期报错的时候，可以用 ","position":{"start":{"line":142,"column":27,"offset":4898},"end":{"line":142,"column":72,"offset":4943}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"...","position":{"start":{"line":142,"column":72,"offset":4943},"end":{"line":142,"column":77,"offset":4948}}}],"position":{"start":{"line":142,"column":72,"offset":4943},"end":{"line":142,"column":77,"offset":4948}}},{"type":"text","value":" 省略中间的报错信息。","position":{"start":{"line":142,"column":77,"offset":4948},"end":{"line":142,"column":88,"offset":4959}}}],"position":{"start":{"line":142,"column":1,"offset":4872},"end":{"line":142,"column":88,"offset":4959}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"集成测试-1"},"children":[{"type":"element","tagName":"a","properties":{"href":"#集成测试-1"},"children":[{"type":"text","value":"集成测试","position":{"start":{"line":144,"column":5,"offset":4967},"end":{"line":144,"column":9,"offset":4971}}}]}],"position":{"start":{"line":144,"column":1,"offset":4963},"end":{"line":144,"column":9,"offset":4971}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"也可以用 ","position":{"start":{"line":146,"column":1,"offset":4975},"end":{"line":146,"column":6,"offset":4980}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest","position":{"start":{"line":146,"column":6,"offset":4980},"end":{"line":146,"column":16,"offset":4990}}}],"position":{"start":{"line":146,"column":6,"offset":4980},"end":{"line":146,"column":16,"offset":4990}}},{"type":"text","value":" 完成。","position":{"start":{"line":146,"column":16,"offset":4990},"end":{"line":146,"column":20,"offset":4994}}}],"position":{"start":{"line":146,"column":1,"offset":4975},"end":{"line":146,"column":20,"offset":4994}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"和单元测试的区别在于，一般来说需要构建测试数据集等等。这需要重写 ","position":{"start":{"line":148,"column":1,"offset":4998},"end":{"line":148,"column":34,"offset":5031}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unittest.TestCase.setup()","position":{"start":{"line":148,"column":34,"offset":5031},"end":{"line":148,"column":61,"offset":5058}}}],"position":{"start":{"line":148,"column":34,"offset":5031},"end":{"line":148,"column":61,"offset":5058}}}],"position":{"start":{"line":148,"column":1,"offset":4998},"end":{"line":148,"column":61,"offset":5058}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{"class":"shiki shiki-themes github-light github-dark","style":"background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8","tabindex":"0"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"class"}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" TestComplexData"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"unittest"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"TestCase"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" setUp"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"        # load test data"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".app "}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":" App("}]},{"type":"element","tagName":"span","properties":{"style":"color:#E36209;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"database"}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"'fixtures/test_complex.json'"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" test_customer_count"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".assertEqual("}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"len"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".app.customers), "}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"10000"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tagName":"span","properties":{"style":"color:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" test_existence_of_customer"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"(self):"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"        customer "}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".app.get_customer("}]},{"type":"element","tagName":"span","properties":{"style":"color:#E36209;--shiki-dark:#FFAB70"},"children":[{"type":"text","value":"id"}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"9999"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".assertEqual(customer.name, "}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"u"}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"バナナ\""}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"        self"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":".assertEqual(customer.address, "}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"10 Red Road, Akihabara, Tokyo\""}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":"if"}]},{"type":"element","tagName":"span","properties":{"style":"color:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" __name__"}]},{"type":"element","tagName":"span","properties":{"style":"color:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":" =="}]},{"type":"element","tagName":"span","properties":{"style":"color:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" '__main__'"}]},{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":":"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"class":"line"},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"    unittest.main()"}]}]}]}]}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":166,"column":4,"offset":5599}}}},"__N_SSG":true}