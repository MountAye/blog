<!DOCTYPE html>
<!--
Material HTML5 Template (https://naveenshaji.github.io/material)
The MIT License (MIT)

Copyright (c) 2015 Naveen Shaji

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
-->

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>.py 转载：为什么俺推荐 Python[3]·作为面向对象语言的 Python | 阿掖山：一个博客</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content=".py 转载：为什么俺推荐 Python[3]·作为面向对象语言的 Python" />
<meta name="author" content="MountAye" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="前一个帖子介绍了作为动态语言的 Python，今天来聊一聊 Python 在面向对象编程（OOP）方面的特色。" />
<meta property="og:description" content="前一个帖子介绍了作为动态语言的 Python，今天来聊一聊 Python 在面向对象编程（OOP）方面的特色。" />
<link rel="canonical" href="https://mountaye.github.io/blog/articles/RP-why-choose-python-3-oop" />
<meta property="og:url" content="https://mountaye.github.io/blog/articles/RP-why-choose-python-3-oop" />
<meta property="og:site_name" content="阿掖山：一个博客" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-07T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content=".py 转载：为什么俺推荐 Python[3]·作为面向对象语言的 Python" />
<script type="application/ld+json">
{"headline":".py 转载：为什么俺推荐 Python[3]·作为面向对象语言的 Python","dateModified":"2019-02-07T00:00:00-06:00","url":"https://mountaye.github.io/blog/articles/RP-why-choose-python-3-oop","datePublished":"2019-02-07T00:00:00-06:00","author":{"@type":"Person","name":"MountAye"},"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mountaye.github.io/blog/articles/RP-why-choose-python-3-oop"},"description":"前一个帖子介绍了作为动态语言的 Python，今天来聊一聊 Python 在面向对象编程（OOP）方面的特色。","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="description" content="阿掖山：一个博客">
    <meta name="viewport" content="width=device-width, initial-scale=0.9, user-scalable=0">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="/blog//css/materialize.min.css" media="screen,projection" />
    <link rel="stylesheet" href="/blog//css/main.css">
    <link rel="canonical" href="https://mountaye.github.io/blog//articles/RP-why-choose-python-3-oop">
    <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script type="text/javascript" src="/blog//js/jquery.min.js"></script>
    <script src="/blog//js/jquery.nicescroll.min.js"></script>
    <script src="/blog//js/jquery.nicescroll.plus.js"></script>
    <script src="/blog//js/velocity.min.js"></script>
    <script src="/blog//js/skrollr.min.js"></script>
    <script src="/blog//js/jquery.scrolline.js"></script>
    <script type="text/javascript" src="/blog//js/modernizr.js"></script>
    <script type="text/javascript" src="/blog//js/materialize.min.js"></script>
    <script type="text/javascript" src="/blog//js/main.js"></script>
</head>

  <body class="blue lighten-5"> 
    <div class="preloader blue container-fluid row">
      <div class="white-text text-darken-4 xpretext"><h4>阿掖山：一个博客</h4></div>
      <div class="progress blue lighten-2 xpreloading">
        <div class="indeterminate blue darken-3"></div>
      </div>
    </div> 
    <header class="site-header">
  <div class="navbar-fixed">
    <nav class="blue darken-2 waves-effect waves-light">
      <div class="nav-wrapper">
        <div class="container">
          <a href="/blog//" class="brand-logo">
            <i class="mdi-communication-chat"></i>
            阿掖山：一个博客
          </a>
          <ul id="nav-mobile" class="right side-nav">
            <li><a href="/blog//History/">历史</a></li>
            <li><a href="/blog//Topics/">分类</a></li>
            <li><a href="/blog//Links/">友链</a></li>
            <li><a href="/blog//Comments/">留言</a></li>
            <li><a href="/blog//About/">关于</a></li>
          </ul>
          <a class="button-collapse" href="#" data-activates="nav-mobile"><i class="mdi-navigation-menu"></i></a>
        </div>
      </div>
    </nav>
  </div>
</header>

    <a class="darken-2 scrollToTop btn-floating btn-large waves-effect waves-light blue"><i class="mdi-hardware-keyboard-arrow-up"></i></a>
    <div id="page-wrap">
      <div id="main-content">
        <div id="guts">
          <div class="container">
            <div class="wrapper text-darken-3">
              <div id="skrollr-body">
  <div class="post container paper card" style="margin-top: 8em; margin-bottom: 5em;">
    <header class="post-header">
      <h1 class="post-title">.py | 转载：为什么俺推荐 Python[3]·作为面向对象语言的 Python</h1>
      <p class="post-meta">Feb 7, 2019</p>
    </header>
    <article class="post-content">
        <h3 id="文章目录">文章目录</h3>

<ul>
  <li><a href="#abstract">抽象（Abstraction）</a></li>
  <li><a href="#encap">封装（Encapsulation）</a></li>
  <li><a href="#inherit">继承（Inheritance）</a></li>
  <li><a href="#poly">多态（Polymorphism）</a></li>
  <li><a href="#summary">结尾</a></li>
</ul>

<p>本系列已经中断了很长时间 :( 直到最近一个读者来信问俺，为啥不继续写，俺才突然想起这个被遗忘的系列，实在是抱歉！前一个帖子介绍了作为动态语言的 Python，今天来聊一聊 Python 在面向对象编程（OOP）方面的特色。</p>

<p>本文主要针对那些熟悉 OOP，但还不熟悉 Python 的同学。为了让大伙儿有一个直观的认识，俺会拿 C++/Java 来进行语法上的对比。（这俩语言的名气够大，且号称支持 OO，也算有些可比性）</p>

<p>强调一下：本文虽然拿了某些语言来作对比，但丝毫没有贬低这些语言的意思，请这些语言的粉丝们，不要对号入座 :)</p>

<h1 id="抽象abstraction">抽象（Abstraction）<a name="abstract"></a></h1>

<p>但凡介绍 OOP，自然会提到抽象。因为抽象，是 OO 的第一要素，也是其它要素的基础。而提到抽象，又不免提到对象（Object）。所以，俺首先来聊一下，Python 语言是如何体现“对象”这个思想的。</p>

<h2 id="python的对象">Python的对象</h2>

<p>如果要问俺，什么是 Python 中的对象，还真不好下一个严密又通俗易懂的定义。为了敷衍大伙儿，俺只好用一句话来概括，那就是 Python 语言中，【一切皆对象】。这句话该如何理解捏？简单来说，就是你在 Python 语言中涉及到的各种东东，都是“对象”。比如，函数是对象、各种数值（比如整数值、浮点数值、布尔值）是对象、模块（类似于 Java 的 package）是对象、None（类似于 Java 的空引用 null、C++ 的空指针 NULL）也是对象、甚至连类（class）也是对象……</p>

<p>对比一下 C++ 和 Java 的语法：只有【类的实例】才能算得上是对象。这2个语言的基本类型（比如“int、char、float”等）不是对象，至于函数，就更算不上了。</p>

<p>既然是一切皆对象，俺有必要稍微总结一下，Python 对象的共性，否则初学 Python 的同学还是会一头雾水。</p>

<h2 id="对象的属性">对象的属性</h2>

<p>首先，所有的 Python 的对象，都具有若干个属性。你可以通过内置的 dir() 函数进行反射，从而了解到某个对象分别都包含哪些属性。熟悉 Java 的同学，应该明白啥是“反射”。光懂 C/C++ 的同学，如果理解上有困难，可以先参考“维基百科的解释”。</p>

<p>另外，Python 还提供了若干内置的函数，用于在【运行时】操作指定对象的属性。具体如下：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>  <span class="c1">#判断obj对象是否具有名为name的属性
</span><span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>  <span class="c1">#设置obj对象的名为name的属性值为value
</span><span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>  <span class="c1">#获取obj对象的名为name的属性值
</span><span class="nb">delattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>  <span class="c1">#删除obj对象的名为name的属性
</span>
</code></pre></div></div>

<h2 id="对象的类型">对象的类型</h2>

<p>所有的 Python 对象，都可以通过内置的 type() 函数获取该对象的类型。这实际上就是 Python 的 RTTI 机制的体现。懂 C++ 的同学，可以回忆一下 C++ 的 typeid 关键字；懂 Java 的同学，可以想一想 Java 的 instanceof 关键字。</p>

<h2 id="对象的标示">对象的标示</h2>

<p>所有的 Python 对象，都可以通过内置的 id() 函数获取该对象的【唯一】标示。而且当一个对象创建之后，这个唯一标示就会始终保持不变。对于学过 C/C++ 的同学，不妨把这个“唯一标示”想象成该对象在内存的地址。这或许有助于你的理解 :)</p>

<p>Python 对象还有其它一些共性，考虑到本文的扫盲性质，就不再费口水了。有兴趣的同学，可以自己找些入门书研读一番。</p>

<h2 id="一切皆对象的好处">【一切皆对象】的好处？</h2>

<p>可能有同学会问，“一切皆对象”有啥好处捏？俺窃以为：当一切皆为对象，就可以把很多概念、操作、惯用手法统一起来，在语法层面体现出美感。</p>

<p>下面俺举几个例子，并拿 Java 来对比一下。</p>

<p>在 Java 里面，由于基本类型不是继承自 Object 类，引出不少麻烦。当初 Java 它爹刚开始设计容器类（比如 Vector、ArrayList …）的时候，颇费了一番功夫。因为容器里面放置的东东必须是 Object，为了让容器能适应基本类型，只好给每一种基本类型分别对应一个派生自 Object 的包装类（Integer 类对应 int、Float 类对应 float …）；后来又平添了自动装箱/拆箱的概念；搞来稿去，产生了 N 多复杂性。</p>

<p>而 Python 就没有这方面的困扰。</p>

<p>再拿刚才提及的“反射”来说事儿。虽然 Java 语言支持对象的反射，但是 Java 的 package 不是 Object，所以也就无法对 package 进行反射。反观 Python，任何一个 module（相当于 Java 的 package）import 之后，都可以直接通过前面提到的 dir() 函数进行反射，得知该 module 包含了哪些东东。仅仅需要2行代码：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">xxx</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">xxx</span><span class="p">)</span>

</code></pre></div></div>

<h1 id="封装encapsulation">封装（Encapsulation）<a name="encap"></a></h1>

<p>为了避免歧义，首先要明确一下：什么是“封装”？为了叙述方便，俺把【OOP 的封装】，分为“狭义”和“广义”两种。（关于“封装”的深入讨论，可以参见“另一篇博文”）</p>

<h2 id="广义封装">广义封装</h2>

<p>OOP 很强调以数据为中心。所以 OOP 的广义封装，就是把数据和操作数据的行为，打包到一起。比如 C++/Java 里的 class，可以同时包含数据成员和函数成员，就算是满足“广义的封装”了。对于 Python 而言，其 class 关键字类似于 C++ 和 Java，也已经具有“广义的封装性”了。</p>

<h2 id="狭义封装">狭义封装</h2>

<p>而 OOP 的狭义封装，则更进一步，增加了信息隐藏（Information Hiding）。比如 C++ 和 Java 的“public、protected、private”等关键字，就是通过访问控制来达到信息隐藏的效果。Python 虽然没有针对访问控制的关键字来修饰类成员，但是 Python 采用了另外一套机制——根据命名来约定。在 Python 的对象中，如果某个属性以双下划线开头来命名（比如 __name），就能起到类似于 C++/Java 的 private 关键字的效果。</p>

<h2 id="对访问控制的偏见">对访问控制的偏见</h2>

<p>俺曾经在某技术论坛看到有人质疑 Python 的访问控制机制，说 Python 的私有属性，可以通过反射机制绕过，因此形同虚设。在此，俺想举 C++ 和 Java 来进行反驳。</p>

<p>在 Java 中，同样可以通过反射机制，来访问类的私有成员。至于 C++，得益于指针的强大，只要能访问某个对象（的 this 指针），通过计算该对象成员变量在内存中的偏移，一样可轻易对私有成员变量进行读写。虽然这么干挺变态滴，但技术上是可行滴。</p>

<h1 id="继承inheritance">继承（Inheritance）<a name="inherit"></a></h1>

<p>紧接着，咱再来说一下继承的话题。</p>

<h2 id="python-的继承">Python 的继承</h2>

<p>Python 没有像 Java 那样，区分出“类继承”（OO 的术语中也叫“实现继承”）和“接口继承”；也没有像 C++ 那样，区分出“公有继承、私有继承、保护继承”这么花哨的玩意儿。Python 就只有一种继承方式。</p>

<h2 id="继承的语法">继承的语法</h2>

<p>Python 的继承语法，相比 C++/Java 而言，更加简洁。比如子类 Child 需要继承父类 Parent，代码只需如下：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">)</span> <span class="p">:</span>
    <span class="c1"># xxxx
</span>
</code></pre></div></div>

<p>如果是多继承，代码大同小异：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">,</span> <span class="n">Parent3</span><span class="p">)</span> <span class="p">:</span>
    <span class="c1"># xxxx
</span>
</code></pre></div></div>

<p>假如你想知道某个类有哪些父类（基类），只需要通过 Child.<strong>bases</strong> 便可知晓。</p>

<h2 id="继承的动态性">继承的动态性</h2>

<p>其实上一个帖子已经介绍了动态改变继承关系的例子。但是考虑到上一个帖子年代久远（距本文将近1年），想必很多同学没看过或者看过又忘了。俺不妨再啰嗦一下：作为一种动态语言，Python 可以在【运行时】修改类的继承关系。这个特性比较酷，是 C++/Java 所望尘莫及滴。请看下面的例子：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">class</span> <span class="nc">Parent1</span> <span class="p">:</span>
    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"parent1"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Parent2</span> <span class="p">:</span>
    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"parent2"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Child</span> <span class="p">:</span>
    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"child"</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">Child</span><span class="p">.</span><span class="n">__bases__</span><span class="p">)</span>
<span class="n">Child</span><span class="p">.</span><span class="n">__bases__</span> <span class="o">+=</span> <span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">)</span>  <span class="c1"># 动态追加了2个父类
</span><span class="k">print</span><span class="p">(</span><span class="n">Child</span><span class="p">.</span><span class="n">__bases__</span><span class="p">)</span>  <span class="c1"># 此处打印出的父类信息中，已经包含 Parent1、Parent2
</span>
</code></pre></div></div>

<h1 id="多态polymorphism">多态（Polymorphism）<a name="poly"></a></h1>

<p>至于 Python 的多态，和传统的 OO 语言差不多，似乎没有太多值得说道的地方。俺简单举个代码作例子。为了省打字，直接复用上述的3个类，并增加一个 test() 函数如下：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">obj</span><span class="p">.</span><span class="n">dump</span><span class="p">()</span>

</code></pre></div></div>

<p>然后对 test() 函数分别传入不同的类型的对象，输出结果俺就无需多说了吧？</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">c</span> <span class="o">=</span> <span class="n">Child</span><span class="p">()</span>
<span class="n">test</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>  <span class="c1"># 打印出 child
</span><span class="n">p1</span> <span class="o">=</span> <span class="n">Parent1</span><span class="p">()</span>
<span class="n">test</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>  <span class="c1"># 打印出 parent1
</span>
</code></pre></div></div>

<h1 id="结尾">结尾<a name="summary"></a></h1>

<p>今天的话题，主要是让不熟悉 Python 的网友，对 Python 在面向对象方面的特性，有一个粗浅、感性的认识。聊完了 OOP，下一个帖子会聊一下关于 FP（函数式编程）的话题。</p>

<p><a href="/blog/articles/RP-why-choose-python-0-overview">回到本系列的目录</a></p>

<blockquote>
  <p><strong>版权声明</strong> <br />
本博客<label for="reference" class="margin-toggle sidenote-number"></label><input type="checkbox" id="reference" class="margin-toggle" /><span class="sidenote card">指编程随想的博客 </span>所有的原创文章，原作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者编程随想和本文原始地址: <br />
<a href="https://program-think.blogspot.com/2010/08/why-choose-python-3-oop.html">https://program-think.blogspot.com/2010/08/why-choose-python-3-oop.html</a></p>
</blockquote>

    </article>
    <br/><br/><br/>
  </div>
  <div class="comment container paper card" style="margin-bottom: 10em;">
    <h2>读者评论</h2><br>
    <script src="https://utteranc.es/client.js"
        repo="MountAye/blog"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    <!-- <div class="row">
  <div class="col s8">
    <ul class="tabs blue z-depth-1">
      <li class="waves-effect tab col s3 blue darken-1"><a class="white-text text-darken-4 active" href="#markdown">Markdown</a></li>
      <li class="waves-effect tab col s3 blue darken-1"><a class="white-text text-darken-4" href="#preview">Preview</a></li>
    </ul>
  </div>
  <br><br><br>
  <div id="markdown" class="col s8">
    <div class="row">
      <form class="col s12">
        <div class="row blue-text">
          <div class="input-field col s12">
            <input id="first_name" type="text" class="validate materialize-textarea blue-text text-darken-3">
            <label for="first_name" class="blue-text text-darken-3">Title</label>
          </div>
          <div class="input-field col s12 blue-text">
            <textarea id="textarea1" class="materialize-textarea blue-text text-darken-3"></textarea>
            <label for="textarea1" class="blue-text text-darken-3">Enter comment</label>
          </div>
        </div>
      </form>
    </div>
    <button class="blue darken-1 white-text text-darken-3 waves-effect waves-cyan waves-light btn" href="/"><i class="mdi-action-backup"></i> &nbsp; Log in to comment</button>
  </div>
  <div id="preview" class="col s12">
    hhhh
  </div>
</div> -->
    <br><br><br>
  </div>
</div>

            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 
<footer class="page-footer blue darken-2">
  <div class="container">
    <div class="row">
      
      <div class="col l3 m6 s12">
        <h5 class="white-text">social-links</h5>
        <ul>
          <li><a class="grey-text text-lighten-3" href="http://facebook.com/xSF.AzraeL/" target="_blank"><i class="mdi-social-person-add"></i> Facebook</a></li>
          <li><a class="grey-text text-lighten-3" href="https://plus.google.com/u/0/114363400342894379257/posts" target="_blank"><i class="mdi-social-plus-one"></i> Google+</a></li>
          <li><a class="grey-text text-lighten-3" href="http://github.com/naveenshaji/" target="_blank"><i class="mdi-notification-adb"></i> GitHub</a></li>
        </ul>
      </div>
             
      <div class="col l3 m6 s12">
      <h5 class="white-text">where-i-live</h5>
      <p class="grey-text text-lighten-4">TC 11/1827<br>West Cliff Gardens 35<br>Kowdiar, Trivandrum<br>&nbsp;</p>
      </div>
      
      <div class="col l3 m6 s12">
        <h5 class="white-text">contact-me</h5>
        <p class="grey-text text-lighten-4">+91-9496-74-7070<br>naveen@pixelblenders.com<br>xsf.azrael@gmail.com</p>
      </div>

                         
      <div class="col l3 m6 s12">
        <h5 class="white-text">MountAye</h5>
        <p class="grey-text text-lighten-4">MountAye: A Blog</p>
      </div>


    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      © 2021 MountAye
      <a class="grey-text text-lighten-4 right" href="http://mountaye.github.io/" target="_blank">MountAye</a>
    </div>
  </div>
</footer> -->

  </body>
</html>
