<!DOCTYPE html><html lang="zh-CN"><head><title>·如是我闻 | 生成式人工智能 | 阿掖山·博客</title><meta property="og:title" content="·如是我闻 | 生成式人工智能 | 阿掖山·博客"/><meta name="twitter:title" content="·如是我闻 | 生成式人工智能 | 阿掖山·博客"/><meta name="description" content=""/><meta property="og:description" content=""/><meta name="twitter:description" content=""/><meta property="og:image" content="https://blog.mountaye.com/assets/img/before_h2.png"/><meta name="twitter:image" content="https://blog.mountaye.com/assets/img/before_h2.png"/><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/><meta name="generator" content="Next.js v14.2.6"/><link rel="canonical" href="https://blog.mountaye.com/articles/afaik-generative-ai"/><link rel="icon" href="/favicon.ico" type="image/x-icon"/><meta property="og:locale" content="zh-CN"/><meta property="og:url" content="https://blog.mountaye.com/articles/afaik-generative-ai"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="17"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"/><link rel="preload" href="/_next/static/css/70a087ca0a2aa809.css" as="style"/><link rel="stylesheet" href="/_next/static/css/70a087ca0a2aa809.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a31ad1682388b068.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a31ad1682388b068.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-2df7a8d27de1794c.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-e618b1edbb350739.js" defer=""></script><script src="/_next/static/chunks/pages/_app-82a2279cdebeb61d.js" defer=""></script><script src="/_next/static/chunks/24-03c6412f1cc555e5.js" defer=""></script><script src="/_next/static/chunks/923-376360315f0822f9.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-9564c34343a7e645.js" defer=""></script><script src="/_next/static/buildID/_buildManifest.js" defer=""></script><script src="/_next/static/buildID/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div id="all" class="w-full h-max"><nav id="top" class="w-full h-11 sm:h-12 lg:h-14 fixed top-0 flex flex-row justify-between items-center z-50 bg-white dark:bg-black shadow-lg dark:shadow-gray-700 transition-transform"><a class="whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 text-primary underline-offset-4 hover:underline h-10 py-2 w-max px-2 flex flex-row justify-end items-center grow-0 shrink-0" href="/"><span class="relative flex shrink-0 overflow-hidden rounded-full h-9 w-9 sm:h-10 sm:w-10 md:h-12 md:w-12"><span class="flex h-full w-full items-center justify-center rounded-full bg-muted">Aye</span></span><div id="site title" class="pl-2 hidden sm:block"><span class="text-2xl font-serif dark:font-sans">阿掖山</span><span class="ml-[0.5em] text-base font-sans hidden lg:inline">博客</span></div></a><div class=" grow-0 shrink flex w-[25%]"><input type="text" class="flex h-10 w-full rounded-md border border-input px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 rounded-r-none bg-inherit dark:border-gray-700" id="search-input" placeholder="Search"/><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 border border-input hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-none border-x-0 bg-inherit dark:border-gray-700" type="button" id="radix-:R19km:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><span class="relative flex shrink-0 overflow-hidden h-5 w-5 rounded-none"><span class="flex h-full w-full items-center justify-center rounded-full bg-muted">Aye</span></span></button><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 border border-input hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-l-none bg-inherit dark:border-gray-700"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-4 w-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button></div><div class="flex flex-row"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 md:hidden px-1 md:px-2 lg:px-3" type="button" id="radix-:R2tkm:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layers"><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"></path><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"></path><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"></path></svg></button><div class="hidden md:block "><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1 md:px-2 lg:px-3" href="/history"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-history"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M12 7v5l4 2"></path></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1 md:px-2 lg:px-3" href="/topics"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tags"><path d="m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"></path><path d="M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="6.5" cy="9.5" r=".5" fill="currentColor"></circle></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1 md:px-2 lg:px-3" href="/discuss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-messages-square"><path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2z"></path><path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"></path></svg></a></div><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1 md:px-2 lg:px-3" type="button" id="radix-:R1dkm:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-languages w-5 h-5"><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"></path><path d="M14 18h6"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down w-4 h-4 hidden md:block"><path d="m6 9 6 6 6-6"></path></svg></button><div class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1 md:px-2 lg:px-3 flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><button type="button" role="switch" aria-checked="false" data-state="unchecked" value="off" class="peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input" id="night-mode"><span data-state="unchecked" class="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-500"></span></button><input type="checkbox" aria-hidden="true" style="transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0" tabindex="-1" value="off"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 hidden md:block" for="night-mode"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></div></div></nav><aside id="side" class="
                        hidden md:flex flex-col 
                        w-36 h-screen
                        fixed left-0 bottom-0 
                        z-40 bg-white dark:bg-black shadow-2xl dark:shadow-gray-700         
             "><div class="h-16 grow-0"></div><div class="grow py-20 px-4 text-base font-serif dark:font-sans text-wrap overflow-x-auto utils_right2left__q5Pl7 utils_verticalLines__s6Q8n"><p id="quote-line">智力活动是一种生活态度</p><p>——<span id="quote-author">阿掖山，一个博客</span></p></div><footer class="py-1 grow-0 shrink-0 flex flex-col items-center"><div class="text-sm"><p>阿掖山<!-- --> © <!-- -->2024<br/>作者保留版权</p></div><div class="flex flex-row"><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1" href="/feed.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss stroke-[#3c70c6]"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1" href="https://www.github.com/MountAye"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github stroke-[#3c70c6]"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1" href="https://www.twitter.com/MountAye"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter stroke-[#3c70c6]"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 hover:bg-accent hover:text-accent-foreground h-10 py-2 px-1" href="https://github.com/MountAye/comments/discussions/categories/blog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail stroke-[#3c70c6]"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></footer></aside><div id="main" class="
                    block h-full w-screen pt-16
                    sm:w-[640px] sm:ml-auto sm:mr-0 
                    md:w-[calc(100vw-144px)]
         "><div class="rounded-lg bg-card text-card-foreground w-full md:m-auto lg:w-[800px] shadow-2xl relative top-5 border-0 dark:shadow-gray-700"><div class="rounded-lg bg-card text-card-foreground w-full h-full border-0 shadow-lg dark:shadow-gray-700" id="top" style="background-image:none;background-size:cover"><div class="p-6 pt-0 backdrop-blur-sm bg-gray-50/70 dark:bg-black/70"><div data-orientation="vertical"><div data-state="closed" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="closed" class="flex"><button type="button" aria-controls="radix-:R4nkm:" aria-expanded="false" data-state="closed" data-orientation="vertical" id="radix-:Rnkm:" class="flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180" data-radix-collection-item=""><div style="position:relative;width:100%;padding-bottom:25%" data-radix-aspect-ratio-wrapper=""><div class="h-full flex flex-col justify-end items-start" style="position:absolute;top:0;right:0;bottom:0;left:0"><p id="date">2023 年 9 月 11 日</p><h1 id="title" class="py-2 text-start text-lg sm:text-2xl md:text-4xl text-[#3c70c6] font-semibold font-serif dark:font-sans">·如是我闻 | 生成式人工智能</h1><div id="tags" class="mt-1"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary hover:bg-primary/80 text-white dark:text-slate-400 text-sm mr-1 font-mono" style="background-color:#ffbf00"><a alt="IT类业余笔记" href="/articles/afaik-generative-ai#collection-md">md</a></div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary hover:bg-primary/80 text-white dark:text-slate-400 text-sm mr-1 font-mono" style="background-color:#708090"><a alt="机器学习和人工智能" href="/articles/afaik-generative-ai#collection-ai">ai</a></div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary hover:bg-primary/80 text-white dark:text-slate-400 text-sm mr-1 font-mono" style="background-color:#f87900"><a alt="如是我闻" href="/articles/afaik-generative-ai#collection-rss">rss</a></div></div></div></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="closed" id="radix-:R4nkm:" hidden="" role="region" aria-labelledby="radix-:Rnkm:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"></div></div></div></div></div><div class="hidden xl:block absolute -left-48 top-0 h-full"><div class="rounded-lg bg-card text-card-foreground sticky top-20 w-48 border-0 shadow-xl"><div class="p-6 py-4 pl-4 pr-0 text-nowrap overflow-clip text-ellipsis font-serif dark:font-sans"><div data-orientation="vertical"><div data-state="open" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="open" class="flex"><button type="button" aria-controls="radix-:R57km:" aria-expanded="true" data-state="open" data-orientation="vertical" id="radix-:R17km:" class="flex flex-1 items-center justify-between font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180 py-0" data-radix-collection-item=""><a href="#">目录</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="open" id="radix-:R57km:" role="region" aria-labelledby="radix-:R17km:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"><div class="pt-0 pl-4 pb-0"><ul><li><div data-orientation="vertical"><div data-state="closed" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="closed" class="flex"><button type="button" aria-controls="radix-:Rbd7km:" aria-expanded="false" data-state="closed" data-orientation="vertical" id="radix-:R3d7km:" class="flex flex-1 items-center justify-between font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180 py-0" data-radix-collection-item=""><a href="#%E7%94%9F%E6%88%90%E5%BC%8F%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B">生成式语言模型</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="closed" id="radix-:Rbd7km:" hidden="" role="region" aria-labelledby="radix-:R3d7km:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"></div></div></div></li><li><a href="#%E7%94%9F%E6%88%90%E5%BC%8F%E5%9B%BE%E5%83%8F%E6%A8%A1%E5%9E%8B">生成式图像模型</a></li></ul></div></div></div></div></div></div></div><div class="p-6 typeset_written___p4iY pt-10 pb-20"><h2 id="生成式语言模型"><a href="#生成式语言模型">生成式语言模型</a></h2>
<h3 id="模型"><a href="#模型">模型</a></h3>
<ul>
<li>OpenAI/GPT</li>
<li>Claude</li>
<li><code>bloomchat</code>, 可以商用 [<a href="https://github.com/sambanova/bloomchat">GitHub</a>]</li>
<li><code>falcon40B</code>
<ul>
<li>apache 2.0 许可证，可商用[<a href="http://huggingface.co/tiiuae">huggingface</a>]</li>
<li>gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [<a href="https://twitter.com/rickawsb/status/1666148546285043714">推特</a>]</li>
</ul>
</li>
<li><code>TigerBot</code>: 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [<a href="https://github.com/TigerResearch/TigerBot">GitHub</a>]</li>
<li><code>QLoRA</code>: 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [<a href="https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21">论文</a>] [<a href="https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21">GitHub</a>]</li>
<li><code>MBT 30B</code>: 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [<a href="https://twitter.com/fi56622380/status/1672137540281974784">Twitter</a>]</li>
<li><code>GLM-6B</code> &amp; <code>GLM2-6B</code>: 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[<a href="https://twitter.com/GanymedeNil/status/1679892021807550465">Twitter</a>][<a href="https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==&amp;mid=2247484214&amp;idx=1&amp;sn=e42153f987a74d1ffc7882f7cc09670d">微信公众号@GLM大模型</a>]</li>
<li><code>Llama 2</code>: Meta开源大语言模型Llama 2，可免费商用. [<a href="https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves">微信</a>介绍]<!-- -->
<ul>
<li>Jim Fan 评论 [<a href="https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves">推特，翻译</a>]</li>
<li>很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[<a href="https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves">推特</a>]</li>
<li><code>LLaMA-2-7B-32K</code>, context为32K的模型 [<a href="https://twitter.com/JefferyTatsuya/status/1685423475979325440">推特</a>][<a href="https://twitter.com/togethercompute/status/1685048832168714240">Twitter</a>]</li>
</ul>
</li>
</ul>
<h3 id="基于模型直接可用的产品"><a href="#基于模型直接可用的产品">基于模型，直接可用的产品</a></h3>
<ul>
<li>OpenAI/GPT<!-- -->
<ul>
<li>ChatGPT<!-- -->
<ul>
<li>2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[<a href="https://twitter.com/cryptonerdcn/status/1668733300070924288">Twitter</a>][<a href="https://openai.com/blog/function-calling-and-other-api-updates">OpenAI</a>][<a href="https://twitter.com/dotey/status/1668728109376450566">用法 Twitter@宝玉</a>]</li>
</ul>
</li>
<li>ChatGPT - Code Interpreter<!-- -->
<ul>
<li>介绍 [<a href="https://twitter.com/fuyufjh/status/1684191835210809344">推特</a>][<a href="https://www.youtube.com/watch?v=4wGlRrir_u4">YouTube</a>]</li>
<li>《ChatGPT 探索：Code Interpreter 高级指南》[<a href="https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves">微信@浮之静</a>]</li>
<li>源码可能被套出。[<a href="https://twitter.com/fuergaosi/status/1679457847237820416">Twitter</a>]</li>
<li>对 code interpreter 的逆向工程 [<a href="https://twitter.com/Yampeleg/status/1678045605527003136">Twitter</a>][<a href="https://mem.ai/p/xyy8ULiAce1BecTxnU0M">Mem</a>]</li>
</ul>
</li>
<li>OpenAI API<!-- -->
<ul>
<li>2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [<a href="https://twitter.com/dotey/status/1694207797351616703">推特</a>]</li>
</ul>
</li>
<li>OpenAI on Azure 内置了一个内容过滤器 [<a href="https://twitter.com/jw1dev/status/1666613728106938368">推特1</a>][<a href="https://twitter.com/jw1dev/status/1666622878962548740">推特2</a>]</li>
<li><code>forefront</code>: 完全免费 GPT-4 的工具 [<a href="https://accounts.forefront.ai/">登录</a>]，大概基于 <code>gptfree-ts</code> [<a href="https://github.com/xiangsx/gpt4free-ts">GitHub</a>]</li>
<li><code>BratGPT</code>: ChatGPT的激进版本。[<a href="https://bratgpt.com/">官网</a>]</li>
<li><code>SmartStudy</code>: 提供文本文档，创建10个问题的小测验。[<a href="https://smartstudy.streamlit.app/">官网</a>]</li>
<li><code>XrayGPT</code>: 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[<a href="https://twitter.com/CarsonYangk8s/status/1661588037892198401">GitHub</a>]</li>
<li><code>FinGPT</code>: 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [<a href="https://twitter.com/JefferyTatsuya/status/1668433680887615488">Twitter</a>]</li>
</ul>
</li>
<li>微软<!-- -->
<ul>
<li>BingAI<!-- -->
<ul>
<li>本地部署方案 [<a href="https://twitter.com/geekbb/status/1665692703055552513">推特</a>][<a href="https://github.com/adams549659584/go-proxy-bingai">GitHub</a>]</li>
</ul>
</li>
<li>VsCode Copilot</li>
<li>Office 365 Copilot: 每月每名用户30美元. [<a href="https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise">verge</a>][<a href="https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves">微信</a>]</li>
</ul>
</li>
<li>Claude+<!-- -->
<ul>
<li>例子：阅读多份行业报告 [<a href="https://twitter.com/iamshaynez/status/1684398211958730753">推特</a>]</li>
</ul>
</li>
<li><code>Llama</code>
<ul>
<li>llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[<a href="https://llama2.ai/">网站</a>]</li>
<li>WizardCoder 34B based on Code Llama 写代码 [<a href="https://twitter.com/dotey/status/1696202647269785875">推特</a>]</li>
</ul>
</li>
<li>WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [<a href="https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21">GitHub</a>]</li>
<li>mendable: 根据开发文档进行问答 [<a href="https://www.mendable.ai/usecases/documentation">官网</a>]</li>
<li>阅读 PDF 文档<!-- -->
<ul>
<li>Humata.ai</li>
<li>explainpaper</li>
<li>ChatPDF</li>
<li>[<a href="https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves">对比</a>] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。</li>
</ul>
</li>
<li>Obsidian-copliot: 快速获取文字的核心观点</li>
<li>视频内容梗概<!-- -->
<ul>
<li>Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [<a href="https://twitter.com/starzqeth/status/1640867876109422595">Twitter</a>]</li>
<li>summarize-tech: 5分钟了解长视频的要点. [<a href="https://twitter.com/starzqeth/status/1640867876109422595">Twitter</a>]</li>
</ul>
</li>
<li>webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [<a href="https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link">chrome</a>]</li>
</ul>
<h3 id="模型教程评论二次开发"><a href="#模型教程评论二次开发">模型教程、评论、二次开发</a></h3>
<ul>
<li>一般性原理<!-- -->
<ul>
<li>《Prompt 编写模式》[<a href="https://prompt-patterns.phodal.com">phodal</a>]</li>
<li>《LLM+Embedding构建问答系统的局限性及优化方案》[<a href="https://zhuanlan.zhihu.com/p/641132245">知乎</a>]</li>
<li>基于检索的 LM，外挂一个数据库用来检索。[<a href="https://twitter.com/cosmtrek/status/1678077835418955781">推特</a>][<a href="https://acl2023-retrieval-lm.github.io/">GitHub.io</a>]</li>
<li>一篇泼冷水的论文 [<a href="https://aclanthology.org/2023.findings-acl.426/">ACL Anthology</a>]</li>
<li>即刻出的Prompt调试工具。[<a href="https://twitter.com/vista8/status/1678784460786135040">Twitter</a>][<a href="https://promptknit.com/">官网</a>]</li>
</ul>
</li>
<li>GPT<!-- -->
<ul>
<li>GPT best practice [<a href="https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves">OpenAI</a>]</li>
<li>Andrew Ng 吴恩达 &amp; Isa Fulford from OpenAI 《Build system with <a href="https://twitter.com/hashtag/ChatGPT?src=hashtag_click">#ChatGPT</a> API》[推特@<strong><a href="https://twitter.com/JefferyTatsuya">金田達也</a></strong>]<!-- -->
<ul>
<li>借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [<a href="https://twitter.com/dotey/status/1665476562219573249">推特</a>]</li>
<li>同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [<a href="https://twitter.com/dotey/status/1668736426286915590">Twitter</a>1][<a href="https://twitter.com/dotey/status/1664335473500626946">Twitter2</a>]</li>
</ul>
</li>
<li>熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论<!-- -->
<ul>
<li><a href="https://twitter.com/waylybaye/status/1664253928970788864">Twitter@威力狈</a>：尝试了下用 ChatGPT 自动标注数据，效果太差了。</li>
<li><a href="https://twitter.com/dotey/status/1669028955842650139">Twitter@宝玉</a>：通常如果我写的话，会做一些小调整</li>
<li><a href="https://twitter.com/IIInoki">Twitter@IIInoki</a>：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错</li>
</ul>
</li>
<li>《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[<a href="https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions">橘子汽水铺</a>]</li>
</ul>
</li>
<li><code>LangChain</code>:<!-- -->
<ul>
<li>官方教程 [<a href="https://twitter.com/LangChainAI/status/1665009694627250176">推特</a>][<a href="https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/">streamlit</a>]</li>
<li>一个使用 LangChain 和 GPT Index 的教程 [<a href="https://leanpub.com/langchain">leanpub, 收费</a>][<a href="https://getpocket.com/read/3839490971">Pocket</a>]</li>
<li>LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [<a href="https://t.co/JXV1SBI2OA">YouTube</a>]<!-- -->
<ul>
<li>基于Embedding的文档问答。stuff, map reduce, refine, map rerank [<a href="https://twitter.com/dotey/status/1667790801420558342">Twitter@宝玉</a>]</li>
</ul>
</li>
<li>Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [<a href="https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves">streamlit</a>]</li>
<li>把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问<!-- -->
<ul>
<li>纯 JS 开源工具推荐 [<a href="https://twitter.com/Barret_China/status/1638119945749037056">推特</a>]</li>
<li>用 <code>LangChain</code> 六七行代码就可以搞定了 [<a href="https://js.langchain.com/docs/get_started/introduction">LangChain</a>]</li>
</ul>
</li>
</ul>
</li>
<li><code>AutoChain</code>
<ul>
<li>介绍 [<a href="https://twitter.com/zhangjintao9020/status/1683996172980199429">推特</a>][<a href="https://github.com/Forethought-Technologies/AutoChain">GitHub</a>]</li>
<li>《我为什么放弃了 LangChain》[<a href="https://twitter.com/Barret_China/status/1683135367862718465">推特</a>][<a href="https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A">微信</a>] 推友提出的 AutoChain 替代方案 [<a href="https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves">推特</a>]</li>
</ul>
</li>
<li><code>OpenDAN</code>: 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [<a href="https://twitter.com/Barret_China/status/1666455683758161920">GitHub</a>]</li>
<li>“视频语音↔文字”任务相关<!-- -->
<ul>
<li>指定视频URL，识别文字，翻译 [<a href="https://github.com/lewangdev/autotranslate">GitHub</a>]</li>
<li><code>WhisperX</code>: 按照单词对齐时间戳，生成的字幕都是完整的句子 [<a href="https://github.com/m-bain/whisperX">GitHub</a>]。[<a href="https://twitter.com/dotey/status/1667394662628204546">Twitter@宝玉</a>] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 <a href="https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb">Jupyter Notebook</a></li>
<li><code>audiocraft</code>: audio processing and generation with deep learning. [<a href="https://github.com/facebookresearch/audiocraft">GitHub</a>]</li>
<li><a href="https://twitter.com/Barret_China/status/1684218981639413760">[推特]</a> 小作文</li>
<li><code>yt-dlp</code> 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [<a href="https://twitter.com/Barret_China/status/1684228477644570624">推特</a>][<a href="https://github.com/yt-dlp/yt-dlp">GitHub</a>]</li>
</ul>
</li>
<li>ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [<a href="https://t.co/eqVc2LIfSz">链接失效</a>]</li>
<li><code>MusicGen</code>: 将文本和旋律转化为完整乐曲 [<a href="https://twitter.com/Fenng/status/1668141100610248705">Twitter</a>][<a href="https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21">ReadHub</a>]</li>
<li><code>MMS</code>: 一个声音模型 [<a href="https://huggingface.co/docs/transformers/main/en/model_doc/mms">HuggingFace</a>]</li>
<li><code>FRVR Forge</code>: AI-Powered End-to-End Game Creation [<a href="https://twitter.com/FRVRGames/status/1669758477789540365">Twitter</a>][<a href="https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21">官网</a>]</li>
</ul>
<h3 id="开发平台"><a href="#开发平台">开发平台</a></h3>
<p>Runpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[<a href="http://runpod.io">官网</a>]</p>
<h3 id="杂项"><a href="#杂项">杂项</a></h3>
<ul>
<li>2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：<!-- -->
<ul>
<li>路由器 Clash 规则 [<a href="https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves">推特</a>]</li>
<li>改用 Azure OpenAI service [<a href="https://twitter.com/zhangjintao9020/status/1662865819041402880">推特</a>]</li>
<li>Cloudflare WARP [<a href="https://haoel.github.io/">左耳朵</a>]</li>
</ul>
</li>
</ul>
<h2 id="生成式图像模型"><a href="#生成式图像模型">生成式图像模型</a></h2>
<p>2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[<a href="https://twitter.com/CodeByPoonam/status/1663824055164887040">推特</a>]</p>
<ul>
<li>配置要求极低，连Win掌机都能跑，但是不能断网。[<a href="https://twitter.com/OfflineHelper/status/1666042746866663424">推特</a>]</li>
<li>填充将横屏的视频转换为竖屏。[<a href="https://twitter.com/Alex_Cerrato/status/1681677307843432449">推特</a>]</li>
</ul>
<p><code>MidJourney</code></p>
<ul>
<li>在提示词中添加相机镜头信息。[<a href="https://twitter.com/4rtofficial/status/1663310457854099458">推特</a>]</li>
<li>zoom [<a href="https://twitter.com/jesselaunz/status/1674210886695923712">Twitter</a>]</li>
</ul>
<p><code>StableDiffusion</code></p>
<ul>
<li>Eric Fu: 训练指南. [<a href="https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader">Coding Husky</a>]</li>
<li>文字或者符号融合生成图片 [<a href="https://twitter.com/op7418/status/1680223090138316800">Twitter</a>][<a href="https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw">微信</a>]</li>
</ul>
<p><code>StyleDrop</code>: Google 基于 MUSE 的样式迁移 transformer [<a href="https://twitter.com/recatm/status/1665056017107886080">推特</a>][<a href="https://styledrop.github.io/">GitHub.io</a>]</p>
<p><code>Redream</code>: 从视频到二次元动画 [<a href="https://twitter.com/heyBarsee/status/1665034805384290307">推特</a>][<a href="https://github.com/Fictiverse/Redream">GitHub</a>]</p>
<p><code>Runway</code> Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [<a href="https://twitter.com/op7418/status/1666461595818504192">推特</a>][<a href="https://app.runwayml.com/login">需注册</a>]</p>
<p>一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [<a href="https://twitter.com/op7418/status/1669026494885285888">Twitter</a>] [<a href="https://anonymous-31415926.github.io/">GitHub.io</a>][<a href="https://twitter.com/rickawsb/status/1672310994390126593">Twitter2</a>][<a href="https://arxiv.org/abs/2306.07954">arxiv</a>]</p>
<p><code>AWPortrait1.1</code>: 图像生成 [<a href="https://twitter.com/dynamicwangs/status/1673730591462928385">Twitter</a>][<a href="https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8">LibLibai</a>]</p>
<p><code>Anything AI</code>: 可以取代照片中的任何物体。免费，不需要注册. [<a href="https://www.anything-ai.com/">官网</a>]</p>
<p><code>PixelLab</code>: 草图创建2D图像. [<a href="https://www.pixellab.ai/">官网</a>]</p></div><div class="absolute right-0 lg:-right-20 top-0 h-full"><div class="sticky top-[calc(100vh-60px)] lg:top-[calc(100vh-250px)] flex flex-row-reverse lg:flex-col"><a class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 text-primary-foreground hover:bg-primary/90 bg-[#3c70c6] h-fit w-fit px-2 py-2 m-2 rounded-full opacity-75 lg:opacity-100 hover:opacity-100" title="顶部" href="/articles/afaik-generative-ai#top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-big-up stroke-white dark:stroke-slate-400"><path d="M9 18v-6H5l7-7 7 7h-4v6H9z"></path></svg></a><a class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 text-primary-foreground hover:bg-primary/90 bg-[#3c70c6] h-fit w-fit px-2 py-2 m-2 rounded-full opacity-75 lg:opacity-100 hover:opacity-100" title="评论" href="/articles/afaik-generative-ai#comments"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more stroke-white dark:stroke-slate-400"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path><path d="M8 12h.01"></path><path d="M12 12h.01"></path><path d="M16 12h.01"></path></svg></a><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 text-primary-foreground hover:bg-primary/90 bg-[#3c70c6] h-fit w-fit px-2 py-2 m-2 rounded-full opacity-75 lg:opacity-100 hover:opacity-100" title="分享"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share2 stroke-white dark:stroke-slate-400"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg></button><button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:text-slate-400 text-primary-foreground hover:bg-primary/90 bg-[#3c70c6] h-fit w-fit px-2 py-2 m-2 rounded-full opacity-75 lg:opacity-100 hover:opacity-100" title="恰饭"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hand-heart stroke-white dark:stroke-slate-400"><path d="M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16"></path><path d="m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"></path><path d="m2 15 6 6"></path><path d="M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z"></path></svg></button></div></div></div><div class="rounded-lg bg-card text-card-foreground w-full md:m-auto lg:w-[800px] relative top-14 shadow-2xl border-0 dark:shadow-gray-700" id="collections"><div class="flex flex-col space-y-1.5 p-6">本文收录于以下合集：</div><div class="p-6 pt-0"><div data-orientation="vertical"><div data-state="closed" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="closed" class="flex"><button type="button" aria-controls="radix-:Rbbkm:" aria-expanded="false" data-state="closed" data-orientation="vertical" id="collection-md" class="flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180" data-radix-collection-item=""><p><span class="scroll-m-20 text-2xl font-semibold tracking-tight">.<!-- -->md</span><span class="ml-4">IT类业余笔记</span></p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="closed" id="radix-:Rbbkm:" hidden="" role="region" aria-labelledby="radix-:R3bkm:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"></div></div><div data-state="closed" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="closed" class="flex"><button type="button" aria-controls="radix-:Rdbkm:" aria-expanded="false" data-state="closed" data-orientation="vertical" id="collection-ai" class="flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180" data-radix-collection-item=""><p><span class="scroll-m-20 text-2xl font-semibold tracking-tight">.<!-- -->ai</span><span class="ml-4">机器学习和人工智能</span></p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="closed" id="radix-:Rdbkm:" hidden="" role="region" aria-labelledby="radix-:R5bkm:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"></div></div><div data-state="closed" data-orientation="vertical" class="border-b border-none"><h3 data-orientation="vertical" data-state="closed" class="flex"><button type="button" aria-controls="radix-:Rfbkm:" aria-expanded="false" data-state="closed" data-orientation="vertical" id="collection-rss" class="flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180" data-radix-collection-item=""><p><span class="scroll-m-20 text-2xl font-semibold tracking-tight">.<!-- -->rss</span><span class="ml-4">如是我闻</span></p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4 shrink-0 transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></h3><div data-state="closed" id="radix-:Rfbkm:" hidden="" role="region" aria-labelledby="radix-:R7bkm:" data-orientation="vertical" class="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down" style="--radix-accordion-content-height:var(--radix-collapsible-content-height);--radix-accordion-content-width:var(--radix-collapsible-content-width)"></div></div></div></div></div><div class="rounded-lg bg-card text-card-foreground w-full md:m-auto lg:w-[800px] relative top-20 shadow-2xl border-0 dark:shadow-gray-700" id="comments"><div class="p-6 pt-0"><div id="giscus" class="pt-16 utils_giscus__lppxx"></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"slug":"afaik-generative-ai","filename":"2023-09-11-afaik-generative-ai.md","date":"2023-09-11","title":"·如是我闻 | 生成式人工智能","layout":"post","keywords":["md","ai","rss"],"excerpt":"","content":"\n## 生成式语言模型\n\n### 模型\n\n- OpenAI/GPT\n- Claude\n- `bloomchat`, 可以商用 [[GitHub](https://github.com/sambanova/bloomchat)]\n- `falcon40B`\n    - apache 2.0 许可证，可商用[[huggingface](http://huggingface.co/tiiuae)]\n    - gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [[推特](https://twitter.com/rickawsb/status/1666148546285043714)]\n- `TigerBot`: 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [[GitHub](https://github.com/TigerResearch/TigerBot)]\n- `QLoRA`: 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [[论文](https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21)] [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- `MBT 30B`: 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [[Twitter](https://twitter.com/fi56622380/status/1672137540281974784)]\n- `GLM-6B` \u0026 `GLM2-6B`: 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[[Twitter](https://twitter.com/GanymedeNil/status/1679892021807550465)][[微信公众号@GLM大模型](https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==\u0026mid=2247484214\u0026idx=1\u0026sn=e42153f987a74d1ffc7882f7cc09670d)]\n- `Llama 2`: Meta开源大语言模型Llama 2，可免费商用. [[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)介绍]\n    - Jim Fan 评论 [[推特，翻译](https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves)]\n    - 很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[[推特](https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves)]\n    - `LLaMA-2-7B-32K`, context为32K的模型 [[推特](https://twitter.com/JefferyTatsuya/status/1685423475979325440)][[Twitter](https://twitter.com/togethercompute/status/1685048832168714240)]\n\n### 基于模型，直接可用的产品\n\n- OpenAI/GPT\n    - ChatGPT\n        - 2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[[Twitter](https://twitter.com/cryptonerdcn/status/1668733300070924288)][[OpenAI](https://openai.com/blog/function-calling-and-other-api-updates)][[用法 Twitter@宝玉](https://twitter.com/dotey/status/1668728109376450566)]\n    - ChatGPT - Code Interpreter\n        - 介绍 [[推特](https://twitter.com/fuyufjh/status/1684191835210809344)][[YouTube](https://www.youtube.com/watch?v=4wGlRrir_u4)]\n        - 《ChatGPT 探索：Code Interpreter 高级指南》[[微信@浮之静](https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves)]\n        - 源码可能被套出。[[Twitter](https://twitter.com/fuergaosi/status/1679457847237820416)]\n        - 对 code interpreter 的逆向工程 [[Twitter](https://twitter.com/Yampeleg/status/1678045605527003136)][[Mem](https://mem.ai/p/xyy8ULiAce1BecTxnU0M)]\n    - OpenAI API\n        - 2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [[推特](https://twitter.com/dotey/status/1694207797351616703)]\n    - OpenAI on Azure 内置了一个内容过滤器 [[推特1](https://twitter.com/jw1dev/status/1666613728106938368)][[推特2](https://twitter.com/jw1dev/status/1666622878962548740)]\n    - `forefront`: 完全免费 GPT-4 的工具 [[登录](https://accounts.forefront.ai/)]，大概基于 `gptfree-ts` [[GitHub](https://github.com/xiangsx/gpt4free-ts)]\n    - `BratGPT`: ChatGPT的激进版本。[[官网](https://bratgpt.com/)]\n    - `SmartStudy`: 提供文本文档，创建10个问题的小测验。[[官网](https://smartstudy.streamlit.app/)]\n    - `XrayGPT`: 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[[GitHub](https://twitter.com/CarsonYangk8s/status/1661588037892198401)]\n    - `FinGPT`: 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [[Twitter](https://twitter.com/JefferyTatsuya/status/1668433680887615488)]\n- 微软\n    - BingAI\n        - 本地部署方案 [[推特](https://twitter.com/geekbb/status/1665692703055552513)][[GitHub](https://github.com/adams549659584/go-proxy-bingai)]\n    - VsCode Copilot\n    - Office 365 Copilot: 每月每名用户30美元. [[verge](https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise)][[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)]\n- Claude+\n    - 例子：阅读多份行业报告 [[推特](https://twitter.com/iamshaynez/status/1684398211958730753)]\n- `Llama`\n    - llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[[网站](https://llama2.ai/)]\n    - WizardCoder 34B based on Code Llama 写代码 [[推特](https://twitter.com/dotey/status/1696202647269785875)]\n- WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- mendable: 根据开发文档进行问答 [[官网](https://www.mendable.ai/usecases/documentation)]\n- 阅读 PDF 文档\n    - Humata.ai\n    - explainpaper\n    - ChatPDF\n    - [[对比](https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves)] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。\n- Obsidian-copliot: 快速获取文字的核心观点\n- 视频内容梗概\n    - Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n    - summarize-tech: 5分钟了解长视频的要点. [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n- webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [[chrome](https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link)]\n\n### 模型教程、评论、二次开发\n\n- 一般性原理\n    - 《Prompt 编写模式》[[phodal](https://prompt-patterns.phodal.com)]\n    - 《LLM+Embedding构建问答系统的局限性及优化方案》[[知乎](https://zhuanlan.zhihu.com/p/641132245)]\n    - 基于检索的 LM，外挂一个数据库用来检索。[[推特](https://twitter.com/cosmtrek/status/1678077835418955781)][[GitHub.io](https://acl2023-retrieval-lm.github.io/)]\n    - 一篇泼冷水的论文 [[ACL Anthology](https://aclanthology.org/2023.findings-acl.426/)]\n    - 即刻出的Prompt调试工具。[[Twitter](https://twitter.com/vista8/status/1678784460786135040)][[官网](https://promptknit.com/)]\n- GPT\n    - GPT best practice [[OpenAI](https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves)]\n    - Andrew Ng 吴恩达 \u0026 Isa Fulford from OpenAI 《Build system with [#ChatGPT](https://twitter.com/hashtag/ChatGPT?src=hashtag_click) API》[推特@**[金田達也](https://twitter.com/JefferyTatsuya)**]\n        - 借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [[推特](https://twitter.com/dotey/status/1665476562219573249)]\n        - 同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [[Twitter](https://twitter.com/dotey/status/1668736426286915590)1][[Twitter2](https://twitter.com/dotey/status/1664335473500626946)]\n    - 熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论\n        - [Twitter@威力狈](https://twitter.com/waylybaye/status/1664253928970788864)：尝试了下用 ChatGPT 自动标注数据，效果太差了。\n        - [Twitter@宝玉](https://twitter.com/dotey/status/1669028955842650139)：通常如果我写的话，会做一些小调整\n        - [Twitter@IIInoki](https://twitter.com/IIInoki)：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错\n    - 《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[[橘子汽水铺](https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions)]\n- `LangChain`:\n    - 官方教程 [[推特](https://twitter.com/LangChainAI/status/1665009694627250176)][[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/)]\n    - 一个使用 LangChain 和 GPT Index 的教程 [[leanpub, 收费](https://leanpub.com/langchain)][[Pocket](https://getpocket.com/read/3839490971)]\n    - LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [[YouTube](https://t.co/JXV1SBI2OA)]\n        - 基于Embedding的文档问答。stuff, map reduce, refine, map rerank [[Twitter@宝玉](https://twitter.com/dotey/status/1667790801420558342)]\n    - Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves)]\n    - 把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问\n        - 纯 JS 开源工具推荐 [[推特](https://twitter.com/Barret_China/status/1638119945749037056)]\n        - 用 `LangChain` 六七行代码就可以搞定了 [[LangChain](https://js.langchain.com/docs/get_started/introduction)]\n- `AutoChain`\n    - 介绍 [[推特](https://twitter.com/zhangjintao9020/status/1683996172980199429)][[GitHub](https://github.com/Forethought-Technologies/AutoChain)]\n    - 《我为什么放弃了 LangChain》[[推特](https://twitter.com/Barret_China/status/1683135367862718465)][[微信](https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A)] 推友提出的 AutoChain 替代方案 [[推特](https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves)]\n- `OpenDAN`: 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [[GitHub](https://twitter.com/Barret_China/status/1666455683758161920)]\n- “视频语音↔文字”任务相关\n    - 指定视频URL，识别文字，翻译 [[GitHub](https://github.com/lewangdev/autotranslate)]\n    - `WhisperX`: 按照单词对齐时间戳，生成的字幕都是完整的句子 [[GitHub](https://github.com/m-bain/whisperX)]。[[Twitter@宝玉](https://twitter.com/dotey/status/1667394662628204546)] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 [Jupyter Notebook](https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb)\n    - `audiocraft`: audio processing and generation with deep learning. [[GitHub](https://github.com/facebookresearch/audiocraft)]\n    - [[推特]](https://twitter.com/Barret_China/status/1684218981639413760) 小作文\n    - `yt-dlp` 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [[推特](https://twitter.com/Barret_China/status/1684228477644570624)][[GitHub](https://github.com/yt-dlp/yt-dlp)]\n- ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [[链接失效](https://t.co/eqVc2LIfSz)]\n- `MusicGen`: 将文本和旋律转化为完整乐曲 [[Twitter](https://twitter.com/Fenng/status/1668141100610248705)][[ReadHub](https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21)]\n- `MMS`: 一个声音模型 [[HuggingFace](https://huggingface.co/docs/transformers/main/en/model_doc/mms)]\n- `FRVR Forge`: AI-Powered End-to-End Game Creation [[Twitter](https://twitter.com/FRVRGames/status/1669758477789540365)][[官网](https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21)]\n\n### 开发平台\n\nRunpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[[官网](http://runpod.io)]\n\n### 杂项\n\n- 2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：\n    - 路由器 Clash 规则 [[推特](https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves)]\n    - 改用 Azure OpenAI service [[推特](https://twitter.com/zhangjintao9020/status/1662865819041402880)]\n    - Cloudflare WARP [[左耳朵](https://haoel.github.io/)]\n\n## 生成式图像模型\n\n2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[[推特](https://twitter.com/CodeByPoonam/status/1663824055164887040)]\n\n- 配置要求极低，连Win掌机都能跑，但是不能断网。[[推特](https://twitter.com/OfflineHelper/status/1666042746866663424)]\n- 填充将横屏的视频转换为竖屏。[[推特](https://twitter.com/Alex_Cerrato/status/1681677307843432449)]\n\n`MidJourney`\n\n- 在提示词中添加相机镜头信息。[[推特](https://twitter.com/4rtofficial/status/1663310457854099458)]\n- zoom [[Twitter](https://twitter.com/jesselaunz/status/1674210886695923712)]\n\n`StableDiffusion`\n\n- Eric Fu: 训练指南. [[Coding Husky](https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader)]\n- 文字或者符号融合生成图片 [[Twitter](https://twitter.com/op7418/status/1680223090138316800)][[微信](https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw)]\n\n`StyleDrop`: Google 基于 MUSE 的样式迁移 transformer [[推特](https://twitter.com/recatm/status/1665056017107886080)][[GitHub.io](https://styledrop.github.io/)]\n\n`Redream`: 从视频到二次元动画 [[推特](https://twitter.com/heyBarsee/status/1665034805384290307)][[GitHub](https://github.com/Fictiverse/Redream)]\n\n`Runway` Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [[推特](https://twitter.com/op7418/status/1666461595818504192)][[需注册](https://app.runwayml.com/login)]\n\n一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [[Twitter](https://twitter.com/op7418/status/1669026494885285888)] [[GitHub.io](https://anonymous-31415926.github.io/)][[Twitter2](https://twitter.com/rickawsb/status/1672310994390126593)][[arxiv](https://arxiv.org/abs/2306.07954)]\n\n`AWPortrait1.1`: 图像生成 [[Twitter](https://twitter.com/dynamicwangs/status/1673730591462928385)][[LibLibai](https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8)] \n\n`Anything AI`: 可以取代照片中的任何物体。免费，不需要注册. [[官网](https://www.anything-ai.com/)]\n\n`PixelLab`: 草图创建2D图像. [[官网](https://www.pixellab.ai/)]\n"},"tocStr":"{\"index\":null,\"endIndex\":null,\"map\":{\"type\":\"list\",\"ordered\":false,\"spread\":true,\"children\":[{\"type\":\"listItem\",\"spread\":true,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#生成式语言模型\",\"children\":[{\"type\":\"text\",\"value\":\"生成式语言模型\"}]}]},{\"type\":\"list\",\"ordered\":false,\"spread\":false,\"children\":[{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#模型\",\"children\":[{\"type\":\"text\",\"value\":\"模型\"}]}]}]},{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#基于模型直接可用的产品\",\"children\":[{\"type\":\"text\",\"value\":\"基于模型，直接可用的产品\"}]}]}]},{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#模型教程评论二次开发\",\"children\":[{\"type\":\"text\",\"value\":\"模型教程、评论、二次开发\"}]}]}]},{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#开发平台\",\"children\":[{\"type\":\"text\",\"value\":\"开发平台\"}]}]}]},{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#杂项\",\"children\":[{\"type\":\"text\",\"value\":\"杂项\"}]}]}]}]}]},{\"type\":\"listItem\",\"spread\":false,\"children\":[{\"type\":\"paragraph\",\"children\":[{\"type\":\"link\",\"title\":null,\"url\":\"#生成式图像模型\",\"children\":[{\"type\":\"text\",\"value\":\"生成式图像模型\"}]}]}]}]}}","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{"id":"生成式语言模型"},"children":[{"type":"element","tagName":"a","properties":{"href":"#生成式语言模型"},"children":[{"type":"text","value":"生成式语言模型","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":11,"offset":11}}}]}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":11,"offset":11}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"模型"},"children":[{"type":"element","tagName":"a","properties":{"href":"#模型"},"children":[{"type":"text","value":"模型","position":{"start":{"line":4,"column":5,"offset":17},"end":{"line":4,"column":7,"offset":19}}}]}],"position":{"start":{"line":4,"column":1,"offset":13},"end":{"line":4,"column":7,"offset":19}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"OpenAI/GPT","position":{"start":{"line":6,"column":3,"offset":23},"end":{"line":6,"column":13,"offset":33}}}],"position":{"start":{"line":6,"column":1,"offset":21},"end":{"line":6,"column":13,"offset":33}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Claude","position":{"start":{"line":7,"column":3,"offset":36},"end":{"line":7,"column":9,"offset":42}}}],"position":{"start":{"line":7,"column":1,"offset":34},"end":{"line":7,"column":9,"offset":42}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bloomchat","position":{"start":{"line":8,"column":3,"offset":45},"end":{"line":8,"column":14,"offset":56}}}],"position":{"start":{"line":8,"column":3,"offset":45},"end":{"line":8,"column":14,"offset":56}}},{"type":"text","value":", 可以商用 [","position":{"start":{"line":8,"column":14,"offset":56},"end":{"line":8,"column":22,"offset":64}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/sambanova/bloomchat"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":8,"column":23,"offset":65},"end":{"line":8,"column":29,"offset":71}}}],"position":{"start":{"line":8,"column":22,"offset":64},"end":{"line":8,"column":70,"offset":112}}},{"type":"text","value":"]","position":{"start":{"line":8,"column":70,"offset":112},"end":{"line":8,"column":71,"offset":113}}}],"position":{"start":{"line":8,"column":1,"offset":43},"end":{"line":8,"column":71,"offset":113}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"falcon40B","position":{"start":{"line":9,"column":3,"offset":116},"end":{"line":9,"column":14,"offset":127}}}],"position":{"start":{"line":9,"column":3,"offset":116},"end":{"line":9,"column":14,"offset":127}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"apache 2.0 许可证，可商用[","position":{"start":{"line":10,"column":7,"offset":134},"end":{"line":10,"column":26,"offset":153}}},{"type":"element","tagName":"a","properties":{"href":"http://huggingface.co/tiiuae"},"children":[{"type":"text","value":"huggingface","position":{"start":{"line":10,"column":27,"offset":154},"end":{"line":10,"column":38,"offset":165}}}],"position":{"start":{"line":10,"column":26,"offset":153},"end":{"line":10,"column":69,"offset":196}}},{"type":"text","value":"]","position":{"start":{"line":10,"column":69,"offset":196},"end":{"line":10,"column":70,"offset":197}}}],"position":{"start":{"line":10,"column":5,"offset":132},"end":{"line":10,"column":70,"offset":197}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [","position":{"start":{"line":11,"column":7,"offset":204},"end":{"line":11,"column":47,"offset":244}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/rickawsb/status/1666148546285043714"},"children":[{"type":"text","value":"推特","position":{"start":{"line":11,"column":48,"offset":245},"end":{"line":11,"column":50,"offset":247}}}],"position":{"start":{"line":11,"column":47,"offset":244},"end":{"line":11,"column":108,"offset":305}}},{"type":"text","value":"]","position":{"start":{"line":11,"column":108,"offset":305},"end":{"line":11,"column":109,"offset":306}}}],"position":{"start":{"line":11,"column":5,"offset":202},"end":{"line":11,"column":109,"offset":306}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":5,"offset":132},"end":{"line":11,"column":109,"offset":306}}},{"type":"text","value":"\n"}],"position":{"start":{"line":9,"column":1,"offset":114},"end":{"line":11,"column":109,"offset":306}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"TigerBot","position":{"start":{"line":12,"column":3,"offset":309},"end":{"line":12,"column":13,"offset":319}}}],"position":{"start":{"line":12,"column":3,"offset":309},"end":{"line":12,"column":13,"offset":319}}},{"type":"text","value":": 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [","position":{"start":{"line":12,"column":13,"offset":319},"end":{"line":12,"column":50,"offset":356}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/TigerResearch/TigerBot"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":12,"column":51,"offset":357},"end":{"line":12,"column":57,"offset":363}}}],"position":{"start":{"line":12,"column":50,"offset":356},"end":{"line":12,"column":101,"offset":407}}},{"type":"text","value":"]","position":{"start":{"line":12,"column":101,"offset":407},"end":{"line":12,"column":102,"offset":408}}}],"position":{"start":{"line":12,"column":1,"offset":307},"end":{"line":12,"column":102,"offset":408}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"QLoRA","position":{"start":{"line":13,"column":3,"offset":411},"end":{"line":13,"column":10,"offset":418}}}],"position":{"start":{"line":13,"column":3,"offset":411},"end":{"line":13,"column":10,"offset":418}}},{"type":"text","value":": 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [","position":{"start":{"line":13,"column":10,"offset":418},"end":{"line":13,"column":82,"offset":490}}},{"type":"element","tagName":"a","properties":{"href":"https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21"},"children":[{"type":"text","value":"论文","position":{"start":{"line":13,"column":83,"offset":491},"end":{"line":13,"column":85,"offset":493}}}],"position":{"start":{"line":13,"column":82,"offset":490},"end":{"line":13,"column":242,"offset":650}}},{"type":"text","value":"] [","position":{"start":{"line":13,"column":242,"offset":650},"end":{"line":13,"column":245,"offset":653}}},{"type":"element","tagName":"a","properties":{"href":"https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":13,"column":246,"offset":654},"end":{"line":13,"column":252,"offset":660}}}],"position":{"start":{"line":13,"column":245,"offset":653},"end":{"line":13,"column":320,"offset":728}}},{"type":"text","value":"]","position":{"start":{"line":13,"column":320,"offset":728},"end":{"line":13,"column":321,"offset":729}}}],"position":{"start":{"line":13,"column":1,"offset":409},"end":{"line":13,"column":321,"offset":729}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MBT 30B","position":{"start":{"line":14,"column":3,"offset":732},"end":{"line":14,"column":12,"offset":741}}}],"position":{"start":{"line":14,"column":3,"offset":732},"end":{"line":14,"column":12,"offset":741}}},{"type":"text","value":": 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [","position":{"start":{"line":14,"column":12,"offset":741},"end":{"line":14,"column":51,"offset":780}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/fi56622380/status/1672137540281974784"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":14,"column":52,"offset":781},"end":{"line":14,"column":59,"offset":788}}}],"position":{"start":{"line":14,"column":51,"offset":780},"end":{"line":14,"column":119,"offset":848}}},{"type":"text","value":"]","position":{"start":{"line":14,"column":119,"offset":848},"end":{"line":14,"column":120,"offset":849}}}],"position":{"start":{"line":14,"column":1,"offset":730},"end":{"line":14,"column":120,"offset":849}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GLM-6B","position":{"start":{"line":15,"column":3,"offset":852},"end":{"line":15,"column":11,"offset":860}}}],"position":{"start":{"line":15,"column":3,"offset":852},"end":{"line":15,"column":11,"offset":860}}},{"type":"text","value":" \u0026 ","position":{"start":{"line":15,"column":11,"offset":860},"end":{"line":15,"column":14,"offset":863}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GLM2-6B","position":{"start":{"line":15,"column":14,"offset":863},"end":{"line":15,"column":23,"offset":872}}}],"position":{"start":{"line":15,"column":14,"offset":863},"end":{"line":15,"column":23,"offset":872}}},{"type":"text","value":": 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[","position":{"start":{"line":15,"column":23,"offset":872},"end":{"line":15,"column":67,"offset":916}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/GanymedeNil/status/1679892021807550465"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":15,"column":68,"offset":917},"end":{"line":15,"column":75,"offset":924}}}],"position":{"start":{"line":15,"column":67,"offset":916},"end":{"line":15,"column":136,"offset":985}}},{"type":"text","value":"][","position":{"start":{"line":15,"column":136,"offset":985},"end":{"line":15,"column":138,"offset":987}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==\u0026mid=2247484214\u0026idx=1\u0026sn=e42153f987a74d1ffc7882f7cc09670d"},"children":[{"type":"text","value":"微信公众号@GLM大模型","position":{"start":{"line":15,"column":139,"offset":988},"end":{"line":15,"column":151,"offset":1000}}}],"position":{"start":{"line":15,"column":138,"offset":987},"end":{"line":15,"column":260,"offset":1109}}},{"type":"text","value":"]","position":{"start":{"line":15,"column":260,"offset":1109},"end":{"line":15,"column":261,"offset":1110}}}],"position":{"start":{"line":15,"column":1,"offset":850},"end":{"line":15,"column":261,"offset":1110}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Llama 2","position":{"start":{"line":16,"column":3,"offset":1113},"end":{"line":16,"column":12,"offset":1122}}}],"position":{"start":{"line":16,"column":3,"offset":1113},"end":{"line":16,"column":12,"offset":1122}}},{"type":"text","value":": Meta开源大语言模型Llama 2，可免费商用. [","position":{"start":{"line":16,"column":12,"offset":1122},"end":{"line":16,"column":41,"offset":1151}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves"},"children":[{"type":"text","value":"微信","position":{"start":{"line":16,"column":42,"offset":1152},"end":{"line":16,"column":44,"offset":1154}}}],"position":{"start":{"line":16,"column":41,"offset":1151},"end":{"line":16,"column":120,"offset":1230}}},{"type":"text","value":"介绍]","position":{"start":{"line":16,"column":120,"offset":1230},"end":{"line":16,"column":123,"offset":1233}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Jim Fan 评论 [","position":{"start":{"line":17,"column":7,"offset":1240},"end":{"line":17,"column":19,"offset":1252}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves"},"children":[{"type":"text","value":"推特，翻译","position":{"start":{"line":17,"column":20,"offset":1253},"end":{"line":17,"column":25,"offset":1258}}}],"position":{"start":{"line":17,"column":19,"offset":1252},"end":{"line":17,"column":104,"offset":1337}}},{"type":"text","value":"]","position":{"start":{"line":17,"column":104,"offset":1337},"end":{"line":17,"column":105,"offset":1338}}}],"position":{"start":{"line":17,"column":5,"offset":1238},"end":{"line":17,"column":105,"offset":1338}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[","position":{"start":{"line":18,"column":7,"offset":1345},"end":{"line":18,"column":65,"offset":1403}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves"},"children":[{"type":"text","value":"推特","position":{"start":{"line":18,"column":66,"offset":1404},"end":{"line":18,"column":68,"offset":1406}}}],"position":{"start":{"line":18,"column":65,"offset":1403},"end":{"line":18,"column":149,"offset":1487}}},{"type":"text","value":"]","position":{"start":{"line":18,"column":149,"offset":1487},"end":{"line":18,"column":150,"offset":1488}}}],"position":{"start":{"line":18,"column":5,"offset":1343},"end":{"line":18,"column":150,"offset":1488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LLaMA-2-7B-32K","position":{"start":{"line":19,"column":7,"offset":1495},"end":{"line":19,"column":23,"offset":1511}}}],"position":{"start":{"line":19,"column":7,"offset":1495},"end":{"line":19,"column":23,"offset":1511}}},{"type":"text","value":", context为32K的模型 [","position":{"start":{"line":19,"column":23,"offset":1511},"end":{"line":19,"column":41,"offset":1529}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/JefferyTatsuya/status/1685423475979325440"},"children":[{"type":"text","value":"推特","position":{"start":{"line":19,"column":42,"offset":1530},"end":{"line":19,"column":44,"offset":1532}}}],"position":{"start":{"line":19,"column":41,"offset":1529},"end":{"line":19,"column":108,"offset":1596}}},{"type":"text","value":"][","position":{"start":{"line":19,"column":108,"offset":1596},"end":{"line":19,"column":110,"offset":1598}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/togethercompute/status/1685048832168714240"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":19,"column":111,"offset":1599},"end":{"line":19,"column":118,"offset":1606}}}],"position":{"start":{"line":19,"column":110,"offset":1598},"end":{"line":19,"column":183,"offset":1671}}},{"type":"text","value":"]","position":{"start":{"line":19,"column":183,"offset":1671},"end":{"line":19,"column":184,"offset":1672}}}],"position":{"start":{"line":19,"column":5,"offset":1493},"end":{"line":19,"column":184,"offset":1672}}},{"type":"text","value":"\n"}],"position":{"start":{"line":17,"column":5,"offset":1238},"end":{"line":19,"column":184,"offset":1672}}},{"type":"text","value":"\n"}],"position":{"start":{"line":16,"column":1,"offset":1111},"end":{"line":19,"column":184,"offset":1672}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":1,"offset":21},"end":{"line":19,"column":184,"offset":1672}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"基于模型直接可用的产品"},"children":[{"type":"element","tagName":"a","properties":{"href":"#基于模型直接可用的产品"},"children":[{"type":"text","value":"基于模型，直接可用的产品","position":{"start":{"line":21,"column":5,"offset":1678},"end":{"line":21,"column":17,"offset":1690}}}]}],"position":{"start":{"line":21,"column":1,"offset":1674},"end":{"line":21,"column":17,"offset":1690}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"OpenAI/GPT","position":{"start":{"line":23,"column":3,"offset":1694},"end":{"line":23,"column":13,"offset":1704}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ChatGPT","position":{"start":{"line":24,"column":7,"offset":1711},"end":{"line":24,"column":14,"offset":1718}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[","position":{"start":{"line":25,"column":11,"offset":1729},"end":{"line":25,"column":50,"offset":1768}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/cryptonerdcn/status/1668733300070924288"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":25,"column":51,"offset":1769},"end":{"line":25,"column":58,"offset":1776}}}],"position":{"start":{"line":25,"column":50,"offset":1768},"end":{"line":25,"column":120,"offset":1838}}},{"type":"text","value":"][","position":{"start":{"line":25,"column":120,"offset":1838},"end":{"line":25,"column":122,"offset":1840}}},{"type":"element","tagName":"a","properties":{"href":"https://openai.com/blog/function-calling-and-other-api-updates"},"children":[{"type":"text","value":"OpenAI","position":{"start":{"line":25,"column":123,"offset":1841},"end":{"line":25,"column":129,"offset":1847}}}],"position":{"start":{"line":25,"column":122,"offset":1840},"end":{"line":25,"column":194,"offset":1912}}},{"type":"text","value":"][","position":{"start":{"line":25,"column":194,"offset":1912},"end":{"line":25,"column":196,"offset":1914}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1668728109376450566"},"children":[{"type":"text","value":"用法 Twitter@宝玉","position":{"start":{"line":25,"column":197,"offset":1915},"end":{"line":25,"column":210,"offset":1928}}}],"position":{"start":{"line":25,"column":196,"offset":1914},"end":{"line":25,"column":265,"offset":1983}}},{"type":"text","value":"]","position":{"start":{"line":25,"column":265,"offset":1983},"end":{"line":25,"column":266,"offset":1984}}}],"position":{"start":{"line":25,"column":9,"offset":1727},"end":{"line":25,"column":266,"offset":1984}}},{"type":"text","value":"\n"}],"position":{"start":{"line":25,"column":9,"offset":1727},"end":{"line":25,"column":266,"offset":1984}}},{"type":"text","value":"\n"}],"position":{"start":{"line":24,"column":5,"offset":1709},"end":{"line":25,"column":266,"offset":1984}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ChatGPT - Code Interpreter","position":{"start":{"line":26,"column":7,"offset":1991},"end":{"line":26,"column":33,"offset":2017}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"介绍 [","position":{"start":{"line":27,"column":11,"offset":2028},"end":{"line":27,"column":15,"offset":2032}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/fuyufjh/status/1684191835210809344"},"children":[{"type":"text","value":"推特","position":{"start":{"line":27,"column":16,"offset":2033},"end":{"line":27,"column":18,"offset":2035}}}],"position":{"start":{"line":27,"column":15,"offset":2032},"end":{"line":27,"column":75,"offset":2092}}},{"type":"text","value":"][","position":{"start":{"line":27,"column":75,"offset":2092},"end":{"line":27,"column":77,"offset":2094}}},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=4wGlRrir_u4"},"children":[{"type":"text","value":"YouTube","position":{"start":{"line":27,"column":78,"offset":2095},"end":{"line":27,"column":85,"offset":2102}}}],"position":{"start":{"line":27,"column":77,"offset":2094},"end":{"line":27,"column":131,"offset":2148}}},{"type":"text","value":"]","position":{"start":{"line":27,"column":131,"offset":2148},"end":{"line":27,"column":132,"offset":2149}}}],"position":{"start":{"line":27,"column":9,"offset":2026},"end":{"line":27,"column":132,"offset":2149}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"《ChatGPT 探索：Code Interpreter 高级指南》[","position":{"start":{"line":28,"column":11,"offset":2160},"end":{"line":28,"column":46,"offset":2195}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves"},"children":[{"type":"text","value":"微信@浮之静","position":{"start":{"line":28,"column":47,"offset":2196},"end":{"line":28,"column":53,"offset":2202}}}],"position":{"start":{"line":28,"column":46,"offset":2195},"end":{"line":28,"column":129,"offset":2278}}},{"type":"text","value":"]","position":{"start":{"line":28,"column":129,"offset":2278},"end":{"line":28,"column":130,"offset":2279}}}],"position":{"start":{"line":28,"column":9,"offset":2158},"end":{"line":28,"column":130,"offset":2279}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"源码可能被套出。[","position":{"start":{"line":29,"column":11,"offset":2290},"end":{"line":29,"column":20,"offset":2299}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/fuergaosi/status/1679457847237820416"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":29,"column":21,"offset":2300},"end":{"line":29,"column":28,"offset":2307}}}],"position":{"start":{"line":29,"column":20,"offset":2299},"end":{"line":29,"column":87,"offset":2366}}},{"type":"text","value":"]","position":{"start":{"line":29,"column":87,"offset":2366},"end":{"line":29,"column":88,"offset":2367}}}],"position":{"start":{"line":29,"column":9,"offset":2288},"end":{"line":29,"column":88,"offset":2367}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"对 code interpreter 的逆向工程 [","position":{"start":{"line":30,"column":11,"offset":2378},"end":{"line":30,"column":37,"offset":2404}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Yampeleg/status/1678045605527003136"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":30,"column":38,"offset":2405},"end":{"line":30,"column":45,"offset":2412}}}],"position":{"start":{"line":30,"column":37,"offset":2404},"end":{"line":30,"column":103,"offset":2470}}},{"type":"text","value":"][","position":{"start":{"line":30,"column":103,"offset":2470},"end":{"line":30,"column":105,"offset":2472}}},{"type":"element","tagName":"a","properties":{"href":"https://mem.ai/p/xyy8ULiAce1BecTxnU0M"},"children":[{"type":"text","value":"Mem","position":{"start":{"line":30,"column":106,"offset":2473},"end":{"line":30,"column":109,"offset":2476}}}],"position":{"start":{"line":30,"column":105,"offset":2472},"end":{"line":30,"column":149,"offset":2516}}},{"type":"text","value":"]","position":{"start":{"line":30,"column":149,"offset":2516},"end":{"line":30,"column":150,"offset":2517}}}],"position":{"start":{"line":30,"column":9,"offset":2376},"end":{"line":30,"column":150,"offset":2517}}},{"type":"text","value":"\n"}],"position":{"start":{"line":27,"column":9,"offset":2026},"end":{"line":30,"column":150,"offset":2517}}},{"type":"text","value":"\n"}],"position":{"start":{"line":26,"column":5,"offset":1989},"end":{"line":30,"column":150,"offset":2517}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"OpenAI API","position":{"start":{"line":31,"column":7,"offset":2524},"end":{"line":31,"column":17,"offset":2534}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [","position":{"start":{"line":32,"column":11,"offset":2545},"end":{"line":32,"column":50,"offset":2584}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1694207797351616703"},"children":[{"type":"text","value":"推特","position":{"start":{"line":32,"column":51,"offset":2585},"end":{"line":32,"column":53,"offset":2587}}}],"position":{"start":{"line":32,"column":50,"offset":2584},"end":{"line":32,"column":108,"offset":2642}}},{"type":"text","value":"]","position":{"start":{"line":32,"column":108,"offset":2642},"end":{"line":32,"column":109,"offset":2643}}}],"position":{"start":{"line":32,"column":9,"offset":2543},"end":{"line":32,"column":109,"offset":2643}}},{"type":"text","value":"\n"}],"position":{"start":{"line":32,"column":9,"offset":2543},"end":{"line":32,"column":109,"offset":2643}}},{"type":"text","value":"\n"}],"position":{"start":{"line":31,"column":5,"offset":2522},"end":{"line":32,"column":109,"offset":2643}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"OpenAI on Azure 内置了一个内容过滤器 [","position":{"start":{"line":33,"column":7,"offset":2650},"end":{"line":33,"column":35,"offset":2678}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/jw1dev/status/1666613728106938368"},"children":[{"type":"text","value":"推特1","position":{"start":{"line":33,"column":36,"offset":2679},"end":{"line":33,"column":39,"offset":2682}}}],"position":{"start":{"line":33,"column":35,"offset":2678},"end":{"line":33,"column":95,"offset":2738}}},{"type":"text","value":"][","position":{"start":{"line":33,"column":95,"offset":2738},"end":{"line":33,"column":97,"offset":2740}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/jw1dev/status/1666622878962548740"},"children":[{"type":"text","value":"推特2","position":{"start":{"line":33,"column":98,"offset":2741},"end":{"line":33,"column":101,"offset":2744}}}],"position":{"start":{"line":33,"column":97,"offset":2740},"end":{"line":33,"column":157,"offset":2800}}},{"type":"text","value":"]","position":{"start":{"line":33,"column":157,"offset":2800},"end":{"line":33,"column":158,"offset":2801}}}],"position":{"start":{"line":33,"column":5,"offset":2648},"end":{"line":33,"column":158,"offset":2801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"forefront","position":{"start":{"line":34,"column":7,"offset":2808},"end":{"line":34,"column":18,"offset":2819}}}],"position":{"start":{"line":34,"column":7,"offset":2808},"end":{"line":34,"column":18,"offset":2819}}},{"type":"text","value":": 完全免费 GPT-4 的工具 [","position":{"start":{"line":34,"column":18,"offset":2819},"end":{"line":34,"column":36,"offset":2837}}},{"type":"element","tagName":"a","properties":{"href":"https://accounts.forefront.ai/"},"children":[{"type":"text","value":"登录","position":{"start":{"line":34,"column":37,"offset":2838},"end":{"line":34,"column":39,"offset":2840}}}],"position":{"start":{"line":34,"column":36,"offset":2837},"end":{"line":34,"column":72,"offset":2873}}},{"type":"text","value":"]，大概基于 ","position":{"start":{"line":34,"column":72,"offset":2873},"end":{"line":34,"column":79,"offset":2880}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gptfree-ts","position":{"start":{"line":34,"column":79,"offset":2880},"end":{"line":34,"column":91,"offset":2892}}}],"position":{"start":{"line":34,"column":79,"offset":2880},"end":{"line":34,"column":91,"offset":2892}}},{"type":"text","value":" [","position":{"start":{"line":34,"column":91,"offset":2892},"end":{"line":34,"column":93,"offset":2894}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/xiangsx/gpt4free-ts"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":34,"column":94,"offset":2895},"end":{"line":34,"column":100,"offset":2901}}}],"position":{"start":{"line":34,"column":93,"offset":2894},"end":{"line":34,"column":141,"offset":2942}}},{"type":"text","value":"]","position":{"start":{"line":34,"column":141,"offset":2942},"end":{"line":34,"column":142,"offset":2943}}}],"position":{"start":{"line":34,"column":5,"offset":2806},"end":{"line":34,"column":142,"offset":2943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BratGPT","position":{"start":{"line":35,"column":7,"offset":2950},"end":{"line":35,"column":16,"offset":2959}}}],"position":{"start":{"line":35,"column":7,"offset":2950},"end":{"line":35,"column":16,"offset":2959}}},{"type":"text","value":": ChatGPT的激进版本。[","position":{"start":{"line":35,"column":16,"offset":2959},"end":{"line":35,"column":32,"offset":2975}}},{"type":"element","tagName":"a","properties":{"href":"https://bratgpt.com/"},"children":[{"type":"text","value":"官网","position":{"start":{"line":35,"column":33,"offset":2976},"end":{"line":35,"column":35,"offset":2978}}}],"position":{"start":{"line":35,"column":32,"offset":2975},"end":{"line":35,"column":58,"offset":3001}}},{"type":"text","value":"]","position":{"start":{"line":35,"column":58,"offset":3001},"end":{"line":35,"column":59,"offset":3002}}}],"position":{"start":{"line":35,"column":5,"offset":2948},"end":{"line":35,"column":59,"offset":3002}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SmartStudy","position":{"start":{"line":36,"column":7,"offset":3009},"end":{"line":36,"column":19,"offset":3021}}}],"position":{"start":{"line":36,"column":7,"offset":3009},"end":{"line":36,"column":19,"offset":3021}}},{"type":"text","value":": 提供文本文档，创建10个问题的小测验。[","position":{"start":{"line":36,"column":19,"offset":3021},"end":{"line":36,"column":41,"offset":3043}}},{"type":"element","tagName":"a","properties":{"href":"https://smartstudy.streamlit.app/"},"children":[{"type":"text","value":"官网","position":{"start":{"line":36,"column":42,"offset":3044},"end":{"line":36,"column":44,"offset":3046}}}],"position":{"start":{"line":36,"column":41,"offset":3043},"end":{"line":36,"column":80,"offset":3082}}},{"type":"text","value":"]","position":{"start":{"line":36,"column":80,"offset":3082},"end":{"line":36,"column":81,"offset":3083}}}],"position":{"start":{"line":36,"column":5,"offset":3007},"end":{"line":36,"column":81,"offset":3083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"XrayGPT","position":{"start":{"line":37,"column":7,"offset":3090},"end":{"line":37,"column":16,"offset":3099}}}],"position":{"start":{"line":37,"column":7,"offset":3090},"end":{"line":37,"column":16,"offset":3099}}},{"type":"text","value":": 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[","position":{"start":{"line":37,"column":16,"offset":3099},"end":{"line":37,"column":51,"offset":3134}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/CarsonYangk8s/status/1661588037892198401"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":37,"column":52,"offset":3135},"end":{"line":37,"column":58,"offset":3141}}}],"position":{"start":{"line":37,"column":51,"offset":3134},"end":{"line":37,"column":121,"offset":3204}}},{"type":"text","value":"]","position":{"start":{"line":37,"column":121,"offset":3204},"end":{"line":37,"column":122,"offset":3205}}}],"position":{"start":{"line":37,"column":5,"offset":3088},"end":{"line":37,"column":122,"offset":3205}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FinGPT","position":{"start":{"line":38,"column":7,"offset":3212},"end":{"line":38,"column":15,"offset":3220}}}],"position":{"start":{"line":38,"column":7,"offset":3212},"end":{"line":38,"column":15,"offset":3220}}},{"type":"text","value":": 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [","position":{"start":{"line":38,"column":15,"offset":3220},"end":{"line":38,"column":53,"offset":3258}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/JefferyTatsuya/status/1668433680887615488"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":38,"column":54,"offset":3259},"end":{"line":38,"column":61,"offset":3266}}}],"position":{"start":{"line":38,"column":53,"offset":3258},"end":{"line":38,"column":125,"offset":3330}}},{"type":"text","value":"]","position":{"start":{"line":38,"column":125,"offset":3330},"end":{"line":38,"column":126,"offset":3331}}}],"position":{"start":{"line":38,"column":5,"offset":3210},"end":{"line":38,"column":126,"offset":3331}}},{"type":"text","value":"\n"}],"position":{"start":{"line":24,"column":5,"offset":1709},"end":{"line":38,"column":126,"offset":3331}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":1,"offset":1692},"end":{"line":38,"column":126,"offset":3331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"微软","position":{"start":{"line":39,"column":3,"offset":3334},"end":{"line":39,"column":5,"offset":3336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"BingAI","position":{"start":{"line":40,"column":7,"offset":3343},"end":{"line":40,"column":13,"offset":3349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"本地部署方案 [","position":{"start":{"line":41,"column":11,"offset":3360},"end":{"line":41,"column":19,"offset":3368}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/geekbb/status/1665692703055552513"},"children":[{"type":"text","value":"推特","position":{"start":{"line":41,"column":20,"offset":3369},"end":{"line":41,"column":22,"offset":3371}}}],"position":{"start":{"line":41,"column":19,"offset":3368},"end":{"line":41,"column":78,"offset":3427}}},{"type":"text","value":"][","position":{"start":{"line":41,"column":78,"offset":3427},"end":{"line":41,"column":80,"offset":3429}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/adams549659584/go-proxy-bingai"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":41,"column":81,"offset":3430},"end":{"line":41,"column":87,"offset":3436}}}],"position":{"start":{"line":41,"column":80,"offset":3429},"end":{"line":41,"column":139,"offset":3488}}},{"type":"text","value":"]","position":{"start":{"line":41,"column":139,"offset":3488},"end":{"line":41,"column":140,"offset":3489}}}],"position":{"start":{"line":41,"column":9,"offset":3358},"end":{"line":41,"column":140,"offset":3489}}},{"type":"text","value":"\n"}],"position":{"start":{"line":41,"column":9,"offset":3358},"end":{"line":41,"column":140,"offset":3489}}},{"type":"text","value":"\n"}],"position":{"start":{"line":40,"column":5,"offset":3341},"end":{"line":41,"column":140,"offset":3489}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"VsCode Copilot","position":{"start":{"line":42,"column":7,"offset":3496},"end":{"line":42,"column":21,"offset":3510}}}],"position":{"start":{"line":42,"column":5,"offset":3494},"end":{"line":42,"column":21,"offset":3510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Office 365 Copilot: 每月每名用户30美元. [","position":{"start":{"line":43,"column":7,"offset":3517},"end":{"line":43,"column":40,"offset":3550}}},{"type":"element","tagName":"a","properties":{"href":"https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise"},"children":[{"type":"text","value":"verge","position":{"start":{"line":43,"column":41,"offset":3551},"end":{"line":43,"column":46,"offset":3556}}}],"position":{"start":{"line":43,"column":40,"offset":3550},"end":{"line":43,"column":142,"offset":3652}}},{"type":"text","value":"][","position":{"start":{"line":43,"column":142,"offset":3652},"end":{"line":43,"column":144,"offset":3654}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves"},"children":[{"type":"text","value":"微信","position":{"start":{"line":43,"column":145,"offset":3655},"end":{"line":43,"column":147,"offset":3657}}}],"position":{"start":{"line":43,"column":144,"offset":3654},"end":{"line":43,"column":223,"offset":3733}}},{"type":"text","value":"]","position":{"start":{"line":43,"column":223,"offset":3733},"end":{"line":43,"column":224,"offset":3734}}}],"position":{"start":{"line":43,"column":5,"offset":3515},"end":{"line":43,"column":224,"offset":3734}}},{"type":"text","value":"\n"}],"position":{"start":{"line":40,"column":5,"offset":3341},"end":{"line":43,"column":224,"offset":3734}}},{"type":"text","value":"\n"}],"position":{"start":{"line":39,"column":1,"offset":3332},"end":{"line":43,"column":224,"offset":3734}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Claude+","position":{"start":{"line":44,"column":3,"offset":3737},"end":{"line":44,"column":10,"offset":3744}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"例子：阅读多份行业报告 [","position":{"start":{"line":45,"column":7,"offset":3751},"end":{"line":45,"column":20,"offset":3764}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/iamshaynez/status/1684398211958730753"},"children":[{"type":"text","value":"推特","position":{"start":{"line":45,"column":21,"offset":3765},"end":{"line":45,"column":23,"offset":3767}}}],"position":{"start":{"line":45,"column":20,"offset":3764},"end":{"line":45,"column":83,"offset":3827}}},{"type":"text","value":"]","position":{"start":{"line":45,"column":83,"offset":3827},"end":{"line":45,"column":84,"offset":3828}}}],"position":{"start":{"line":45,"column":5,"offset":3749},"end":{"line":45,"column":84,"offset":3828}}},{"type":"text","value":"\n"}],"position":{"start":{"line":45,"column":5,"offset":3749},"end":{"line":45,"column":84,"offset":3828}}},{"type":"text","value":"\n"}],"position":{"start":{"line":44,"column":1,"offset":3735},"end":{"line":45,"column":84,"offset":3828}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Llama","position":{"start":{"line":46,"column":3,"offset":3831},"end":{"line":46,"column":10,"offset":3838}}}],"position":{"start":{"line":46,"column":3,"offset":3831},"end":{"line":46,"column":10,"offset":3838}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[","position":{"start":{"line":47,"column":7,"offset":3845},"end":{"line":47,"column":43,"offset":3881}}},{"type":"element","tagName":"a","properties":{"href":"https://llama2.ai/"},"children":[{"type":"text","value":"网站","position":{"start":{"line":47,"column":44,"offset":3882},"end":{"line":47,"column":46,"offset":3884}}}],"position":{"start":{"line":47,"column":43,"offset":3881},"end":{"line":47,"column":67,"offset":3905}}},{"type":"text","value":"]","position":{"start":{"line":47,"column":67,"offset":3905},"end":{"line":47,"column":68,"offset":3906}}}],"position":{"start":{"line":47,"column":5,"offset":3843},"end":{"line":47,"column":68,"offset":3906}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"WizardCoder 34B based on Code Llama 写代码 [","position":{"start":{"line":48,"column":7,"offset":3913},"end":{"line":48,"column":48,"offset":3954}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1696202647269785875"},"children":[{"type":"text","value":"推特","position":{"start":{"line":48,"column":49,"offset":3955},"end":{"line":48,"column":51,"offset":3957}}}],"position":{"start":{"line":48,"column":48,"offset":3954},"end":{"line":48,"column":106,"offset":4012}}},{"type":"text","value":"]","position":{"start":{"line":48,"column":106,"offset":4012},"end":{"line":48,"column":107,"offset":4013}}}],"position":{"start":{"line":48,"column":5,"offset":3911},"end":{"line":48,"column":107,"offset":4013}}},{"type":"text","value":"\n"}],"position":{"start":{"line":47,"column":5,"offset":3843},"end":{"line":48,"column":107,"offset":4013}}},{"type":"text","value":"\n"}],"position":{"start":{"line":46,"column":1,"offset":3829},"end":{"line":48,"column":107,"offset":4013}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [","position":{"start":{"line":49,"column":3,"offset":4016},"end":{"line":49,"column":33,"offset":4046}}},{"type":"element","tagName":"a","properties":{"href":"https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":49,"column":34,"offset":4047},"end":{"line":49,"column":40,"offset":4053}}}],"position":{"start":{"line":49,"column":33,"offset":4046},"end":{"line":49,"column":108,"offset":4121}}},{"type":"text","value":"]","position":{"start":{"line":49,"column":108,"offset":4121},"end":{"line":49,"column":109,"offset":4122}}}],"position":{"start":{"line":49,"column":1,"offset":4014},"end":{"line":49,"column":109,"offset":4122}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"mendable: 根据开发文档进行问答 [","position":{"start":{"line":50,"column":3,"offset":4125},"end":{"line":50,"column":25,"offset":4147}}},{"type":"element","tagName":"a","properties":{"href":"https://www.mendable.ai/usecases/documentation"},"children":[{"type":"text","value":"官网","position":{"start":{"line":50,"column":26,"offset":4148},"end":{"line":50,"column":28,"offset":4150}}}],"position":{"start":{"line":50,"column":25,"offset":4147},"end":{"line":50,"column":77,"offset":4199}}},{"type":"text","value":"]","position":{"start":{"line":50,"column":77,"offset":4199},"end":{"line":50,"column":78,"offset":4200}}}],"position":{"start":{"line":50,"column":1,"offset":4123},"end":{"line":50,"column":78,"offset":4200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"阅读 PDF 文档","position":{"start":{"line":51,"column":3,"offset":4203},"end":{"line":51,"column":12,"offset":4212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Humata.ai","position":{"start":{"line":52,"column":7,"offset":4219},"end":{"line":52,"column":16,"offset":4228}}}],"position":{"start":{"line":52,"column":5,"offset":4217},"end":{"line":52,"column":16,"offset":4228}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"explainpaper","position":{"start":{"line":53,"column":7,"offset":4235},"end":{"line":53,"column":19,"offset":4247}}}],"position":{"start":{"line":53,"column":5,"offset":4233},"end":{"line":53,"column":19,"offset":4247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ChatPDF","position":{"start":{"line":54,"column":7,"offset":4254},"end":{"line":54,"column":14,"offset":4261}}}],"position":{"start":{"line":54,"column":5,"offset":4252},"end":{"line":54,"column":14,"offset":4261}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"[","position":{"start":{"line":55,"column":7,"offset":4268},"end":{"line":55,"column":8,"offset":4269}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves"},"children":[{"type":"text","value":"对比","position":{"start":{"line":55,"column":9,"offset":4270},"end":{"line":55,"column":11,"offset":4272}}}],"position":{"start":{"line":55,"column":8,"offset":4269},"end":{"line":55,"column":92,"offset":4353}}},{"type":"text","value":"] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。","position":{"start":{"line":55,"column":92,"offset":4353},"end":{"line":55,"column":179,"offset":4440}}}],"position":{"start":{"line":55,"column":5,"offset":4266},"end":{"line":55,"column":179,"offset":4440}}},{"type":"text","value":"\n"}],"position":{"start":{"line":52,"column":5,"offset":4217},"end":{"line":55,"column":179,"offset":4440}}},{"type":"text","value":"\n"}],"position":{"start":{"line":51,"column":1,"offset":4201},"end":{"line":55,"column":179,"offset":4440}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Obsidian-copliot: 快速获取文字的核心观点","position":{"start":{"line":56,"column":3,"offset":4443},"end":{"line":56,"column":32,"offset":4472}}}],"position":{"start":{"line":56,"column":1,"offset":4441},"end":{"line":56,"column":32,"offset":4472}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"视频内容梗概","position":{"start":{"line":57,"column":3,"offset":4475},"end":{"line":57,"column":9,"offset":4481}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [","position":{"start":{"line":58,"column":7,"offset":4488},"end":{"line":58,"column":55,"offset":4536}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/starzqeth/status/1640867876109422595"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":58,"column":56,"offset":4537},"end":{"line":58,"column":63,"offset":4544}}}],"position":{"start":{"line":58,"column":55,"offset":4536},"end":{"line":58,"column":122,"offset":4603}}},{"type":"text","value":"]","position":{"start":{"line":58,"column":122,"offset":4603},"end":{"line":58,"column":123,"offset":4604}}}],"position":{"start":{"line":58,"column":5,"offset":4486},"end":{"line":58,"column":123,"offset":4604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"summarize-tech: 5分钟了解长视频的要点. [","position":{"start":{"line":59,"column":7,"offset":4611},"end":{"line":59,"column":37,"offset":4641}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/starzqeth/status/1640867876109422595"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":59,"column":38,"offset":4642},"end":{"line":59,"column":45,"offset":4649}}}],"position":{"start":{"line":59,"column":37,"offset":4641},"end":{"line":59,"column":104,"offset":4708}}},{"type":"text","value":"]","position":{"start":{"line":59,"column":104,"offset":4708},"end":{"line":59,"column":105,"offset":4709}}}],"position":{"start":{"line":59,"column":5,"offset":4609},"end":{"line":59,"column":105,"offset":4709}}},{"type":"text","value":"\n"}],"position":{"start":{"line":58,"column":5,"offset":4486},"end":{"line":59,"column":105,"offset":4709}}},{"type":"text","value":"\n"}],"position":{"start":{"line":57,"column":1,"offset":4473},"end":{"line":59,"column":105,"offset":4709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [","position":{"start":{"line":60,"column":3,"offset":4712},"end":{"line":60,"column":51,"offset":4760}}},{"type":"element","tagName":"a","properties":{"href":"https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link"},"children":[{"type":"text","value":"chrome","position":{"start":{"line":60,"column":52,"offset":4761},"end":{"line":60,"column":58,"offset":4767}}}],"position":{"start":{"line":60,"column":51,"offset":4760},"end":{"line":60,"column":176,"offset":4885}}},{"type":"text","value":"]","position":{"start":{"line":60,"column":176,"offset":4885},"end":{"line":60,"column":177,"offset":4886}}}],"position":{"start":{"line":60,"column":1,"offset":4710},"end":{"line":60,"column":177,"offset":4886}}},{"type":"text","value":"\n"}],"position":{"start":{"line":23,"column":1,"offset":1692},"end":{"line":60,"column":177,"offset":4886}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"模型教程评论二次开发"},"children":[{"type":"element","tagName":"a","properties":{"href":"#模型教程评论二次开发"},"children":[{"type":"text","value":"模型教程、评论、二次开发","position":{"start":{"line":62,"column":5,"offset":4892},"end":{"line":62,"column":17,"offset":4904}}}]}],"position":{"start":{"line":62,"column":1,"offset":4888},"end":{"line":62,"column":17,"offset":4904}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"一般性原理","position":{"start":{"line":64,"column":3,"offset":4908},"end":{"line":64,"column":8,"offset":4913}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"《Prompt 编写模式》[","position":{"start":{"line":65,"column":7,"offset":4920},"end":{"line":65,"column":21,"offset":4934}}},{"type":"element","tagName":"a","properties":{"href":"https://prompt-patterns.phodal.com"},"children":[{"type":"text","value":"phodal","position":{"start":{"line":65,"column":22,"offset":4935},"end":{"line":65,"column":28,"offset":4941}}}],"position":{"start":{"line":65,"column":21,"offset":4934},"end":{"line":65,"column":65,"offset":4978}}},{"type":"text","value":"]","position":{"start":{"line":65,"column":65,"offset":4978},"end":{"line":65,"column":66,"offset":4979}}}],"position":{"start":{"line":65,"column":5,"offset":4918},"end":{"line":65,"column":66,"offset":4979}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"《LLM+Embedding构建问答系统的局限性及优化方案》[","position":{"start":{"line":66,"column":7,"offset":4986},"end":{"line":66,"column":38,"offset":5017}}},{"type":"element","tagName":"a","properties":{"href":"https://zhuanlan.zhihu.com/p/641132245"},"children":[{"type":"text","value":"知乎","position":{"start":{"line":66,"column":39,"offset":5018},"end":{"line":66,"column":41,"offset":5020}}}],"position":{"start":{"line":66,"column":38,"offset":5017},"end":{"line":66,"column":82,"offset":5061}}},{"type":"text","value":"]","position":{"start":{"line":66,"column":82,"offset":5061},"end":{"line":66,"column":83,"offset":5062}}}],"position":{"start":{"line":66,"column":5,"offset":4984},"end":{"line":66,"column":83,"offset":5062}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"基于检索的 LM，外挂一个数据库用来检索。[","position":{"start":{"line":67,"column":7,"offset":5069},"end":{"line":67,"column":29,"offset":5091}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/cosmtrek/status/1678077835418955781"},"children":[{"type":"text","value":"推特","position":{"start":{"line":67,"column":30,"offset":5092},"end":{"line":67,"column":32,"offset":5094}}}],"position":{"start":{"line":67,"column":29,"offset":5091},"end":{"line":67,"column":90,"offset":5152}}},{"type":"text","value":"][","position":{"start":{"line":67,"column":90,"offset":5152},"end":{"line":67,"column":92,"offset":5154}}},{"type":"element","tagName":"a","properties":{"href":"https://acl2023-retrieval-lm.github.io/"},"children":[{"type":"text","value":"GitHub.io","position":{"start":{"line":67,"column":93,"offset":5155},"end":{"line":67,"column":102,"offset":5164}}}],"position":{"start":{"line":67,"column":92,"offset":5154},"end":{"line":67,"column":144,"offset":5206}}},{"type":"text","value":"]","position":{"start":{"line":67,"column":144,"offset":5206},"end":{"line":67,"column":145,"offset":5207}}}],"position":{"start":{"line":67,"column":5,"offset":5067},"end":{"line":67,"column":145,"offset":5207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"一篇泼冷水的论文 [","position":{"start":{"line":68,"column":7,"offset":5214},"end":{"line":68,"column":17,"offset":5224}}},{"type":"element","tagName":"a","properties":{"href":"https://aclanthology.org/2023.findings-acl.426/"},"children":[{"type":"text","value":"ACL Anthology","position":{"start":{"line":68,"column":18,"offset":5225},"end":{"line":68,"column":31,"offset":5238}}}],"position":{"start":{"line":68,"column":17,"offset":5224},"end":{"line":68,"column":81,"offset":5288}}},{"type":"text","value":"]","position":{"start":{"line":68,"column":81,"offset":5288},"end":{"line":68,"column":82,"offset":5289}}}],"position":{"start":{"line":68,"column":5,"offset":5212},"end":{"line":68,"column":82,"offset":5289}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"即刻出的Prompt调试工具。[","position":{"start":{"line":69,"column":7,"offset":5296},"end":{"line":69,"column":23,"offset":5312}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/vista8/status/1678784460786135040"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":69,"column":24,"offset":5313},"end":{"line":69,"column":31,"offset":5320}}}],"position":{"start":{"line":69,"column":23,"offset":5312},"end":{"line":69,"column":87,"offset":5376}}},{"type":"text","value":"][","position":{"start":{"line":69,"column":87,"offset":5376},"end":{"line":69,"column":89,"offset":5378}}},{"type":"element","tagName":"a","properties":{"href":"https://promptknit.com/"},"children":[{"type":"text","value":"官网","position":{"start":{"line":69,"column":90,"offset":5379},"end":{"line":69,"column":92,"offset":5381}}}],"position":{"start":{"line":69,"column":89,"offset":5378},"end":{"line":69,"column":118,"offset":5407}}},{"type":"text","value":"]","position":{"start":{"line":69,"column":118,"offset":5407},"end":{"line":69,"column":119,"offset":5408}}}],"position":{"start":{"line":69,"column":5,"offset":5294},"end":{"line":69,"column":119,"offset":5408}}},{"type":"text","value":"\n"}],"position":{"start":{"line":65,"column":5,"offset":4918},"end":{"line":69,"column":119,"offset":5408}}},{"type":"text","value":"\n"}],"position":{"start":{"line":64,"column":1,"offset":4906},"end":{"line":69,"column":119,"offset":5408}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"GPT","position":{"start":{"line":70,"column":3,"offset":5411},"end":{"line":70,"column":6,"offset":5414}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"GPT best practice [","position":{"start":{"line":71,"column":7,"offset":5421},"end":{"line":71,"column":26,"offset":5440}}},{"type":"element","tagName":"a","properties":{"href":"https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves"},"children":[{"type":"text","value":"OpenAI","position":{"start":{"line":71,"column":27,"offset":5441},"end":{"line":71,"column":33,"offset":5447}}}],"position":{"start":{"line":71,"column":26,"offset":5440},"end":{"line":71,"column":118,"offset":5532}}},{"type":"text","value":"]","position":{"start":{"line":71,"column":118,"offset":5532},"end":{"line":71,"column":119,"offset":5533}}}],"position":{"start":{"line":71,"column":5,"offset":5419},"end":{"line":71,"column":119,"offset":5533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Andrew Ng 吴恩达 \u0026 Isa Fulford from OpenAI 《Build system with ","position":{"start":{"line":72,"column":7,"offset":5540},"end":{"line":72,"column":66,"offset":5599}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/hashtag/ChatGPT?src=hashtag_click"},"children":[{"type":"text","value":"#ChatGPT","position":{"start":{"line":72,"column":67,"offset":5600},"end":{"line":72,"column":75,"offset":5608}}}],"position":{"start":{"line":72,"column":66,"offset":5599},"end":{"line":72,"column":131,"offset":5664}}},{"type":"text","value":" API》[推特@","position":{"start":{"line":72,"column":131,"offset":5664},"end":{"line":72,"column":140,"offset":5673}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/JefferyTatsuya"},"children":[{"type":"text","value":"金田達也","position":{"start":{"line":72,"column":143,"offset":5676},"end":{"line":72,"column":147,"offset":5680}}}],"position":{"start":{"line":72,"column":142,"offset":5675},"end":{"line":72,"column":184,"offset":5717}}}],"position":{"start":{"line":72,"column":140,"offset":5673},"end":{"line":72,"column":186,"offset":5719}}},{"type":"text","value":"]","position":{"start":{"line":72,"column":186,"offset":5719},"end":{"line":72,"column":187,"offset":5720}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [","position":{"start":{"line":73,"column":11,"offset":5731},"end":{"line":73,"column":42,"offset":5762}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1665476562219573249"},"children":[{"type":"text","value":"推特","position":{"start":{"line":73,"column":43,"offset":5763},"end":{"line":73,"column":45,"offset":5765}}}],"position":{"start":{"line":73,"column":42,"offset":5762},"end":{"line":73,"column":100,"offset":5820}}},{"type":"text","value":"]","position":{"start":{"line":73,"column":100,"offset":5820},"end":{"line":73,"column":101,"offset":5821}}}],"position":{"start":{"line":73,"column":9,"offset":5729},"end":{"line":73,"column":101,"offset":5821}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [","position":{"start":{"line":74,"column":11,"offset":5832},"end":{"line":74,"column":104,"offset":5925}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1668736426286915590"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":74,"column":105,"offset":5926},"end":{"line":74,"column":112,"offset":5933}}}],"position":{"start":{"line":74,"column":104,"offset":5925},"end":{"line":74,"column":167,"offset":5988}}},{"type":"text","value":"1][","position":{"start":{"line":74,"column":167,"offset":5988},"end":{"line":74,"column":170,"offset":5991}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1664335473500626946"},"children":[{"type":"text","value":"Twitter2","position":{"start":{"line":74,"column":171,"offset":5992},"end":{"line":74,"column":179,"offset":6000}}}],"position":{"start":{"line":74,"column":170,"offset":5991},"end":{"line":74,"column":234,"offset":6055}}},{"type":"text","value":"]","position":{"start":{"line":74,"column":234,"offset":6055},"end":{"line":74,"column":235,"offset":6056}}}],"position":{"start":{"line":74,"column":9,"offset":5830},"end":{"line":74,"column":235,"offset":6056}}},{"type":"text","value":"\n"}],"position":{"start":{"line":73,"column":9,"offset":5729},"end":{"line":74,"column":235,"offset":6056}}},{"type":"text","value":"\n"}],"position":{"start":{"line":72,"column":5,"offset":5538},"end":{"line":74,"column":235,"offset":6056}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论","position":{"start":{"line":75,"column":7,"offset":6063},"end":{"line":75,"column":53,"offset":6109}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/waylybaye/status/1664253928970788864"},"children":[{"type":"text","value":"Twitter@威力狈","position":{"start":{"line":76,"column":12,"offset":6121},"end":{"line":76,"column":23,"offset":6132}}}],"position":{"start":{"line":76,"column":11,"offset":6120},"end":{"line":76,"column":82,"offset":6191}}},{"type":"text","value":"：尝试了下用 ChatGPT 自动标注数据，效果太差了。","position":{"start":{"line":76,"column":82,"offset":6191},"end":{"line":76,"column":110,"offset":6219}}}],"position":{"start":{"line":76,"column":9,"offset":6118},"end":{"line":76,"column":110,"offset":6219}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1669028955842650139"},"children":[{"type":"text","value":"Twitter@宝玉","position":{"start":{"line":77,"column":12,"offset":6231},"end":{"line":77,"column":22,"offset":6241}}}],"position":{"start":{"line":77,"column":11,"offset":6230},"end":{"line":77,"column":77,"offset":6296}}},{"type":"text","value":"：通常如果我写的话，会做一些小调整","position":{"start":{"line":77,"column":77,"offset":6296},"end":{"line":77,"column":94,"offset":6313}}}],"position":{"start":{"line":77,"column":9,"offset":6228},"end":{"line":77,"column":94,"offset":6313}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/IIInoki"},"children":[{"type":"text","value":"Twitter@IIInoki","position":{"start":{"line":78,"column":12,"offset":6325},"end":{"line":78,"column":27,"offset":6340}}}],"position":{"start":{"line":78,"column":11,"offset":6324},"end":{"line":78,"column":57,"offset":6370}}},{"type":"text","value":"：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错","position":{"start":{"line":78,"column":57,"offset":6370},"end":{"line":78,"column":102,"offset":6415}}}],"position":{"start":{"line":78,"column":9,"offset":6322},"end":{"line":78,"column":102,"offset":6415}}},{"type":"text","value":"\n"}],"position":{"start":{"line":76,"column":9,"offset":6118},"end":{"line":78,"column":102,"offset":6415}}},{"type":"text","value":"\n"}],"position":{"start":{"line":75,"column":5,"offset":6061},"end":{"line":78,"column":102,"offset":6415}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[","position":{"start":{"line":79,"column":7,"offset":6422},"end":{"line":79,"column":38,"offset":6453}}},{"type":"element","tagName":"a","properties":{"href":"https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions"},"children":[{"type":"text","value":"橘子汽水铺","position":{"start":{"line":79,"column":39,"offset":6454},"end":{"line":79,"column":44,"offset":6459}}}],"position":{"start":{"line":79,"column":38,"offset":6453},"end":{"line":79,"column":141,"offset":6556}}},{"type":"text","value":"]","position":{"start":{"line":79,"column":141,"offset":6556},"end":{"line":79,"column":142,"offset":6557}}}],"position":{"start":{"line":79,"column":5,"offset":6420},"end":{"line":79,"column":142,"offset":6557}}},{"type":"text","value":"\n"}],"position":{"start":{"line":71,"column":5,"offset":5419},"end":{"line":79,"column":142,"offset":6557}}},{"type":"text","value":"\n"}],"position":{"start":{"line":70,"column":1,"offset":5409},"end":{"line":79,"column":142,"offset":6557}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LangChain","position":{"start":{"line":80,"column":3,"offset":6560},"end":{"line":80,"column":14,"offset":6571}}}],"position":{"start":{"line":80,"column":3,"offset":6560},"end":{"line":80,"column":14,"offset":6571}}},{"type":"text","value":":","position":{"start":{"line":80,"column":14,"offset":6571},"end":{"line":80,"column":15,"offset":6572}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"官方教程 [","position":{"start":{"line":81,"column":7,"offset":6579},"end":{"line":81,"column":13,"offset":6585}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/LangChainAI/status/1665009694627250176"},"children":[{"type":"text","value":"推特","position":{"start":{"line":81,"column":14,"offset":6586},"end":{"line":81,"column":16,"offset":6588}}}],"position":{"start":{"line":81,"column":13,"offset":6585},"end":{"line":81,"column":77,"offset":6649}}},{"type":"text","value":"][","position":{"start":{"line":81,"column":77,"offset":6649},"end":{"line":81,"column":79,"offset":6651}}},{"type":"element","tagName":"a","properties":{"href":"https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/"},"children":[{"type":"text","value":"streamlit","position":{"start":{"line":81,"column":80,"offset":6652},"end":{"line":81,"column":89,"offset":6661}}}],"position":{"start":{"line":81,"column":79,"offset":6651},"end":{"line":81,"column":184,"offset":6756}}},{"type":"text","value":"]","position":{"start":{"line":81,"column":184,"offset":6756},"end":{"line":81,"column":185,"offset":6757}}}],"position":{"start":{"line":81,"column":5,"offset":6577},"end":{"line":81,"column":185,"offset":6757}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"一个使用 LangChain 和 GPT Index 的教程 [","position":{"start":{"line":82,"column":7,"offset":6764},"end":{"line":82,"column":39,"offset":6796}}},{"type":"element","tagName":"a","properties":{"href":"https://leanpub.com/langchain"},"children":[{"type":"text","value":"leanpub, 收费","position":{"start":{"line":82,"column":40,"offset":6797},"end":{"line":82,"column":51,"offset":6808}}}],"position":{"start":{"line":82,"column":39,"offset":6796},"end":{"line":82,"column":83,"offset":6840}}},{"type":"text","value":"][","position":{"start":{"line":82,"column":83,"offset":6840},"end":{"line":82,"column":85,"offset":6842}}},{"type":"element","tagName":"a","properties":{"href":"https://getpocket.com/read/3839490971"},"children":[{"type":"text","value":"Pocket","position":{"start":{"line":82,"column":86,"offset":6843},"end":{"line":82,"column":92,"offset":6849}}}],"position":{"start":{"line":82,"column":85,"offset":6842},"end":{"line":82,"column":132,"offset":6889}}},{"type":"text","value":"]","position":{"start":{"line":82,"column":132,"offset":6889},"end":{"line":82,"column":133,"offset":6890}}}],"position":{"start":{"line":82,"column":5,"offset":6762},"end":{"line":82,"column":133,"offset":6890}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [","position":{"start":{"line":83,"column":7,"offset":6897},"end":{"line":83,"column":72,"offset":6962}}},{"type":"element","tagName":"a","properties":{"href":"https://t.co/JXV1SBI2OA"},"children":[{"type":"text","value":"YouTube","position":{"start":{"line":83,"column":73,"offset":6963},"end":{"line":83,"column":80,"offset":6970}}}],"position":{"start":{"line":83,"column":72,"offset":6962},"end":{"line":83,"column":106,"offset":6996}}},{"type":"text","value":"]","position":{"start":{"line":83,"column":106,"offset":6996},"end":{"line":83,"column":107,"offset":6997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"基于Embedding的文档问答。stuff, map reduce, refine, map rerank [","position":{"start":{"line":84,"column":11,"offset":7008},"end":{"line":84,"column":67,"offset":7064}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1667790801420558342"},"children":[{"type":"text","value":"Twitter@宝玉","position":{"start":{"line":84,"column":68,"offset":7065},"end":{"line":84,"column":78,"offset":7075}}}],"position":{"start":{"line":84,"column":67,"offset":7064},"end":{"line":84,"column":133,"offset":7130}}},{"type":"text","value":"]","position":{"start":{"line":84,"column":133,"offset":7130},"end":{"line":84,"column":134,"offset":7131}}}],"position":{"start":{"line":84,"column":9,"offset":7006},"end":{"line":84,"column":134,"offset":7131}}},{"type":"text","value":"\n"}],"position":{"start":{"line":84,"column":9,"offset":7006},"end":{"line":84,"column":134,"offset":7131}}},{"type":"text","value":"\n"}],"position":{"start":{"line":83,"column":5,"offset":6895},"end":{"line":84,"column":134,"offset":7131}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [","position":{"start":{"line":85,"column":7,"offset":7138},"end":{"line":85,"column":97,"offset":7228}}},{"type":"element","tagName":"a","properties":{"href":"https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves"},"children":[{"type":"text","value":"streamlit","position":{"start":{"line":85,"column":98,"offset":7229},"end":{"line":85,"column":107,"offset":7238}}}],"position":{"start":{"line":85,"column":97,"offset":7228},"end":{"line":85,"column":226,"offset":7357}}},{"type":"text","value":"]","position":{"start":{"line":85,"column":226,"offset":7357},"end":{"line":85,"column":227,"offset":7358}}}],"position":{"start":{"line":85,"column":5,"offset":7136},"end":{"line":85,"column":227,"offset":7358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问","position":{"start":{"line":86,"column":7,"offset":7365},"end":{"line":86,"column":37,"offset":7395}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"纯 JS 开源工具推荐 [","position":{"start":{"line":87,"column":11,"offset":7406},"end":{"line":87,"column":24,"offset":7419}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1638119945749037056"},"children":[{"type":"text","value":"推特","position":{"start":{"line":87,"column":25,"offset":7420},"end":{"line":87,"column":27,"offset":7422}}}],"position":{"start":{"line":87,"column":24,"offset":7419},"end":{"line":87,"column":89,"offset":7484}}},{"type":"text","value":"]","position":{"start":{"line":87,"column":89,"offset":7484},"end":{"line":87,"column":90,"offset":7485}}}],"position":{"start":{"line":87,"column":9,"offset":7404},"end":{"line":87,"column":90,"offset":7485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"用 ","position":{"start":{"line":88,"column":11,"offset":7496},"end":{"line":88,"column":13,"offset":7498}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LangChain","position":{"start":{"line":88,"column":13,"offset":7498},"end":{"line":88,"column":24,"offset":7509}}}],"position":{"start":{"line":88,"column":13,"offset":7498},"end":{"line":88,"column":24,"offset":7509}}},{"type":"text","value":" 六七行代码就可以搞定了 [","position":{"start":{"line":88,"column":24,"offset":7509},"end":{"line":88,"column":38,"offset":7523}}},{"type":"element","tagName":"a","properties":{"href":"https://js.langchain.com/docs/get_started/introduction"},"children":[{"type":"text","value":"LangChain","position":{"start":{"line":88,"column":39,"offset":7524},"end":{"line":88,"column":48,"offset":7533}}}],"position":{"start":{"line":88,"column":38,"offset":7523},"end":{"line":88,"column":105,"offset":7590}}},{"type":"text","value":"]","position":{"start":{"line":88,"column":105,"offset":7590},"end":{"line":88,"column":106,"offset":7591}}}],"position":{"start":{"line":88,"column":9,"offset":7494},"end":{"line":88,"column":106,"offset":7591}}},{"type":"text","value":"\n"}],"position":{"start":{"line":87,"column":9,"offset":7404},"end":{"line":88,"column":106,"offset":7591}}},{"type":"text","value":"\n"}],"position":{"start":{"line":86,"column":5,"offset":7363},"end":{"line":88,"column":106,"offset":7591}}},{"type":"text","value":"\n"}],"position":{"start":{"line":81,"column":5,"offset":6577},"end":{"line":88,"column":106,"offset":7591}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":6558},"end":{"line":88,"column":106,"offset":7591}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"AutoChain","position":{"start":{"line":89,"column":3,"offset":7594},"end":{"line":89,"column":14,"offset":7605}}}],"position":{"start":{"line":89,"column":3,"offset":7594},"end":{"line":89,"column":14,"offset":7605}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"介绍 [","position":{"start":{"line":90,"column":7,"offset":7612},"end":{"line":90,"column":11,"offset":7616}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/zhangjintao9020/status/1683996172980199429"},"children":[{"type":"text","value":"推特","position":{"start":{"line":90,"column":12,"offset":7617},"end":{"line":90,"column":14,"offset":7619}}}],"position":{"start":{"line":90,"column":11,"offset":7616},"end":{"line":90,"column":79,"offset":7684}}},{"type":"text","value":"][","position":{"start":{"line":90,"column":79,"offset":7684},"end":{"line":90,"column":81,"offset":7686}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Forethought-Technologies/AutoChain"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":90,"column":82,"offset":7687},"end":{"line":90,"column":88,"offset":7693}}}],"position":{"start":{"line":90,"column":81,"offset":7686},"end":{"line":90,"column":144,"offset":7749}}},{"type":"text","value":"]","position":{"start":{"line":90,"column":144,"offset":7749},"end":{"line":90,"column":145,"offset":7750}}}],"position":{"start":{"line":90,"column":5,"offset":7610},"end":{"line":90,"column":145,"offset":7750}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"《我为什么放弃了 LangChain》[","position":{"start":{"line":91,"column":7,"offset":7757},"end":{"line":91,"column":27,"offset":7777}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1683135367862718465"},"children":[{"type":"text","value":"推特","position":{"start":{"line":91,"column":28,"offset":7778},"end":{"line":91,"column":30,"offset":7780}}}],"position":{"start":{"line":91,"column":27,"offset":7777},"end":{"line":91,"column":92,"offset":7842}}},{"type":"text","value":"][","position":{"start":{"line":91,"column":92,"offset":7842},"end":{"line":91,"column":94,"offset":7844}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A"},"children":[{"type":"text","value":"微信","position":{"start":{"line":91,"column":95,"offset":7845},"end":{"line":91,"column":97,"offset":7847}}}],"position":{"start":{"line":91,"column":94,"offset":7844},"end":{"line":91,"column":149,"offset":7899}}},{"type":"text","value":"] 推友提出的 AutoChain 替代方案 [","position":{"start":{"line":91,"column":149,"offset":7899},"end":{"line":91,"column":173,"offset":7923}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves"},"children":[{"type":"text","value":"推特","position":{"start":{"line":91,"column":174,"offset":7924},"end":{"line":91,"column":176,"offset":7926}}}],"position":{"start":{"line":91,"column":173,"offset":7923},"end":{"line":91,"column":262,"offset":8012}}},{"type":"text","value":"]","position":{"start":{"line":91,"column":262,"offset":8012},"end":{"line":91,"column":263,"offset":8013}}}],"position":{"start":{"line":91,"column":5,"offset":7755},"end":{"line":91,"column":263,"offset":8013}}},{"type":"text","value":"\n"}],"position":{"start":{"line":90,"column":5,"offset":7610},"end":{"line":91,"column":263,"offset":8013}}},{"type":"text","value":"\n"}],"position":{"start":{"line":89,"column":1,"offset":7592},"end":{"line":91,"column":263,"offset":8013}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"OpenDAN","position":{"start":{"line":92,"column":3,"offset":8016},"end":{"line":92,"column":12,"offset":8025}}}],"position":{"start":{"line":92,"column":3,"offset":8016},"end":{"line":92,"column":12,"offset":8025}}},{"type":"text","value":": 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [","position":{"start":{"line":92,"column":12,"offset":8025},"end":{"line":92,"column":70,"offset":8083}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1666455683758161920"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":92,"column":71,"offset":8084},"end":{"line":92,"column":77,"offset":8090}}}],"position":{"start":{"line":92,"column":70,"offset":8083},"end":{"line":92,"column":139,"offset":8152}}},{"type":"text","value":"]","position":{"start":{"line":92,"column":139,"offset":8152},"end":{"line":92,"column":140,"offset":8153}}}],"position":{"start":{"line":92,"column":1,"offset":8014},"end":{"line":92,"column":140,"offset":8153}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"“视频语音↔文字”任务相关","position":{"start":{"line":93,"column":3,"offset":8156},"end":{"line":93,"column":16,"offset":8169}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"指定视频URL，识别文字，翻译 [","position":{"start":{"line":94,"column":7,"offset":8176},"end":{"line":94,"column":24,"offset":8193}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/lewangdev/autotranslate"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":94,"column":25,"offset":8194},"end":{"line":94,"column":31,"offset":8200}}}],"position":{"start":{"line":94,"column":24,"offset":8193},"end":{"line":94,"column":76,"offset":8245}}},{"type":"text","value":"]","position":{"start":{"line":94,"column":76,"offset":8245},"end":{"line":94,"column":77,"offset":8246}}}],"position":{"start":{"line":94,"column":5,"offset":8174},"end":{"line":94,"column":77,"offset":8246}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WhisperX","position":{"start":{"line":95,"column":7,"offset":8253},"end":{"line":95,"column":17,"offset":8263}}}],"position":{"start":{"line":95,"column":7,"offset":8253},"end":{"line":95,"column":17,"offset":8263}}},{"type":"text","value":": 按照单词对齐时间戳，生成的字幕都是完整的句子 [","position":{"start":{"line":95,"column":17,"offset":8263},"end":{"line":95,"column":43,"offset":8289}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/m-bain/whisperX"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":95,"column":44,"offset":8290},"end":{"line":95,"column":50,"offset":8296}}}],"position":{"start":{"line":95,"column":43,"offset":8289},"end":{"line":95,"column":87,"offset":8333}}},{"type":"text","value":"]。[","position":{"start":{"line":95,"column":87,"offset":8333},"end":{"line":95,"column":90,"offset":8336}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dotey/status/1667394662628204546"},"children":[{"type":"text","value":"Twitter@宝玉","position":{"start":{"line":95,"column":91,"offset":8337},"end":{"line":95,"column":101,"offset":8347}}}],"position":{"start":{"line":95,"column":90,"offset":8336},"end":{"line":95,"column":156,"offset":8402}}},{"type":"text","value":"] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 ","position":{"start":{"line":95,"column":156,"offset":8402},"end":{"line":95,"column":194,"offset":8440}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb"},"children":[{"type":"text","value":"Jupyter Notebook","position":{"start":{"line":95,"column":195,"offset":8441},"end":{"line":95,"column":211,"offset":8457}}}],"position":{"start":{"line":95,"column":194,"offset":8440},"end":{"line":95,"column":299,"offset":8545}}}],"position":{"start":{"line":95,"column":5,"offset":8251},"end":{"line":95,"column":299,"offset":8545}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"audiocraft","position":{"start":{"line":96,"column":7,"offset":8552},"end":{"line":96,"column":19,"offset":8564}}}],"position":{"start":{"line":96,"column":7,"offset":8552},"end":{"line":96,"column":19,"offset":8564}}},{"type":"text","value":": audio processing and generation with deep learning. [","position":{"start":{"line":96,"column":19,"offset":8564},"end":{"line":96,"column":74,"offset":8619}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/facebookresearch/audiocraft"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":96,"column":75,"offset":8620},"end":{"line":96,"column":81,"offset":8626}}}],"position":{"start":{"line":96,"column":74,"offset":8619},"end":{"line":96,"column":130,"offset":8675}}},{"type":"text","value":"]","position":{"start":{"line":96,"column":130,"offset":8675},"end":{"line":96,"column":131,"offset":8676}}}],"position":{"start":{"line":96,"column":5,"offset":8550},"end":{"line":96,"column":131,"offset":8676}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1684218981639413760"},"children":[{"type":"text","value":"[推特]","position":{"start":{"line":97,"column":8,"offset":8684},"end":{"line":97,"column":12,"offset":8688}}}],"position":{"start":{"line":97,"column":7,"offset":8683},"end":{"line":97,"column":74,"offset":8750}}},{"type":"text","value":" 小作文","position":{"start":{"line":97,"column":74,"offset":8750},"end":{"line":97,"column":78,"offset":8754}}}],"position":{"start":{"line":97,"column":5,"offset":8681},"end":{"line":97,"column":78,"offset":8754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"yt-dlp","position":{"start":{"line":98,"column":7,"offset":8761},"end":{"line":98,"column":15,"offset":8769}}}],"position":{"start":{"line":98,"column":7,"offset":8761},"end":{"line":98,"column":15,"offset":8769}}},{"type":"text","value":" 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [","position":{"start":{"line":98,"column":15,"offset":8769},"end":{"line":98,"column":50,"offset":8804}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Barret_China/status/1684228477644570624"},"children":[{"type":"text","value":"推特","position":{"start":{"line":98,"column":51,"offset":8805},"end":{"line":98,"column":53,"offset":8807}}}],"position":{"start":{"line":98,"column":50,"offset":8804},"end":{"line":98,"column":115,"offset":8869}}},{"type":"text","value":"][","position":{"start":{"line":98,"column":115,"offset":8869},"end":{"line":98,"column":117,"offset":8871}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/yt-dlp/yt-dlp"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":98,"column":118,"offset":8872},"end":{"line":98,"column":124,"offset":8878}}}],"position":{"start":{"line":98,"column":117,"offset":8871},"end":{"line":98,"column":159,"offset":8913}}},{"type":"text","value":"]","position":{"start":{"line":98,"column":159,"offset":8913},"end":{"line":98,"column":160,"offset":8914}}}],"position":{"start":{"line":98,"column":5,"offset":8759},"end":{"line":98,"column":160,"offset":8914}}},{"type":"text","value":"\n"}],"position":{"start":{"line":94,"column":5,"offset":8174},"end":{"line":98,"column":160,"offset":8914}}},{"type":"text","value":"\n"}],"position":{"start":{"line":93,"column":1,"offset":8154},"end":{"line":98,"column":160,"offset":8914}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [","position":{"start":{"line":99,"column":3,"offset":8917},"end":{"line":99,"column":52,"offset":8966}}},{"type":"element","tagName":"a","properties":{"href":"https://t.co/eqVc2LIfSz"},"children":[{"type":"text","value":"链接失效","position":{"start":{"line":99,"column":53,"offset":8967},"end":{"line":99,"column":57,"offset":8971}}}],"position":{"start":{"line":99,"column":52,"offset":8966},"end":{"line":99,"column":83,"offset":8997}}},{"type":"text","value":"]","position":{"start":{"line":99,"column":83,"offset":8997},"end":{"line":99,"column":84,"offset":8998}}}],"position":{"start":{"line":99,"column":1,"offset":8915},"end":{"line":99,"column":84,"offset":8998}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MusicGen","position":{"start":{"line":100,"column":3,"offset":9001},"end":{"line":100,"column":13,"offset":9011}}}],"position":{"start":{"line":100,"column":3,"offset":9001},"end":{"line":100,"column":13,"offset":9011}}},{"type":"text","value":": 将文本和旋律转化为完整乐曲 [","position":{"start":{"line":100,"column":13,"offset":9011},"end":{"line":100,"column":30,"offset":9028}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Fenng/status/1668141100610248705"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":100,"column":31,"offset":9029},"end":{"line":100,"column":38,"offset":9036}}}],"position":{"start":{"line":100,"column":30,"offset":9028},"end":{"line":100,"column":93,"offset":9091}}},{"type":"text","value":"][","position":{"start":{"line":100,"column":93,"offset":9091},"end":{"line":100,"column":95,"offset":9093}}},{"type":"element","tagName":"a","properties":{"href":"https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21"},"children":[{"type":"text","value":"ReadHub","position":{"start":{"line":100,"column":96,"offset":9094},"end":{"line":100,"column":103,"offset":9101}}}],"position":{"start":{"line":100,"column":95,"offset":9093},"end":{"line":100,"column":167,"offset":9165}}},{"type":"text","value":"]","position":{"start":{"line":100,"column":167,"offset":9165},"end":{"line":100,"column":168,"offset":9166}}}],"position":{"start":{"line":100,"column":1,"offset":8999},"end":{"line":100,"column":168,"offset":9166}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MMS","position":{"start":{"line":101,"column":3,"offset":9169},"end":{"line":101,"column":8,"offset":9174}}}],"position":{"start":{"line":101,"column":3,"offset":9169},"end":{"line":101,"column":8,"offset":9174}}},{"type":"text","value":": 一个声音模型 [","position":{"start":{"line":101,"column":8,"offset":9174},"end":{"line":101,"column":18,"offset":9184}}},{"type":"element","tagName":"a","properties":{"href":"https://huggingface.co/docs/transformers/main/en/model_doc/mms"},"children":[{"type":"text","value":"HuggingFace","position":{"start":{"line":101,"column":19,"offset":9185},"end":{"line":101,"column":30,"offset":9196}}}],"position":{"start":{"line":101,"column":18,"offset":9184},"end":{"line":101,"column":95,"offset":9261}}},{"type":"text","value":"]","position":{"start":{"line":101,"column":95,"offset":9261},"end":{"line":101,"column":96,"offset":9262}}}],"position":{"start":{"line":101,"column":1,"offset":9167},"end":{"line":101,"column":96,"offset":9262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FRVR Forge","position":{"start":{"line":102,"column":3,"offset":9265},"end":{"line":102,"column":15,"offset":9277}}}],"position":{"start":{"line":102,"column":3,"offset":9265},"end":{"line":102,"column":15,"offset":9277}}},{"type":"text","value":": AI-Powered End-to-End Game Creation [","position":{"start":{"line":102,"column":15,"offset":9277},"end":{"line":102,"column":54,"offset":9316}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/FRVRGames/status/1669758477789540365"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":102,"column":55,"offset":9317},"end":{"line":102,"column":62,"offset":9324}}}],"position":{"start":{"line":102,"column":54,"offset":9316},"end":{"line":102,"column":121,"offset":9383}}},{"type":"text","value":"][","position":{"start":{"line":102,"column":121,"offset":9383},"end":{"line":102,"column":123,"offset":9385}}},{"type":"element","tagName":"a","properties":{"href":"https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21"},"children":[{"type":"text","value":"官网","position":{"start":{"line":102,"column":124,"offset":9386},"end":{"line":102,"column":126,"offset":9388}}}],"position":{"start":{"line":102,"column":123,"offset":9385},"end":{"line":102,"column":210,"offset":9472}}},{"type":"text","value":"]","position":{"start":{"line":102,"column":210,"offset":9472},"end":{"line":102,"column":211,"offset":9473}}}],"position":{"start":{"line":102,"column":1,"offset":9263},"end":{"line":102,"column":211,"offset":9473}}},{"type":"text","value":"\n"}],"position":{"start":{"line":64,"column":1,"offset":4906},"end":{"line":102,"column":211,"offset":9473}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"开发平台"},"children":[{"type":"element","tagName":"a","properties":{"href":"#开发平台"},"children":[{"type":"text","value":"开发平台","position":{"start":{"line":104,"column":5,"offset":9479},"end":{"line":104,"column":9,"offset":9483}}}]}],"position":{"start":{"line":104,"column":1,"offset":9475},"end":{"line":104,"column":9,"offset":9483}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Runpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[","position":{"start":{"line":106,"column":1,"offset":9485},"end":{"line":106,"column":57,"offset":9541}}},{"type":"element","tagName":"a","properties":{"href":"http://runpod.io"},"children":[{"type":"text","value":"官网","position":{"start":{"line":106,"column":58,"offset":9542},"end":{"line":106,"column":60,"offset":9544}}}],"position":{"start":{"line":106,"column":57,"offset":9541},"end":{"line":106,"column":79,"offset":9563}}},{"type":"text","value":"]","position":{"start":{"line":106,"column":79,"offset":9563},"end":{"line":106,"column":80,"offset":9564}}}],"position":{"start":{"line":106,"column":1,"offset":9485},"end":{"line":106,"column":80,"offset":9564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"杂项"},"children":[{"type":"element","tagName":"a","properties":{"href":"#杂项"},"children":[{"type":"text","value":"杂项","position":{"start":{"line":108,"column":5,"offset":9570},"end":{"line":108,"column":7,"offset":9572}}}]}],"position":{"start":{"line":108,"column":1,"offset":9566},"end":{"line":108,"column":7,"offset":9572}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：","position":{"start":{"line":110,"column":3,"offset":9576},"end":{"line":110,"column":54,"offset":9627}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"路由器 Clash 规则 [","position":{"start":{"line":111,"column":7,"offset":9634},"end":{"line":111,"column":21,"offset":9648}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves"},"children":[{"type":"text","value":"推特","position":{"start":{"line":111,"column":22,"offset":9649},"end":{"line":111,"column":24,"offset":9651}}}],"position":{"start":{"line":111,"column":21,"offset":9648},"end":{"line":111,"column":104,"offset":9731}}},{"type":"text","value":"]","position":{"start":{"line":111,"column":104,"offset":9731},"end":{"line":111,"column":105,"offset":9732}}}],"position":{"start":{"line":111,"column":5,"offset":9632},"end":{"line":111,"column":105,"offset":9732}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"改用 Azure OpenAI service [","position":{"start":{"line":112,"column":7,"offset":9739},"end":{"line":112,"column":32,"offset":9764}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/zhangjintao9020/status/1662865819041402880"},"children":[{"type":"text","value":"推特","position":{"start":{"line":112,"column":33,"offset":9765},"end":{"line":112,"column":35,"offset":9767}}}],"position":{"start":{"line":112,"column":32,"offset":9764},"end":{"line":112,"column":100,"offset":9832}}},{"type":"text","value":"]","position":{"start":{"line":112,"column":100,"offset":9832},"end":{"line":112,"column":101,"offset":9833}}}],"position":{"start":{"line":112,"column":5,"offset":9737},"end":{"line":112,"column":101,"offset":9833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Cloudflare WARP [","position":{"start":{"line":113,"column":7,"offset":9840},"end":{"line":113,"column":24,"offset":9857}}},{"type":"element","tagName":"a","properties":{"href":"https://haoel.github.io/"},"children":[{"type":"text","value":"左耳朵","position":{"start":{"line":113,"column":25,"offset":9858},"end":{"line":113,"column":28,"offset":9861}}}],"position":{"start":{"line":113,"column":24,"offset":9857},"end":{"line":113,"column":55,"offset":9888}}},{"type":"text","value":"]","position":{"start":{"line":113,"column":55,"offset":9888},"end":{"line":113,"column":56,"offset":9889}}}],"position":{"start":{"line":113,"column":5,"offset":9838},"end":{"line":113,"column":56,"offset":9889}}},{"type":"text","value":"\n"}],"position":{"start":{"line":111,"column":5,"offset":9632},"end":{"line":113,"column":56,"offset":9889}}},{"type":"text","value":"\n"}],"position":{"start":{"line":110,"column":1,"offset":9574},"end":{"line":113,"column":56,"offset":9889}}},{"type":"text","value":"\n"}],"position":{"start":{"line":110,"column":1,"offset":9574},"end":{"line":113,"column":56,"offset":9889}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"生成式图像模型"},"children":[{"type":"element","tagName":"a","properties":{"href":"#生成式图像模型"},"children":[{"type":"text","value":"生成式图像模型","position":{"start":{"line":115,"column":4,"offset":9894},"end":{"line":115,"column":11,"offset":9901}}}]}],"position":{"start":{"line":115,"column":1,"offset":9891},"end":{"line":115,"column":11,"offset":9901}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[","position":{"start":{"line":117,"column":1,"offset":9903},"end":{"line":117,"column":46,"offset":9948}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/CodeByPoonam/status/1663824055164887040"},"children":[{"type":"text","value":"推特","position":{"start":{"line":117,"column":47,"offset":9949},"end":{"line":117,"column":49,"offset":9951}}}],"position":{"start":{"line":117,"column":46,"offset":9948},"end":{"line":117,"column":111,"offset":10013}}},{"type":"text","value":"]","position":{"start":{"line":117,"column":111,"offset":10013},"end":{"line":117,"column":112,"offset":10014}}}],"position":{"start":{"line":117,"column":1,"offset":9903},"end":{"line":117,"column":112,"offset":10014}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"配置要求极低，连Win掌机都能跑，但是不能断网。[","position":{"start":{"line":119,"column":3,"offset":10018},"end":{"line":119,"column":28,"offset":10043}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/OfflineHelper/status/1666042746866663424"},"children":[{"type":"text","value":"推特","position":{"start":{"line":119,"column":29,"offset":10044},"end":{"line":119,"column":31,"offset":10046}}}],"position":{"start":{"line":119,"column":28,"offset":10043},"end":{"line":119,"column":94,"offset":10109}}},{"type":"text","value":"]","position":{"start":{"line":119,"column":94,"offset":10109},"end":{"line":119,"column":95,"offset":10110}}}],"position":{"start":{"line":119,"column":1,"offset":10016},"end":{"line":119,"column":95,"offset":10110}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"填充将横屏的视频转换为竖屏。[","position":{"start":{"line":120,"column":3,"offset":10113},"end":{"line":120,"column":18,"offset":10128}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/Alex_Cerrato/status/1681677307843432449"},"children":[{"type":"text","value":"推特","position":{"start":{"line":120,"column":19,"offset":10129},"end":{"line":120,"column":21,"offset":10131}}}],"position":{"start":{"line":120,"column":18,"offset":10128},"end":{"line":120,"column":83,"offset":10193}}},{"type":"text","value":"]","position":{"start":{"line":120,"column":83,"offset":10193},"end":{"line":120,"column":84,"offset":10194}}}],"position":{"start":{"line":120,"column":1,"offset":10111},"end":{"line":120,"column":84,"offset":10194}}},{"type":"text","value":"\n"}],"position":{"start":{"line":119,"column":1,"offset":10016},"end":{"line":120,"column":84,"offset":10194}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"MidJourney","position":{"start":{"line":122,"column":1,"offset":10196},"end":{"line":122,"column":13,"offset":10208}}}],"position":{"start":{"line":122,"column":1,"offset":10196},"end":{"line":122,"column":13,"offset":10208}}}],"position":{"start":{"line":122,"column":1,"offset":10196},"end":{"line":122,"column":13,"offset":10208}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"在提示词中添加相机镜头信息。[","position":{"start":{"line":124,"column":3,"offset":10212},"end":{"line":124,"column":18,"offset":10227}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/4rtofficial/status/1663310457854099458"},"children":[{"type":"text","value":"推特","position":{"start":{"line":124,"column":19,"offset":10228},"end":{"line":124,"column":21,"offset":10230}}}],"position":{"start":{"line":124,"column":18,"offset":10227},"end":{"line":124,"column":82,"offset":10291}}},{"type":"text","value":"]","position":{"start":{"line":124,"column":82,"offset":10291},"end":{"line":124,"column":83,"offset":10292}}}],"position":{"start":{"line":124,"column":1,"offset":10210},"end":{"line":124,"column":83,"offset":10292}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"zoom [","position":{"start":{"line":125,"column":3,"offset":10295},"end":{"line":125,"column":9,"offset":10301}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/jesselaunz/status/1674210886695923712"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":125,"column":10,"offset":10302},"end":{"line":125,"column":17,"offset":10309}}}],"position":{"start":{"line":125,"column":9,"offset":10301},"end":{"line":125,"column":77,"offset":10369}}},{"type":"text","value":"]","position":{"start":{"line":125,"column":77,"offset":10369},"end":{"line":125,"column":78,"offset":10370}}}],"position":{"start":{"line":125,"column":1,"offset":10293},"end":{"line":125,"column":78,"offset":10370}}},{"type":"text","value":"\n"}],"position":{"start":{"line":124,"column":1,"offset":10210},"end":{"line":125,"column":78,"offset":10370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"StableDiffusion","position":{"start":{"line":127,"column":1,"offset":10372},"end":{"line":127,"column":18,"offset":10389}}}],"position":{"start":{"line":127,"column":1,"offset":10372},"end":{"line":127,"column":18,"offset":10389}}}],"position":{"start":{"line":127,"column":1,"offset":10372},"end":{"line":127,"column":18,"offset":10389}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Eric Fu: 训练指南. [","position":{"start":{"line":129,"column":3,"offset":10393},"end":{"line":129,"column":19,"offset":10409}}},{"type":"element","tagName":"a","properties":{"href":"https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader"},"children":[{"type":"text","value":"Coding Husky","position":{"start":{"line":129,"column":20,"offset":10410},"end":{"line":129,"column":32,"offset":10422}}}],"position":{"start":{"line":129,"column":19,"offset":10409},"end":{"line":129,"column":110,"offset":10500}}},{"type":"text","value":"]","position":{"start":{"line":129,"column":110,"offset":10500},"end":{"line":129,"column":111,"offset":10501}}}],"position":{"start":{"line":129,"column":1,"offset":10391},"end":{"line":129,"column":111,"offset":10501}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"文字或者符号融合生成图片 [","position":{"start":{"line":130,"column":3,"offset":10504},"end":{"line":130,"column":17,"offset":10518}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/op7418/status/1680223090138316800"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":130,"column":18,"offset":10519},"end":{"line":130,"column":25,"offset":10526}}}],"position":{"start":{"line":130,"column":17,"offset":10518},"end":{"line":130,"column":81,"offset":10582}}},{"type":"text","value":"][","position":{"start":{"line":130,"column":81,"offset":10582},"end":{"line":130,"column":83,"offset":10584}}},{"type":"element","tagName":"a","properties":{"href":"https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw"},"children":[{"type":"text","value":"微信","position":{"start":{"line":130,"column":84,"offset":10585},"end":{"line":130,"column":86,"offset":10587}}}],"position":{"start":{"line":130,"column":83,"offset":10584},"end":{"line":130,"column":138,"offset":10639}}},{"type":"text","value":"]","position":{"start":{"line":130,"column":138,"offset":10639},"end":{"line":130,"column":139,"offset":10640}}}],"position":{"start":{"line":130,"column":1,"offset":10502},"end":{"line":130,"column":139,"offset":10640}}},{"type":"text","value":"\n"}],"position":{"start":{"line":129,"column":1,"offset":10391},"end":{"line":130,"column":139,"offset":10640}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"StyleDrop","position":{"start":{"line":132,"column":1,"offset":10642},"end":{"line":132,"column":12,"offset":10653}}}],"position":{"start":{"line":132,"column":1,"offset":10642},"end":{"line":132,"column":12,"offset":10653}}},{"type":"text","value":": Google 基于 MUSE 的样式迁移 transformer [","position":{"start":{"line":132,"column":12,"offset":10653},"end":{"line":132,"column":48,"offset":10689}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/recatm/status/1665056017107886080"},"children":[{"type":"text","value":"推特","position":{"start":{"line":132,"column":49,"offset":10690},"end":{"line":132,"column":51,"offset":10692}}}],"position":{"start":{"line":132,"column":48,"offset":10689},"end":{"line":132,"column":107,"offset":10748}}},{"type":"text","value":"][","position":{"start":{"line":132,"column":107,"offset":10748},"end":{"line":132,"column":109,"offset":10750}}},{"type":"element","tagName":"a","properties":{"href":"https://styledrop.github.io/"},"children":[{"type":"text","value":"GitHub.io","position":{"start":{"line":132,"column":110,"offset":10751},"end":{"line":132,"column":119,"offset":10760}}}],"position":{"start":{"line":132,"column":109,"offset":10750},"end":{"line":132,"column":150,"offset":10791}}},{"type":"text","value":"]","position":{"start":{"line":132,"column":150,"offset":10791},"end":{"line":132,"column":151,"offset":10792}}}],"position":{"start":{"line":132,"column":1,"offset":10642},"end":{"line":132,"column":151,"offset":10792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Redream","position":{"start":{"line":134,"column":1,"offset":10794},"end":{"line":134,"column":10,"offset":10803}}}],"position":{"start":{"line":134,"column":1,"offset":10794},"end":{"line":134,"column":10,"offset":10803}}},{"type":"text","value":": 从视频到二次元动画 [","position":{"start":{"line":134,"column":10,"offset":10803},"end":{"line":134,"column":23,"offset":10816}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/heyBarsee/status/1665034805384290307"},"children":[{"type":"text","value":"推特","position":{"start":{"line":134,"column":24,"offset":10817},"end":{"line":134,"column":26,"offset":10819}}}],"position":{"start":{"line":134,"column":23,"offset":10816},"end":{"line":134,"column":85,"offset":10878}}},{"type":"text","value":"][","position":{"start":{"line":134,"column":85,"offset":10878},"end":{"line":134,"column":87,"offset":10880}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Fictiverse/Redream"},"children":[{"type":"text","value":"GitHub","position":{"start":{"line":134,"column":88,"offset":10881},"end":{"line":134,"column":94,"offset":10887}}}],"position":{"start":{"line":134,"column":87,"offset":10880},"end":{"line":134,"column":134,"offset":10927}}},{"type":"text","value":"]","position":{"start":{"line":134,"column":134,"offset":10927},"end":{"line":134,"column":135,"offset":10928}}}],"position":{"start":{"line":134,"column":1,"offset":10794},"end":{"line":134,"column":135,"offset":10928}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Runway","position":{"start":{"line":136,"column":1,"offset":10930},"end":{"line":136,"column":9,"offset":10938}}}],"position":{"start":{"line":136,"column":1,"offset":10930},"end":{"line":136,"column":9,"offset":10938}}},{"type":"text","value":" Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [","position":{"start":{"line":136,"column":9,"offset":10938},"end":{"line":136,"column":38,"offset":10967}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/op7418/status/1666461595818504192"},"children":[{"type":"text","value":"推特","position":{"start":{"line":136,"column":39,"offset":10968},"end":{"line":136,"column":41,"offset":10970}}}],"position":{"start":{"line":136,"column":38,"offset":10967},"end":{"line":136,"column":97,"offset":11026}}},{"type":"text","value":"][","position":{"start":{"line":136,"column":97,"offset":11026},"end":{"line":136,"column":99,"offset":11028}}},{"type":"element","tagName":"a","properties":{"href":"https://app.runwayml.com/login"},"children":[{"type":"text","value":"需注册","position":{"start":{"line":136,"column":100,"offset":11029},"end":{"line":136,"column":103,"offset":11032}}}],"position":{"start":{"line":136,"column":99,"offset":11028},"end":{"line":136,"column":136,"offset":11065}}},{"type":"text","value":"]","position":{"start":{"line":136,"column":136,"offset":11065},"end":{"line":136,"column":137,"offset":11066}}}],"position":{"start":{"line":136,"column":1,"offset":10930},"end":{"line":136,"column":137,"offset":11066}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [","position":{"start":{"line":138,"column":1,"offset":11068},"end":{"line":138,"column":29,"offset":11096}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/op7418/status/1669026494885285888"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":138,"column":30,"offset":11097},"end":{"line":138,"column":37,"offset":11104}}}],"position":{"start":{"line":138,"column":29,"offset":11096},"end":{"line":138,"column":93,"offset":11160}}},{"type":"text","value":"] [","position":{"start":{"line":138,"column":93,"offset":11160},"end":{"line":138,"column":96,"offset":11163}}},{"type":"element","tagName":"a","properties":{"href":"https://anonymous-31415926.github.io/"},"children":[{"type":"text","value":"GitHub.io","position":{"start":{"line":138,"column":97,"offset":11164},"end":{"line":138,"column":106,"offset":11173}}}],"position":{"start":{"line":138,"column":96,"offset":11163},"end":{"line":138,"column":146,"offset":11213}}},{"type":"text","value":"][","position":{"start":{"line":138,"column":146,"offset":11213},"end":{"line":138,"column":148,"offset":11215}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/rickawsb/status/1672310994390126593"},"children":[{"type":"text","value":"Twitter2","position":{"start":{"line":138,"column":149,"offset":11216},"end":{"line":138,"column":157,"offset":11224}}}],"position":{"start":{"line":138,"column":148,"offset":11215},"end":{"line":138,"column":215,"offset":11282}}},{"type":"text","value":"][","position":{"start":{"line":138,"column":215,"offset":11282},"end":{"line":138,"column":217,"offset":11284}}},{"type":"element","tagName":"a","properties":{"href":"https://arxiv.org/abs/2306.07954"},"children":[{"type":"text","value":"arxiv","position":{"start":{"line":138,"column":218,"offset":11285},"end":{"line":138,"column":223,"offset":11290}}}],"position":{"start":{"line":138,"column":217,"offset":11284},"end":{"line":138,"column":258,"offset":11325}}},{"type":"text","value":"]","position":{"start":{"line":138,"column":258,"offset":11325},"end":{"line":138,"column":259,"offset":11326}}}],"position":{"start":{"line":138,"column":1,"offset":11068},"end":{"line":138,"column":259,"offset":11326}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"AWPortrait1.1","position":{"start":{"line":140,"column":1,"offset":11328},"end":{"line":140,"column":16,"offset":11343}}}],"position":{"start":{"line":140,"column":1,"offset":11328},"end":{"line":140,"column":16,"offset":11343}}},{"type":"text","value":": 图像生成 [","position":{"start":{"line":140,"column":16,"offset":11343},"end":{"line":140,"column":24,"offset":11351}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/dynamicwangs/status/1673730591462928385"},"children":[{"type":"text","value":"Twitter","position":{"start":{"line":140,"column":25,"offset":11352},"end":{"line":140,"column":32,"offset":11359}}}],"position":{"start":{"line":140,"column":24,"offset":11351},"end":{"line":140,"column":94,"offset":11421}}},{"type":"text","value":"][","position":{"start":{"line":140,"column":94,"offset":11421},"end":{"line":140,"column":96,"offset":11423}}},{"type":"element","tagName":"a","properties":{"href":"https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8"},"children":[{"type":"text","value":"LibLibai","position":{"start":{"line":140,"column":97,"offset":11424},"end":{"line":140,"column":105,"offset":11432}}}],"position":{"start":{"line":140,"column":96,"offset":11423},"end":{"line":140,"column":175,"offset":11502}}},{"type":"text","value":"]","position":{"start":{"line":140,"column":175,"offset":11502},"end":{"line":140,"column":176,"offset":11503}}}],"position":{"start":{"line":140,"column":1,"offset":11328},"end":{"line":140,"column":177,"offset":11504}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Anything AI","position":{"start":{"line":142,"column":1,"offset":11506},"end":{"line":142,"column":14,"offset":11519}}}],"position":{"start":{"line":142,"column":1,"offset":11506},"end":{"line":142,"column":14,"offset":11519}}},{"type":"text","value":": 可以取代照片中的任何物体。免费，不需要注册. [","position":{"start":{"line":142,"column":14,"offset":11519},"end":{"line":142,"column":40,"offset":11545}}},{"type":"element","tagName":"a","properties":{"href":"https://www.anything-ai.com/"},"children":[{"type":"text","value":"官网","position":{"start":{"line":142,"column":41,"offset":11546},"end":{"line":142,"column":43,"offset":11548}}}],"position":{"start":{"line":142,"column":40,"offset":11545},"end":{"line":142,"column":74,"offset":11579}}},{"type":"text","value":"]","position":{"start":{"line":142,"column":74,"offset":11579},"end":{"line":142,"column":75,"offset":11580}}}],"position":{"start":{"line":142,"column":1,"offset":11506},"end":{"line":142,"column":75,"offset":11580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PixelLab","position":{"start":{"line":144,"column":1,"offset":11582},"end":{"line":144,"column":11,"offset":11592}}}],"position":{"start":{"line":144,"column":1,"offset":11582},"end":{"line":144,"column":11,"offset":11592}}},{"type":"text","value":": 草图创建2D图像. [","position":{"start":{"line":144,"column":11,"offset":11592},"end":{"line":144,"column":24,"offset":11605}}},{"type":"element","tagName":"a","properties":{"href":"https://www.pixellab.ai/"},"children":[{"type":"text","value":"官网","position":{"start":{"line":144,"column":25,"offset":11606},"end":{"line":144,"column":27,"offset":11608}}}],"position":{"start":{"line":144,"column":24,"offset":11605},"end":{"line":144,"column":54,"offset":11635}}},{"type":"text","value":"]","position":{"start":{"line":144,"column":54,"offset":11635},"end":{"line":144,"column":55,"offset":11636}}}],"position":{"start":{"line":144,"column":1,"offset":11582},"end":{"line":144,"column":55,"offset":11636}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":145,"column":1,"offset":11637}}},"collectedBy":[["md",[{"slug":"notes-on-pytorch-autograd","filename":"2024-11-10-notes-on-pytorch-autograd.md","date":"2024-11-10","title":".ai | PyTorch 中的自动微分 autograd","layout":"post","keywords":["md","py","ai"],"excerpt":"我对 PyTorch 中的自动微分还是一知半解，停留在知道计算图和反向传播的概念，以及能看懂和小改别人写好的代码的水平。之所以存在这样的认知断层，是因为介绍自动微分的时候一般是手动计算张量，然后给读者画个计算图；而真正干活的时候一般是写一个神经网络的类，这个类继承自 `torch.nn.Module`。","content":"\n\u003e 装了这么久的 ML/AI 爱好者，我发现我对 PyTorch 中的自动微分还是一知半解，停留在知道计算图和反向传播的概念，以及能看懂和小改别人写好的代码的水平。所以自觉还得再补补课。\n\u003e \n\u003e ~~真实动机是前女友找到了国内的研发工作，马上要回国赚大钱了，我破防了~~\n\u003e \n\u003e 之所以存在这样的认知断层，是因为介绍自动微分的时候一般是手动计算张量，然后给读者画个计算图；而真正干活的时候一般是写一个神经网络的类，这个类继承自 `torch.nn.Module`。\n\u003e \n\u003e 这样一包装，承载微分的张量很少被点名取用；而计算过程被一刀两段，绝大多数计算包装在了这个类的 `forward()` 方法中，但是最后一步计算模型预测和训练目标的差异 (loss)，往往留在了训练的控制流中，让人以为两者之间有什么本质区别。\n\u003e \n\u003e 其实不然——自动微分只针对 PyTorch 张量，`torch.nn.Module` 的实例是一个包含若干参数的函数，其参数要么是 `torch.nn.Parameter`，要么是其他含参的 `torch.nn.Module` 实例的参数，（用 `.parameters()` 方法取得，常见于 optimizer 的首个参数）。每次把训练输入张量带入这个函数，中间的数学计算就会被自动微分机制记录。对于自动微分来说，这些计算和最后对 loss 的计算没什么不同。\n\u003e \n\u003e 这个道理其实在做《[**一个 PyTorch 机器学习项目长什么样**](what-a-PyTorch-project-looks-like)》这篇笔记的时候就应该理解，而实际上没有理解，说明——\n\u003e \n\u003e - 一来信息和知识不是同一层面的概念，相同的信息嵌入在不同元信息中，可以给出不同深度的知识；\n\u003e - 再者费曼学习法虽然像实验记录一样有让人快速恢复学习进度的好处，但也有让人沉溺于流量，忘记学习本心的危险，戒之在躁。\n\n一个机器学习项目的过程包括：准备数据、定义模型、训练、评估效果。先来个简单例子：\n\n```python\nimport torch\nfrom torch import data,nn,optim\n# Data Preparation\ndataset = data.Dataset(...)\ntrainloader = data.DataLoader(dataset,...)\n# Model Definition\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        # ...\n    def forward(self, x):\n        # forward calculation ...\n        return x\nnet = Net()\ncriterion = nn.CrossEntropyLoss()\noptimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9)\n# Training\nfor epoch in range(2):\n    running_loss = 0.0\n    for i, data in enumerate(trainloader, 0):\n        # get the inputs\n        inputs, labels = data\n        # zero the parameter gradients\n        optimizer.zero_grad()\n        # forward + backward + optimize\n        outputs = net(inputs)\n        loss = criterion(outputs, labels)\n        loss.backward()\n        optimizer.step()\n        # print statistics\n        # ...\nprint('Finished Training')\n# Validation\ncorrect = 0\ntotal = 0\nwith torch.no_grad():\n    for data in testloader:\n        images, labels = data\n        outputs = net(images)\n```\n\n## 张量——自动微分的对象\n\n\u003e https://pytorch.org/tutorials/beginner/introyt/tensors_deeper_tutorial.html\n\n对于基本数据结构——张量，~~不应该~~ 也可以用大写的 `torch.Tensor(data)` 来创建；官方推荐的方法是小写的 `torch.tensor(data)`，产生的张量是 `data` 的拷贝，对一方的改动不反映到另一方。\n\n如果数据已经是 `numpy.ndarray` 了，可以用 `x_tensor = torch.from_numpy(x_array)` 和 `x_array = x_tensor.numpy()` 互相转化，他们使用同一片内存，对一方的改动会反映到另一方。\n\n更推荐的方法是用各种工厂函数，比如 \n\n- `torch.empty()`\n- `torch.zeros()`, `torch.zeros_like()`\n- `torch.ones()`, `torch.ones_like()`\n- `torch.eye()`\n- `torch.rand()`, `torch.rand_like()`\n\n其中在声明随机张量之前使用 `torch.manual_seed(seed)`，可以让距离该函数相同执行距离的随机数代码总是产生相同的数值：\n\n\u003e [https://pytorch.org/docs/stable/notes/randomness.html](https://pytorch.org/docs/stable/notes/randomness.html)\n\u003e \n\n### 尺寸相关\n\n张量的尺寸是一个它本身的一个性质 `x.shape`, 属于 `torch.Size` 类。\n\n张量之间的计算，在尺寸不同时，遵循类似 NumPy 的 broadcasting 规则。\n\n`x.item()` 从一个单元素张量（不一定是标量）里取出它的值，返回值的数据类型不再是 PyTorch 自己的类型，而是 python 原生类型。\n\n`x.unsqueeze(dim)` 在第 dim 个维度增加一个长度为 1 的维度。\n\n更一般的改变形状需要 `x.reshape(*new_shape)` 和 `torch.reshape(x,new_shape)`\n\n### 物理设备相关\n\n一般数学函数也有 `out` 参数，可以原位写入已存在的张量，不改变原张量的 id。\n\n原位计算是在一般数学函数名字后面加一下划线，如 `torch.sin_(x)`, `x1.add_(x2)`\n\n张量的赋值是传递指针，而不是传递数值。数值拷贝需要 `x2 = x1.clone()`. 克隆产物会保持和之前一样的 `requires_grad` 参数值。如果原张量在计算图里，新张量不需要的话应该 `c = a.detach().clone()`\n\n参与运算的两个张量需要在同一设备 (CPU/GPU). 创建张量的时候可以用 `device` 参数声明设备，已经创建的张量可以用 `x.to(device)` 改变设备。\n\n### 自动微分和神经网络相关\n\nPyTorch 中的张量都有 `requires_grad` 参数，默认为 False。\n\n对于带有 `requires_grad=True` 参数的张量，都受到自动微分机制 autograd 的控制。\n\n前面每个每个创建张量的函数都接受这个参数，也自动传染给对自动微分的张量进行数学计算的结果。\n\n神经网络，也就是继承自 `torch.nn.Module` 的对象（假设实例化为 `net`），内部有两个方法`net.parameters()` 和 `net.buffers()`，它们取到的是张量的 iterator，其中前者里面的张量（绝大多数）受 autograd 控制，后者不然。\n\n要想取得某个神经网络的单个参数，需要知道 `__init__()` 方法中的变量名，以及官网文档中的参数名（一般在 Variables 小节，比如[这个例子](https://pytorch.org/docs/stable/generated/torch.nn.Linear.html)）\n\n```python\nclass MyNetwork(torch.nn.Module):\n    def __init__(self):\n        super().__init__()\n        self.param1 = torch.nn.Parameter(torch.zeros((5,)),requires_grad=True)\n        self.linear = torch.nn.Linear(in_features=5,out_features=1,bias=True)\n    def forward(self,x):\n        return self.linear(x * self.param1)\nnet = MyNetwork()\nwith torch.no_grad():\n    print(net.param1)\n    print(net.linear.weight)\n    print(net.linear.bias)\n```\n\n## 自动微分\n\n\u003e https://pytorch.org/tutorials/beginner/introyt/autogradyt_tutorial.html\n\nautograd 自动根据代码动态构建计算图：\n\n```python\na = torch.linspace(0., 2. * math.pi, steps=25, requires_grad=True)\nb = torch.sin(a)\nc = 2 * b\nd = c + 1\nout = d.sum()\n```\n\n![上述代码构成的计算图](/photos/2024-11-10-computation-graph.png)\n\n对于数学函数 `b = f(a,*args)` 计算出来的张量 `b` ——\n\n### `.grad_fn` 是一个函数\n\n- 输入只有一个，尺寸需要和 `a` 的尺寸对齐 ~~（我感觉很奇怪）~~\n- 输出的数量等于计算出这个张量的函数的输入的数量。\n- ~~直接运行这个函数 ，基本就是把输入张量重复输出~~。从[这个问答](https://stackoverflow.com/questions/66402331/in-pytorch-what-exactly-does-the-grad-fn-attribute-store-and-how-is-it-used)来看，直接运行这个函数几乎没有意义，因为自动微分是用其他编程语言实现的，`SinBackward0` 并不是 Python 对象。\n- `t.grad_fn.next_functions` 是一个 tuple，成员是 `x1` 等参数的 `.grad_fn`, 可以继续递推到工厂函数创建的张量，也就是这个计算图的叶节点。叶节点的 `.grad_fn` 为 `None`\n\n```python\nprint(a.grad_fn)   # None\nprint(b.grad_fn)   # \u003cSinBackward0 object at 0x000001C8E240F400\u003e\nprint(c.grad_fn)   # \u003cMulBackward0 object at 0x000001C8E240EB30\u003e\nprint(d.grad_fn)   # \u003cAddBackward0 object at 0x000001C8E240F400\u003e\nprint(out.grad_fn) # \u003cSumBackward0 object at 0x000001C8E240F190\u003e\n```\n\n### `.backward()`\n\n- 默认状态下，计算图的最终节点 `out` 是一个标量，也就是 0 阶张量。\n    - 要想让计算图的最终节点是一个高阶张量，需要指定 `out.backward(gradient)` 参数。`gradient`和 `out` 尺寸相同，两者对应元素相乘后求和，从而成为一个标量。\n    - 这种设定可以让一个张量的梯度 `.grad` 的尺寸只和自身的尺寸相等；如果允许计算从 `out` 到自身的 Jacobian 矩阵，会导致计算规模按多项式（一般是平方）增长。\n- 默认状态下，一个计算图只能有一个`.backward()`，且只能执行一次。多次执行会报 `RuntimeError`: “Trying to backward through the graph a second time”。\n    - 要想对完全相同的计算图做多次 `.backward()`, 需指定 `out.backward(retain_graph-True)` 参数。\n\n### `t.grad`\n\n- 偏导数张量 $$\\partial\\mathrm {out}/\\partial \\mathrm t$$，在最终节点运行 `.backward()` 之后，计算图中各节点的 `.grad` 会自动被 autograd 赋值\n- 默认情况下，只有计算图的叶节点可以访问其 `.grad`\n- 要取得中间节点的 `.grad`，需要在 `.backward()` 之前对相应张量执行 `.retain_grad()`\n\n```python\nb.retain_grad()\nout.backward()\n\nprint(a.grad)   # tensor([...],...), 约等于 2 * torch.cos(a)\nprint(b.grad)   # tensor([2.,2.,2.,...2.],...)\nprint(c.grad)   # None，不是计算图的叶节点，也没有 .retain_grad()\nprint(d.grad)   # None，不是计算图的叶节点，也没有 .retain_grad()\nprint(out.grad) # None，不是计算图的叶节点，也没有 .retain_grad()\n```\n\n以上各个操作基本上符合数学的习惯。\n\n## 张量及其微分的更新\n\n以下设定更多的是为了工程上方便：\n\n`.grad` 是一个张量的性质，不是最终节点和该张量两者之间的性质，也不是计算图整体的性质。\n\n不论是 `.backward(retain_graph=True)`，还是另外构建了新的计算图并运行 `.backward()`（比如训练时加载了训练集的新一轮 batch），当一个已有 `.grad` 的张量被新的 `.backward()` 波及时，`.grad` 的新值会是旧值和本轮偏导数的相加。\n\n如果不想要这种累加，需要主动提前将张量 `.grad` 改成 0 或者 None。\n\n除了梯度张量的置 0，\n\n### 手动\n\n正常情况下，`requires_grad=True` 的张量，对其做的所有操作都会被 autograd 记录，包括赋值操作，这就导致正常情况下，不论是清空梯度，还是根据梯度更新模型的参数，会导致 auto grad 的混乱。\n\n所以需要特殊操作，通知 autograd 某些对受控张量的改动，不需要成为计算图的一部分。\n\n所谓的特殊操作就是 `torch.no_grad()`\n\n```python\na = torch.arange(5.,requires_grad=True)\nb = torch.sin(a)\nb.backward(gradient=torch.ones_like(b))\nwith torch.no_grad():\n    a[1] = 10\n    a.grad.zero_()  # a.grad = 0\nprint(a)  # tensor([0,10,2,3,4], requires_grad=True)\n```\n\n在完全不涉及训练，只需要推理的环境，`with torch.inference():` 比 `with torch.no_grad():` 更节省计算资源。\n\n### 自动\n\nPyTorch 提供了上述操作的接口。\n\n神经网络的参数的更新有一整个 `torch.optim` [模块](https://pytorch.org/docs/stable/optim.html#algorithms) 提供的更新参数的方式（`Optimizer` 的子类）。里面的优化器都实现了两个方法：`.step()` 和 `.zero_grad()`，前者修改参数本身的值，后者将各参数的梯度归零。\n\n```python\nclass MyModel(torch.nn.Module):\n    def __init__():\n        # ...\n    def forward(x):\n        # ...\n        return x\nnet = MyModel()\nopt = torch.optim.SGD(net.parameters(),lr=0.01)\nfor e in range(epoch):\n    # ...\n    opt.step()\n    opt.zero_grad()\n```\n\n如果只需要将梯度归零的话，nn.Module 也有一个 `.zero_grad()` 方法。\n\n### `tensor` vs. `tensor.data`\n\n看 SGD 优化器的源码的时候，看到更新权重的时候不是 `with torch.no_grad():`，而是用到了张量的 `a.data` 和 `a.grad.data`\n\n`a` vs. `a.data`, `b.grad` vs. `b.grad.data` 的区别今天不需要知道，不应该知道。这是旧的 Variable 对象的残留，新的接口将 Variable 合并进了 Tensor，`.data` 只是为了兼容旧代码而存在的，不再推荐这种用法。\n"},{"slug":"switched-domain-name","filename":"2024-09-30-switched-domain-name.md","date":"2024-09-30","title":"通知：本站网址変更","layout":"post","keywords":["md","html"],"excerpt":"未来可能无法自动跳转，请浏览器收藏和 RSS 订阅的读者更新网址。","content":"\n2024 年 9 月 30 日起，本站网址\n- 从 `https://mountaye.github.io/blog/` \n- 变更为 `https://blog.mountaye.com`.\n\n因为网站仍然架设在 GitHub Pages 上，所以旧网址可以自动跳转到新网址。\n\n但是下一步计划把网站迁移到 Cloudflare Pages 上，因为 Next.js 项目不同构建之间文件差异过多，不适合作为 git 仓库的内容进行托管。\n\n所以无法保证将来旧网址依然可以自动跳转。请使用浏览器收藏功能的读者更新收藏夹，使用 RSS 订阅功能的读者更新 RSS 源。\n\n根据初步计划，过渡期将持续到 2024 年 12 月 31 日。\n"},{"slug":"static-blog-with-nextjs-tailwindcss-shadcn","filename":"2024-09-17-static-blog-with-nextjs-tailwindcss-shadcn.md","date":"2024-09-17","title":".js | 博客改用 Next.js + TailwindCSS + Shadcn.UI","layout":"post","keywords":["md","js"],"excerpt":"我的博客本来是用 Jekyll 生成的静态网站，如今改用 Next.js + TailwindCSS + Shadcn.UI","content":"\n## 技术选型\n\n### 不再选择静态网站生成工具\n\n我的博客本来是用 Jekyll 生成的静态网站，因为网站架在 GitHub Pages 上，而 Jekyll 是 GitHub Pages 默认的构建工具。但是 Jekyll 的核心开发者年事已高，有的甚至已经去世，所以我感觉这个项目未来的活力堪忧。\n\nJekyll 是用 Ruby on Rails 写成的，其他编程语言，和 Jekyll 功能类似的工具有：\n\n- Python 的 Pelican\n- JavaScript 的 Hexo\n\n但是我还想做些更复杂的事情，预计需要靠服务端来实现。所以与其花时间移植到一个和 Jekyll 功能类似的工具，不如直接一步到位，学习一个全栈框架。\n\n### Next.js\n\n虽然不同的编程语言也都有自己的全栈框架，比如 Python 有 Django，但是既然浏览器主要支持 JavaScript，所以索性前后端都用 JS 比较方便，而且这样想的人很多，社区规模使得遇到问题更容易找到答案（这个优势在生成式语言模型的时代似乎没那么重要了）。\n\nJavaScript 语言之下，也存在至少 React 和 Vue 两大阵营。之所以选择 Next.js 这样一个基于 React.js 的框架，主要是路径依赖，很久很久以前学过[赫尔辛基大学的全栈公开课](https://fullstackopen.com/zh/)，那里教的就是 React。\n\n对于 Next.js 本身，Youtube@Fireship 有一个很简洁的介绍：[https://www.youtube.com/watch?v=Sklc_fQBmcs](https://www.youtube.com/watch?v=Sklc_fQBmcs)\n\n官网提供的教程在这里：[https://nextjs.org/learn](https://nextjs.org/learn)，和我学习的时候已经不一样了，那时候只有 page router，没有 app router。开发这一框架的 Vercel 公司也提供 Next.js 的云服务。但是鉴于其有过把用户引诱到 app router 架构然后给自家服务提价的黑历史，所以短期内不打算学和用 app router.\n\n### TailwindCSS\n\n[https://tailwindcss.com/](https://tailwindcss.com/)\n\n早就学过了，但是一直没有机会用。这次本来也可以不用的，直到决定使用 Shadcn.ui 组件库，因为 TailwindCSS 是它的一个依赖项。既然已经安装了，那不用白不用。\n\n### Shadcn.UI 而非 HeadlessUI\n\nhttps://ui.shadcn.com/\n\n一套组件库，也就是网页中经常出现的功能单元。这个库相对于竞品的最大优势，是允许直接复制粘贴代码而不用安装，用多少抄多少～\n\nTailwindCSS 自家也有一个组件库 [HeadlessUI](https://headlessui.com/)，但是主要是 `\u003cform/\u003e` 表单及其成员，侧重于向后端传数据的 HTML 元素的封装。而 Shacn 有很多炫酷的交互方面的组件，突出一个现成且好看。\n\n### 没用 Figma\n\n有用的功能都收钱，免费的功能不如直接 `next dev` 实时预览。\n\n## ~~踩过的坑~~ 学到的经验\n\n### 组件化作为一种思路\n\n正常的网页，HTML 负责内容，CSS 负责装饰，JavaScript 负责交互。这种分工，专业上叫做解耦。\n\n工程实践表明，这种解耦方式非常反人类。用户看到和使用的网页，是以功能上的相似、空间上的相邻为组织的，而要对其修改时，则需要到不同源代码的不同位置去；反之，某处代码的改动，无意中可能对远处的另一部分视觉效果和功能造成破坏。\n\n于是较新的全栈框架，其解耦的方式都是以组件为单位的，内容、样式、交互逻辑都写在一起。\n\n### JavaScript/JSX 语法中的 `{}`\n\nJSX 是对 JavaScript 语法的扩展，添加了类似于 HTML 标记的写法 `\u003cMyComponent\u003e\u003c/MyComponent\u003e`，用来表示 react 组件。\n\n在 jsx 语言的内部写 Javascript 时，需要将 JS 外面包裹一层 `{}`\n\nJavaScript 里类似 Python f-string 的结构写作``${}``，名叫 template literal: ``this is var: ${var}``\n\n——以上规则结合起来，会产生让初学者迷惑的现象：\n\n- `\u003cMyComponent className=’dark’/\u003e`: 一个正常的类名，直接用引号\n- `\u003cMyComponent className={dark}/\u003e:` 类名是一个 JS 字符串变量\n- 类名的一部分根据一个变量取值:\n  ```javascript\n  \u003cMyComponent className={`bg-${dark}`}/\u003e\n  ```\n\n### JavaScript 箭头函数中的 `{}` 和 `()`\n\nJavaScript 的箭头函数类似于 python 的 lambda 纯函数，但是有不同。\n\n`(var) =\u003e (expression(var))` 相当于 Python 中的 `lambda x: expression(x)` \n\n但是箭头函数的右侧可以是 `{}` 包裹的若干表达式，此时需要显式 return：\n\n```jsx\n(var) =\u003e {\n    expression1(var);\n    expression2(var);\n    return expression3(var);\n}\n```\n\nPython 的 lambda 必须是单一表达式的纯函数，不允许上面第二种写法。\n\n### 对象解包中的 `{}`\n\n当有一个包含若干键值对的对象时\n\n```jsx\nobj = {\n\t\tk1: \"value1\",\n\t\tk2: \"value2\",\n\t\tk3: \"value3\",\n\t\t...\n}\n```\n\n可以用 `const { k2 } = obj;` 的方式拿到 `obj[’k2’]` 的值，赋给 `k2`。\n\n结合上一节，\n\n- `(k1,k2)=\u003e(k1+k2);` 是一个两个自变量的函数；\n- `({k1,k2})=\u003e(k1+k2);` 是以一个 Object 为自变量的函数，这个 Object 的名字无所谓，也不确定一共有多少个属性，但属性中至少包含 `k1` 和 `k2`.\n\n### TailwindCSS 的 arbitrary value、JavaScript 的模板字符串、Shadcn 中的 `cn()` 函数\n\nTailwindCSS 的很多属性都允许在方括号中使用任意值，比如背景色 `bg-[#a4b4c4]`\n\n本以为可以直接在 `className` 里面用 template literal `\u003cdiv className={`bg-[${myColor}]`}\u003e`，但是并不总是生效。\n\n这个“并不总是”是个大坑，一开始在开发模式用得好好的，结果某次刷新页面之后就挂了，简直莫名其妙。\n\n好在 Shadcn 提供了一个 [`cn()` 函数](https://github.com/shadcn-ui/ui/blob/main/apps/www/lib/utils.ts)，接受一个或多个 TailwindCSS 类名字符串作为输入，就可以正常使用 template literal 了，例如 `\u003cdiv className={cn(\"block\",\"border-0\",`bg-[${myColor}]`)}\u003e\u003c/div\u003e`\n\n### HTML + CSS 布局\n\n两类套路：\n\n1. 传统的 `display`, `position`, `float` 属性；\n2. Flex 和 Grid 布局，看阮一峰先生的博客里的教程就挺方便：[Flex](https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html), [Grid](https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html).\n\n理论上后者新一些，消耗的脑力也更少一些，应该是更好的选择。\n\n但是前者也有一些优势场景。比如现在整个博客页面的上边栏和剩下的部分就是一个上下结构的 flex 布局，这导致屏幕最右侧的滚动条其实是页面一部分的，而不是整个页面的的滚动条。在 iOS 的 Safari 浏览器下，会导致网址栏不能自动隐藏，浪费很大一片屏幕空间。之后可能会换回传统功夫。\n\n而像是目录，文章跳转开头和评论区的按钮等等，需要在页面滚动时相对屏幕静止的元素，就不得不用 position，而且为了锚定在正文上，还需要嵌套好几层。\n\n按照传统功夫——\n\n- `display`可选的取值有 4 个: block | inline | inline-block | none\n    - block: 竖排，哪怕同一行内仍有空间容纳 html 中的下一个元素。\n    - inline: 横排，像文字内容一样，没有盒模型\n    - inline-block: 横排，但是有盒模型\n    - none: 不显示，和 `visibility:hidden` 的区别是，后者依然占有显示时的空间。\n- `position`可选的取值有 5 个: static | relative | fixed | absolute | sticky\n    - static: 默认值，按照 html 文件的顺序排列。\n    - relative: 相对于 static 默认值进行偏移，偏移量由 `top`, `right`, `bottom`, `left` 四个性质决定。所谓 `left: 50px` 的意思是左侧 margin 外多出 50 像素的空间，实际是向右偏移的效果。\n    - fixed: 相对于**视窗**的位置固定，位置由 `top`, `right`, `bottom`, `left` 四个性质决定。`left: 50px` 的意思是该元素的左侧 border **外沿**距离窗口左边 50 像素。\n    - absolute: 相对于最近一层父元素的位置固定，位置由 `top`, `right`, `bottom`, `left` 四个性质决定。`left: 50px` 的意思是该元素的左侧 border **外沿**距离父元素左侧**内沿** 50 像素。设计的时候需要考虑 border 宽度。\n    - sticky: 网页加载时按照 html 文件的顺序排列，直到网页滑动到某一位置，之后该元素固定在视窗，就像 fixed 一样，行为改变的位置由 `top`, `right`, `bottom`, `left` 四个性质决定。\n- `float`:  none | left | right | inherit\n    - none: 默认值，按照 html 文件的顺序排列。\n    - left: 保持在父元素左侧，其他元素环绕之。\n    - right: 保持在父元素右侧，其他元素环绕之。\n    - inherit: 和父元素的 float 的取值一致。\n\n### Unified.js 将 Markdown 文档转换为基于 JSX 的 HTML\n\nJekyll 等静态网站生成器的核心功能，就是把 markdown 文档翻译成 html 网页文档。在 Next.js 框架下，这一工作由以 unified.js 为基础的一群第三方库来完成。\n\n最早看到这个框架是在 DIYGOD 的博文《[如何优雅编译一个 Markdown 文档](https://diygod.cc/unified-markdown)》里，但是直接抄他在 xlog 里面的代码的话，在 next.js 之下好像会报错。所以又去官网仔细读了一下文档，现在可以说是略懂。\n\n这个话题本身值得专门写一篇文章，所以不在这里展开了。\n\n### Giscus 评论区切换黑夜模式\n\n自己写的组件的亮暗切换，是通过在 `\u003chtml/\u003e` 元素添加和删除 `dark` 类，然后搭配 TailwindCSS 的 `dark:` 来实现的。\n\nGiscus 官方支持切换黑夜模式：[https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md#parent-to-giscus-message-events](https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md#parent-to-giscus-message-events)。这套方法的关键，在于服务端返回的 iframe 有一个名为 `giscus-frame` ****的类。\n\nGiscus 为 react 提供了一套组件可以直接使用，但是在这套组件里面并没有这个类。\n\n所以只能弃用官方的组件，自己用 `useEffect` 模拟官网的 `\u003cscript/\u003e`\n\n```jsx\nexport function MyGiscus() {\n  useEffect(\n    () =\u003e {\n      const onPageLoad = () =\u003e {\n        console.log(\"\u003cMyGiscus/\u003e: activated on page load.\")\n        // START real business\n        const script = document.createElement('script');\n        script.src = \"https://giscus.app/client.js\";\n        script.setAttribute('data-repo',              '');\n        script.setAttribute('data-repo-id',           '');\n        script.setAttribute('data-category',          '');\n        script.setAttribute('data-category-id',       '');\n        script.setAttribute('data-mapping',           '');\n        script.setAttribute('data-strict',            '');\n        script.setAttribute('data-reactions-enabled', '');\n        script.setAttribute('data-emit-metadata',     '');\n        script.setAttribute('data-input-position',    '');\n        script.setAttribute('data-theme',             '');\n        script.setAttribute('data-lang',              '');\n        script.crossOrigin = 'anonymous';\n        script.async = true;\n        document.getElementById(\"comments\").appendChild(script);\n        // END real business\n      };\n      // Check if the page is already loaded\n      if (document.readyState==='complete') {\n        onPageLoad();\n      } else {\n        // Add event listener for page load\n        window.addEventListener('load',onPageLoad);\n        // Cleanup the event listener on component unmount\n        return () =\u003e { window.removeEventListener('load',onPageLoad); }\n      };\n    },\n    []\n  );\n  return (\u003cdiv id='comments'\u003e\u003c/div\u003e);\n}\n```\n\n### Next.js 的构建参数部分\n\n要让 next.js 构建静态网站，需要在 next.config.js 中写：\n\n```jsx\nmodule.exports = {\n  basePath: '/blog',\n  output: 'export',\n  generateBuildId: async () =\u003e \"buildID\",\n  // i18n: {\n  //   locales: ['zh-CN', 'en'],\n  //   defaultLocale: 'zh-CN',\n  //   localeDetection: false,\n  // },\n}\n```\n\n`basePath` 是因为博客的 GitHub 仓库 blog 不是默认的个人网站仓库；需要注意的是，next.js 自己的 Link 组件的 `href` 参数不需要包含这个值，但是图片等等的 `src` 参数需要。\n\n`generateBuildId` 函数的返回值是随便写的，不设定的话会导致输出里的 `_next/` 文件夹里有很多哈希值为名的文件夹，在 git 下会被当成不同的 blob 一直留在项目里。\n\n`i18n` 参数被注释掉了，因为静态生成的 next.js 项目不支持自动 i18n.\n\n### RSS 源和 sitemap\n\nRSS 由 feed 这个 npm 包来构建；\n\nsitemap 则是在 ChatGPT 的帮助下手写字符串。\n\n写好的字符串，通过在主页或者历史归档页面的 `getStaticProps()` 函数，写入 next.js 项目的 `public/` 文件夹。\n\n## 还没解决的问题\n\n### 手机端搜索框的汉字输入问题\n\n页面顶端的搜索框在手机触摸屏上，用汉字输入法输入关键词之后，直接按回车键，会导致已经输入的汉字被当成拼音，传递给搜索引擎。\n\n暂时的办法是在输入汉字之后，按回车键之前按一下空格。\n\n### Shadcn.Drawer 组件的上游代码报错；Google Ads\n\n新博客把谷歌广告撤了。赚不到多少钱不说，它还会往网页里动态添加元素，破坏原来的排版。\n\n话虽如此，每篇文章的右下角还是有个[要饭的图标](https://lucide.dev/icons/hand-heart)，计划用 shadcn 的 Drawer，放赞赏二维码，或者交换来的友站链接。\n\n但是目前 Drawer 的上游代码会报错，看起来作者已经在修复了，等更新。\n\n### Google Analytics\n\nnext.js 提供了 Google analytics: [https://nextjs.org/docs/pages/building-your-application/optimizing/third-party-libraries](https://nextjs.org/docs/pages/building-your-application/optimizing/third-party-libraries)\n\n但是加入之后没有反应，google 后台看不到，数据一落千丈。\n\n据说把相应的代码放到 `pages/_app.js` 可以解决问题，还没试。"},{"slug":"Python-test-notes","filename":"2023-10-16-Python-test-notes.md","date":"2023-10-16","title":".py | Python 测试笔记","layout":"post","keywords":["md","py"],"excerpt":"如题","content":"\n## 一些名词\n\n### 调试和测试\n\n调试一般是由代码的作者进行，用于自行检查程序运行过程，是否存在思路和实现不匹配的错误，调试的代码一般和程序主体写在一起，主要包括错误处理和日志记录。简单的可以用 print 和 assert，复杂的程序可以用 logging。\n\n测试一般由第三方进行，测试代码和程序代码分离，写测试的人甚至不需要理解程序的具体工作原理，只关注给定的输入能否得到程序宣称的输出。\n\n### 单元测试\n\n对一个模块、一个函数或者一个类来进行正确性检验的测试工作。\n\n检验的方法是写一堆测试用例，把测试员拍脑袋想的输入交给相应的模块，看模块的输出是否正确；以及不合理的输入是否被程序识别，抛出异常。\n\n单元测试全通过了不代表程序整体一定就没错误，但是单元测试通不过的程序一定有问题。\n\n### 文档测试\n\n文档是对代码的功能介绍，其中不免要举例子，给出实例代码和相应的输出，这个过程很像是单元测试，只不过是纯嘴炮。\n\n文档测试就是自动寻找文档中的示例代码，运行之后，和文档中的结果进行比对。\n\n### 集成测试\n\n集成测试模拟用户的行为，测试各个模块之间的配合，测试结果应该保证程序可以在生产环境中工作。\n\n## Python 中的测试\n\n### 文件结构\n\n上一篇文章里面提到了 src-layout，在 setuptools 的官方文档里提供了[一篇博客文章](https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure)，里面提到，这种文件结构的一个优点就是，测试代码的文件夹一般和 `src/` 而不是 package 平级，这就导致运行测试的时候只能先（在虚拟环境里）安装待测试的包，而不会无意中出现测试的代码和用户下载到的内容不同的问题。\n\n```\n\u003cproject_name\u003e\n├── LICENSE\n├── pyproject.toml\n├── README.md\n├── src/\n│   └── \u003cpackage_name\u003e/\n│       ├── __init__.py\n│       └── example.py\n└── tests/\n```\n\n### 单元测试·`unittest`\n\n`unittest` 是 Python 自带的单元测试库。\n\n测试脚本的内容基本如下：\n\n```\nimport unittest\n\nclass TestName1(unittest.TestCase):\n\n    def test_sum(self):\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\n\n    def test_sum_tuple(self):\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\n\nclass TestName2(unittest.TestCase):\n\n    def test_sum(self):\n        self.assertEqual(sum([1, 2, 3]), 6, \"Should be 6\")\n\n    def test_sum_tuple(self):\n        self.assertEqual(sum((1, 2, 2)), 6, \"Should be 6\")\n\nif __name__ == '__main__':\n    unittest.main()\n```\n\n- 测试用例包装在一个 class 里面，这个 class 继承自 `unittest.TestCase`\n- 所有测试方法名字以 “test” 开头，能测试的性质有限，都是类自带的方法，以 `self.` 开头。支持的方法见下表，感觉 `[assertTrue(x)](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue)` 和 `assertRaises(Exception)` 包打一切\n- 作为 `'__main__'` 运行，运行的是自带的函数 `unittest.main()`。\n- 运行时需要 python 指明脚本的文件名。安装了 nose2 这个库的话，可以直接运行 `python -m nose2`, 它会自动寻找所有的测试依次运行。（后面发现 `unittest` 好像也有自动发现功能）\n\n| Method | Checks that | New in |\n| --- | --- | --- |\n|         [unittest.TestCase.assertEqual](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertEqual) | a == b |  |\n|      [unittest.TestCase.assertNotEqual](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotEqual) | a != b |  |\n|          [unittest.TestCase.assertTrue](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue) | bool(x) is True |  |\n|         [unittest.TestCase.assertFalse](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertFalse) | bool(x) is False |  |\n|            [unittest.TestCase.assertIs](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIs) | a is b | 3.1 |\n|         [unittest.TestCase.assertIsNot](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNot) | a is not b | 3.1 |\n|        [unittest.TestCase.assertIsNone](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNone) | x is None | 3.1 |\n|     [unittest.TestCase.assertIsNotNone](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsNotNone) | x is not None | 3.1 |\n|            [unittest.TestCase.assertIn](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIn) | a in b | 3.1 |\n|         [unittest.TestCase.assertNotIn](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIn) | a not in b | 3.1 |\n|    [unittest.TestCase.assertIsInstance](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertIsInstance) | isinstance(a, b) | 3.2 |\n| [unittest.TestCase.assertNotIsInstance](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertNotIsInstance) | not isinstance(a, b) | 3.2 |\n\n### 文档测试\n\n[https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840](https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840)\n\nPython 的文档测试用的是 `doctest` 库，写法如下：\n\n```python\nclass Dict(dict):\n    '''\n    Simple dict but also support access as x.y style.\n\n    \u003e\u003e\u003e d1 = Dict()\n    \u003e\u003e\u003e d1['x'] = 100\n    \u003e\u003e\u003e d1.x\n    100\n    \u003e\u003e\u003e d1.y = 200\n    \u003e\u003e\u003e d1['y']\n    200\n    \u003e\u003e\u003e d2 = Dict(a=1, b=2, c='3')\n    \u003e\u003e\u003e d2.c\n    '3'\n    \u003e\u003e\u003e d2['empty']\n    Traceback (most recent call last):\n        ...\n    KeyError: 'empty'\n    \u003e\u003e\u003e d2.empty\n    Traceback (most recent call last):\n        ...\n    AttributeError: 'Dict' object has no attribute 'empty'\n    '''\n    def __init__(self, **kw):\n        super(Dict, self).__init__(**kw)\n\n    def __getattr__(self, key):\n        try:\n            return self[key]\n        except KeyError:\n            raise AttributeError(r\"'Dict' object has no attribute '%s'\" % key)\n\n    def __setattr__(self, key, value):\n        self[key] = value\n\nif __name__=='__main__':\n    import doctest\n    doctest.testmod()\n```\n\n在保持 docstring 缩进的前提下，`\u003e\u003e\u003e`  开头的注释会被当作测试运行，紧随其后的行将作为对比基准。只有当预期报错的时候，可以用 `...` 省略中间的报错信息。\n\n### 集成测试\n\n也可以用 `unittest` 完成。\n\n和单元测试的区别在于，一般来说需要构建测试数据集等等。这需要重写 `unittest.TestCase.setup()`\n\n```python\nclass TestComplexData(unittest.TestCase):\n    def setUp(self):\n        # load test data\n        self.app = App(database='fixtures/test_complex.json')\n\n    def test_customer_count(self):\n        self.assertEqual(len(self.app.customers), 10000)\n\n    def test_existence_of_customer(self):\n        customer = self.app.get_customer(id=9999)\n        self.assertEqual(customer.name, u\"バナナ\")\n        self.assertEqual(customer.address, \"10 Red Road, Akihabara, Tokyo\")\n\nif __name__ == '__main__':\n    unittest.main()\n```"},{"slug":"python-packaging","filename":"2023-10-13-python-packaging.md","date":"2023-10-13","title":".py | 让自己的代码可以被别人使用","layout":"post","keywords":["md","py"],"excerpt":"这里所说的“别人”，也包括6个月之后，已经不记得当初如何写出这段代码的自己。","content":"\n\u003e 这里所说的“别人”，也包括6个月之后，已经不记得当初如何写出这段代码的自己。\n\u003e \n\n很久以前写过一篇《**[import 引用现成的代码](https://mountaye.github.io/blog/articles/python-import-script-module-package)**》讲如何使用别人的代码，最后讲到一个模块的 `setup.py` 文件就没再往下写，这次继续。\n\n- [https://packaging.python.org/en/latest/tutorials/packaging-projects/](https://packaging.python.org/en/latest/tutorials/packaging-projects/)\n- [https://setuptools.pypa.io/en/latest/userguide/quickstart.html](https://setuptools.pypa.io/en/latest/userguide/quickstart.html)\n\n## 基本流程\n\n- 写代码，且让代码项目文件的结构符合一定的要求（见下一节）\n- 根据项目的文件结构，填写 `pyproject.toml`、`setup.cfg` **或** `setup.py` **文件**\n- 安装 build 这个库，然后运行 `python -m build`，产生 `dist/` 文件夹及下面的文件。（可选）将项目上传到 PyPi 或者 Conda\n\n## 项目文件结构\n\n常用的文件结构有两种：src-layout 和 flat-layout，另外一些小项目只有一个 python 文件。\n\n### src-layout\n\n在 src-layout 里，写有 package 源代码的文件夹上层还套了一个文件夹，这个文件夹习惯上命名为 src，当然也可以是别的。`pyproject.toml` 和 `src/` 文件夹同级。\n\n```\n\u003cproject_name\u003e\n├── LICENSE\n├── pyproject.toml\n├── README.md\n├── src/\n│   └── \u003cpackage_name\u003e/\n│       ├── __init__.py\n│       └── example.py\n└── tests/\n```\n\n### flat-layout\n\nflat-layout 指的是写有 package 源代码的文件夹直接作为开发项目的第一级子文件夹，和 `pyproject.toml` 处于同一级。\n\n这种结构比较古老，不太推荐\n\n```\n\u003cproject_name\u003e\n├── pyproject.toml  # and/or setup.cfg/setup.py (depending on the configuration method)\n├── \u003cpackage_name\u003e\n|   ├── __init__.py\n|   └── ... (other Python files)\n├── test\n|   └── ... (test files)\n├── # README.rst or README.md (a nice description of your package)\n└── # LICENCE (properly chosen license information, e.g. MIT, BSD-3, GPL-3, MPL-2, etc...)\n```\n\n### 单文件项目\n\n可以看作是 flat-layout 的一种特殊情况\n\n```\n\u003cproject_name\u003e\n├── pyproject.toml  # and/or setup.cfg/setup.py (depending on the configuration method)\n├── \u003cmy_module\u003e.py\n├── # README.rst or README.md (a nice description of your package)\n└── # LICENCE (properly chosen license information, e.g. MIT, BSD-3, GPL-3, MPL-2, etc...)\n```\n\n## 填写 `pyproject.toml`、`setup.cfg` **或** `setup.py` **文件**\n\n要想让构建程序把我们的代码打包成安装包，标题中的三个文件至少有一个要出现在 project 的根目录。\n\n文件中要按照各自拓展名对应的语法，填写项目的有关信息，绝大多数可以顾名思义。\n\n各参数的取值和代码文件结构相关，参数主要包括 `name`, `packages`, `package_dir`。如果文件结构完全满足上一节的结构，那么 `setuptools.find_packages()` 的[自动发现机制](https://setuptools.pypa.io/en/latest/userguide/package_discovery.html#automatic-discovery)就够用了。\n\n### `name`\n\n这是一个必填项。\n\n注意：上一节的文件结构中，有两个名字 `\u003cproject_name\u003e` 和 `\u003cpackage_name\u003e` ——\n\n`\u003cproject_name\u003e` 是整个开发项目的名字，如果用了类似 git 的版本控制的话，这个名字就是你的 repository 的名字。\n\n`\u003cpackage_name\u003e` 比较复杂，它可以是，但不一定是你在其他代码中 `import __` 的名字，import 的名字由 `pyproject.toml` / `setup.cfg` **/** `setup.py` 里面的 `name` 参数指定。不能有连字符，只能用下划线。\n\n如果你的 `name` 参数和 `\u003cpackage_name\u003e` 不同，还需要填写 `package_dir` 参数，\n\n此外还有第三个名字，就是 `pip install __` 时候的名字，上传到 PyPI 的时候填写，可以带有连字符，比如 scikit-image。\n\n### `packages`\n\n参数是一个 list，但是一般都使用 `setuptools.find_packages()` 的结果。\n\n该函数常用三个参数，都是可选的：\n\n- `where`: 一个路径，相对于 `setup.py`\n- `include`: 一个 list，元素是 glob patterns\n- `exclude`: 一个 list，元素是 glob patterns\n\n不指明任何参数 = 使用自动发现机制\n\n### `package_dir`\n\n参数是一个 dict，两种用法：\n\n- 标准的 src-layout，直接写 `{\"\": \"src/\"}`, 表示所有的代码都在这个文件夹里。\n- 当 python 模块的结构和代码的文件结构不同的时候，用这个 dict 指明 模块-文件夹 之间的关系。\n\n文件的路径相对于 `setup.py` 而言\n\n### `py_modules`\n\n参数是一个文件路径的列表，几乎专为单文件结构而存在。\n\n## 打包和上传\n\n安装 build 工具：`python3 -m pip install --upgrade build`\n\n运行 build：`python3 -m build`\n\n如此会生成一个 `dist/` 文件夹，里面包含打包的结果。\n\n要想让自己的程序可以被别人用 `pip install` 的方式安装，需要将打包成果上传到 PyPI，方法在[这里](https://packaging.python.org/en/latest/tutorials/packaging-projects/#uploading-the-distribution-archives)。\n\n## 安装\n\n### 静态安装\n\n已经上传到 PyPI 的包，可以直接用 `pip install \u003cpackage\u003e` 安装，这种方法叫做静态安装\n\n### 动态安装\n\n还在开发过程中的包，可以在 `setup.py` 所在的位置，运行 `pip install -e .` 这种安装方法叫做动态安装，因为代码的修改可以实时反映在引用的项目中。\n\n## 思考题\n\n上篇文章提到的一个[数据分析项目](https://gist.github.com/ericmjl/27e50331f24db3e8f957d1fe7bbbe510)，其文件结构是这样的（我稍微改动了一下）：\n\n```\n/path/to/project/directory/\n|-- notebooks/\n    |-- 01-first-logical-notebook.ipynb\n    |-- 02-second-logical-notebook.ipynb\n    |-- prototype-notebook.ipynb\n    |-- archive/\n\t      |-- no-longer-useful.ipynb\n|-- src/\n    |-- projectname/\n\t      |-- __init__.py\n\t      |-- config.py\n\t      |-- data.py\n\t      |-- utils.py\n    |-- setup.py\n|-- README.md\n|-- data/\n    |-- raw/\n    |-- processed/\n    |-- cleaned/\n|-- scripts/\n    |-- script1.py\n    |-- script2.py\n    |-- archive/\n        |-- no-longer-useful.py\n|-- environment.yml\n```\n\n问：\n\n1. 这是一个 flat-layout 还是 src-layout？\n2. setup.py 应该怎么写？执行动态安装时的 `pwd` 结果是什么？\n"},{"slug":"notes-on-TailwindCSS","filename":"2023-10-11-notes-on-TailwindCSS.md","date":"2023-10-11","title":".css | TailwindCSS 笔记","layout":"post","keywords":["md","js"],"excerpt":"一直听说“全栈项目 = Next.js + TailwindCSS + HeadlessUI”，但是 TailwindCSS 到底是啥，之前一直妹整明白","content":"\n\u003e 一直听说“全栈项目 = Next.js + TailwindCSS + HeadlessUI”\n但是 TailwindCSS 到底是啥，之前一直妹整明白\n\u003e \n\n## 思路：utility-first\n\n\u003e [https://tailwindcss.com/docs/utility-first](https://tailwindcss.com/docs/utility-first)\n\u003e \n\n传统设计需要根据 html 中的结构，在 CSS 中给相应的元素/class/id 定义所需要的所有样式 style。\n\n问题很明显：\n\n- 最低效的情况下，每个 `\u003cdiv/\u003e` 都要定义一个 class。\n- 每个定义里包含若干不同的性质，背景颜色、字体、边框样式等等都挤在一个大括号里，耦合过强。\n\nTailwindCSS 的思路名叫 utility-first, 预先定义一批“性质-取值”的组合，每个组合给出一个有规律命名的类。使用时，一个 `\u003cdiv/\u003e` 后面声明几个甚至几十个不同的 class。缺点就是不灵活了，每个性质只搭配有限几种取值，且类的数量很多。好处是——\n\n- 不用绞尽脑汁给类取名字\n- CSS 不会再变大了（也可以说已经大得不能再大了）\n- 修改视觉效果时更换一个类，而不是修改类的定义，也就不用担心对类的修改在自己不记得的地方生效。\n\n与之相对的另一种思路，是直接用 html 元素的 style 属性，或者用 module.css 让样式只对某一 component 生效。TailwindCSS 派对这种方法的批评是：\n\n- 每个取值都是设计者拍脑袋想出来的，一个项目要拍太多次脑袋，容易风格不统一。\n- 难以做 responsive design （真的吗？很怀疑）\n- 难以处理鼠标悬浮、聚焦等等状态（这玩意应该由 CSS 处理吗？）\n\nutility-first 在维护性方面收到批评的一点是，很多地方要不断重用相同的组合，少了一点封装和抽象。TailwindCSS 对此的辩护是，可以抽象出 components 和 partials（见下节），或者使用编辑器的多光标功能。（绷……）\n\n## 技术细节\n\n- 样式重用\n- 状态，比如鼠标悬浮、聚焦\n- Responsive design\n- 夜间模式\n- 添加自定义样式\n- 函数和 directives\n\n### 状态，比如鼠标悬浮、聚焦\n\n在正常的类名字之前添加 `\u003c状态\u003e:` 标记，用来指明在相应状态时的样式。这些状态可以叠加，之间用 `:` 分隔。比如 `\u003cbutton class=\"hover:bg-sky-700\"\u003e`\n\n可以标记的状态：[https://tailwindcss.com/docs/hover-focus-and-other-states#appendix](https://tailwindcss.com/docs/hover-focus-and-other-states#appendix)\n\n- Pseudo-classes\n    - 举例： [https://tailwindcss.com/docs/hover-focus-and-other-states#pseudo-class-reference](https://tailwindcss.com/docs/hover-focus-and-other-states#pseudo-class-reference)\n        - `hover:`, `focus:`, `active:`\n        - `first:`, `last:`, `odd:`, `even:`\n        - `required:`, `invalid:`, `disabled:`: 主要用在 `\u003cform\u003e` 中\n    - 需要父元素的状态信息时，\n        - 如果因为嵌套，存在多个 group 时，可以给每一个父元素的类命名 `group/\u003cname\u003e`, 子元素的类名需要写在伪类的后面，有点反直觉 `group-hover/\u003cname\u003e:`\n        - 给父元素添加 `group` 的 class，然后给需要变化的子元素添加 `group-\u003cpseudo-class\u003e:` 前缀。如 `group-hover:`\n        - 当需要更细致的选择时，可以在子元素的 group 后面添加自定义内容，如 `group-[.is-published]:`, `group-[:nth-of-type(3)_\u0026]:`\n    - 需要姊妹元素的状态信息时：\n        - 给被跟踪的姊妹元素添加 `peer` class, 被跟踪的元素只能在跟踪元素的前面。\n        - 其余特性类比 group\n- [Pseudo-elements](https://tailwindcss.com/docs/hover-focus-and-other-states#pseudo-elements), like `::before`, `::after`, `::placeholder`, and `::selection`\n    - 写作 `before:` 等等，默认相当于 `before:content-['*']`\n    - 当想要调整 content 以外的性质时，需要指明 `before:block`, `before:absolute`, `before:-inset-1` 等等\n    - `placeholder:` 用于调整表格中代填内容的样式\n    - `file:` 上传文件按钮的样式\n    - `list:` 列表开头的\n    - `selection:` （鼠标）选中文字之后的样式\n    - `first-line:`, `first-letter:` 杂志常用的首行、首字母的特殊样式\n- [Media and feature queries](https://tailwindcss.com/docs/hover-focus-and-other-states#media-and-feature-queries), like responsive breakpoints, dark mode, and `prefers-reduced-motion`\n    - 结合响应式设计 responsive design 一节，使用 `md:`, `lg:` 等前缀\n    - `dark:` 黑夜模式\n    - `motion-reduce:` 用户选择屏蔽动画效果时的样式，`motion-safe:` 只有不屏蔽动画才会生效的样式\n    - `portrait`,`landscape` 屏幕朝向\n    - `print:` 打印时的样式\n    - `supports-[...]` 当浏览器支持某种特性时启动。也可在 `tailwind.config.js` 文件中设置 `theme.supports` 变量\n- [Attribute selectors](https://tailwindcss.com/docs/hover-focus-and-other-states#attribute-selectors), like `[dir=\"rtl\"]` and `[open]`\n    - `aria-*` modifier to conditionally style things based on [ARIA attributes](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes).\n    - `data-[key=value]` data 参数的值\n    - `ltr:` \u0026 `rtl:` 从右往左书写的文字\n    - `open:` \u0026 `close:` 用于可以展开的元素\n    - 自定义选择符：用中括号包围，`\u0026` 开头选择元素，下划线表示空格，如 `[\u0026:nth-child(3)]:`, `[\u0026_p]:mt-4`, `[@supports(display:grid)]:grid`\n\n### Responsive design\n\n| Breakpoint prefix | Minimum width | CSS |\n| --- | --- | --- |\n| sm | 640px | @media (min-width: 640px) { ... } |\n| md | 768px | @media (min-width: 768px) { ... } |\n| lg | 1024px | @media (min-width: 1024px) { ... } |\n| xl | 1280px | @media (min-width: 1280px) { ... } |\n| 2xl | 1536px | @media (min-width: 1536px) { ... } |\n\n移动端优先的思路，所有尺寸限定的都是大于该宽度时的样式。\n\n要限定上限，要用 `max-\u003csize\u003e:` 比如 `md:max-xl:flex`\n\n要想自定义 breakpoints，可以看 [customizing breakpoints documentation](https://tailwindcss.com/docs/breakpoints).\n\n也可以单独设定 `min-[320px]:`, `max-[600px]:` 等等\n\n### 夜间模式\n\n默认使用操作系统的设定。\n\n要想手动设定，须在 tailwind.config.js 中加入\n\n```jsx\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  darkMode: 'class',\n  // ...\n}\n```\n\n然后含有 `class=’dark’` 的元素的子元素都时夜间模式的效果\n\n这个[链接](https://tailwindcss.com/docs/dark-mode#supporting-system-preference-and-manual-selection)包含了同时兼容系统设置和手动设置的做法\n\n### 样式重用\n\n- 编辑器的多光标功能：[https://code.visualstudio.com/docs/editor/codebasics#_multiple-selections-multicursor](https://code.visualstudio.com/docs/editor/codebasics#_multiple-selections-multicursor)\n- 标记语言的循环语法\n- react 等框架的 component 概念\n- `@apply` and `@layer` in the [Functions \u0026 Directives](https://tailwindcss.com/docs/functions-and-directives#layer) documentation.\n- 避免提前过度抽象\n\n### 添加自定义样式\n\n- 编辑 `tailwind.config.js`, 文档在此：[https://tailwindcss.com/docs/theme](https://tailwindcss.com/docs/theme)\n- [Arbitrary properties](https://tailwindcss.com/docs/adding-custom-styles#arbitrary-properties) 和 [arbitrary variants](https://tailwindcss.com/docs/adding-custom-styles#arbitrary-variants)\n- [Using CSS and @layer](https://tailwindcss.com/docs/adding-custom-styles#using-css-and-layer), 使用多个 CSS 文件时，需在 postcss.config.js 文件中添加 `plugins: {’postcss-import’:  {},}` 字段\n- [Writing plugins](https://tailwindcss.com/docs/adding-custom-styles#writing-plugins)\n\n### 函数和 directives\n\ndirectives 是 CSS 文件中的 `@` 开头的语句\n\n`@layer` 用来把一些需要打包的样式绑在一起，后面三个取值：base, components, utilities\n\n`@apply` 后面接 TailwindCSS 已经定义的类，表示把类的定义移植于此处。\n\n**[`@config`](https://tailwindcss.com/docs/functions-and-directives#config)** 指定所在 CSS 文件需要使用的 TailwindCSS 配置文件，放在 @import 语句后面\n\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  h1 {\n    @apply text-2xl;\n  }\n  h2 {\n    @apply text-xl;\n  }\n}\n\n@layer components {\n  .btn-blue {\n    @apply bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded;\n  }\n}\n\n@layer utilities {\n  .filter-none {\n    filter: none;\n  }\n  .filter-grayscale {\n    filter: grayscale(100%);\n  }\n}\n```\n\nTailwindCSS 还自定义了一些 CSS 函数：\n\n- `theme()`: 返回 config 文件中的参数，比如\n    \n    ```css\n    .content-area {\n      height: calc(100vh - theme(spacing.12));\n    }\n    ```\n    \n- [`screen()`](https://tailwindcss.com/docs/functions-and-directives#screen): 以预定义的 breakpoint 为参数，避免代码中间出现硬编码的数值\n    \n    ```css\n    @media screen(sm) { /* ... */ }\n    ```\n    \n\n## 在 Next.js 项目中安装 TailwindCSS\n\n\u003e [https://nextjs.org/docs/pages/building-your-application/styling/tailwind-css](https://nextjs.org/docs/pages/building-your-application/styling/tailwind-css)\n\u003e \n\n在命令行\n\n```bash\nnpm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n```\n\n如此会在项目的根目录新建 `tailwind.config.js` \u0026 `postcss.config.js` 文件\n\n然后编辑 `tailwind.config.js` 文件，添加需要用到 TailwaindCSS 的路径\n\n```jsx\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './app/**/*.{js,ts,jsx,tsx,mdx}', // Note the addition of the `app` directory.\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\n \n    // Or if using `src` directory:\n    './src/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n```\n\n在全局样式表 `styles/globals.css` 中引入 TailwaindCSS\n\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n在 `pages/_app.js` 中引入全局样式表。`@` 的含义不明\n\n```jsx\n// These styles apply to every route in the application\nimport '@/styles/globals.css'\nimport type { AppProps } from 'next/app'\n \nexport default function App({ Component, pageProps }: AppProps) {\n  return \u003cComponent {...pageProps} /\u003e\n}\n```\n\n在项目的 components 中使用 TailwindCSS 的类：\n\n```tsx\nexport default function Page() {\n  return \u003ch1 className=\"text-3xl font-bold underline\"\u003eHello, Next.js!\u003c/h1\u003e\n}\n```"},{"slug":"afaik-generative-ai","filename":"2023-09-11-afaik-generative-ai.md","date":"2023-09-11","title":"·如是我闻 | 生成式人工智能","layout":"post","keywords":["md","ai","rss"],"excerpt":"","content":"\n## 生成式语言模型\n\n### 模型\n\n- OpenAI/GPT\n- Claude\n- `bloomchat`, 可以商用 [[GitHub](https://github.com/sambanova/bloomchat)]\n- `falcon40B`\n    - apache 2.0 许可证，可商用[[huggingface](http://huggingface.co/tiiuae)]\n    - gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [[推特](https://twitter.com/rickawsb/status/1666148546285043714)]\n- `TigerBot`: 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [[GitHub](https://github.com/TigerResearch/TigerBot)]\n- `QLoRA`: 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [[论文](https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21)] [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- `MBT 30B`: 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [[Twitter](https://twitter.com/fi56622380/status/1672137540281974784)]\n- `GLM-6B` \u0026 `GLM2-6B`: 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[[Twitter](https://twitter.com/GanymedeNil/status/1679892021807550465)][[微信公众号@GLM大模型](https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==\u0026mid=2247484214\u0026idx=1\u0026sn=e42153f987a74d1ffc7882f7cc09670d)]\n- `Llama 2`: Meta开源大语言模型Llama 2，可免费商用. [[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)介绍]\n    - Jim Fan 评论 [[推特，翻译](https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves)]\n    - 很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[[推特](https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves)]\n    - `LLaMA-2-7B-32K`, context为32K的模型 [[推特](https://twitter.com/JefferyTatsuya/status/1685423475979325440)][[Twitter](https://twitter.com/togethercompute/status/1685048832168714240)]\n\n### 基于模型，直接可用的产品\n\n- OpenAI/GPT\n    - ChatGPT\n        - 2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[[Twitter](https://twitter.com/cryptonerdcn/status/1668733300070924288)][[OpenAI](https://openai.com/blog/function-calling-and-other-api-updates)][[用法 Twitter@宝玉](https://twitter.com/dotey/status/1668728109376450566)]\n    - ChatGPT - Code Interpreter\n        - 介绍 [[推特](https://twitter.com/fuyufjh/status/1684191835210809344)][[YouTube](https://www.youtube.com/watch?v=4wGlRrir_u4)]\n        - 《ChatGPT 探索：Code Interpreter 高级指南》[[微信@浮之静](https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves)]\n        - 源码可能被套出。[[Twitter](https://twitter.com/fuergaosi/status/1679457847237820416)]\n        - 对 code interpreter 的逆向工程 [[Twitter](https://twitter.com/Yampeleg/status/1678045605527003136)][[Mem](https://mem.ai/p/xyy8ULiAce1BecTxnU0M)]\n    - OpenAI API\n        - 2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [[推特](https://twitter.com/dotey/status/1694207797351616703)]\n    - OpenAI on Azure 内置了一个内容过滤器 [[推特1](https://twitter.com/jw1dev/status/1666613728106938368)][[推特2](https://twitter.com/jw1dev/status/1666622878962548740)]\n    - `forefront`: 完全免费 GPT-4 的工具 [[登录](https://accounts.forefront.ai/)]，大概基于 `gptfree-ts` [[GitHub](https://github.com/xiangsx/gpt4free-ts)]\n    - `BratGPT`: ChatGPT的激进版本。[[官网](https://bratgpt.com/)]\n    - `SmartStudy`: 提供文本文档，创建10个问题的小测验。[[官网](https://smartstudy.streamlit.app/)]\n    - `XrayGPT`: 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[[GitHub](https://twitter.com/CarsonYangk8s/status/1661588037892198401)]\n    - `FinGPT`: 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [[Twitter](https://twitter.com/JefferyTatsuya/status/1668433680887615488)]\n- 微软\n    - BingAI\n        - 本地部署方案 [[推特](https://twitter.com/geekbb/status/1665692703055552513)][[GitHub](https://github.com/adams549659584/go-proxy-bingai)]\n    - VsCode Copilot\n    - Office 365 Copilot: 每月每名用户30美元. [[verge](https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise)][[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)]\n- Claude+\n    - 例子：阅读多份行业报告 [[推特](https://twitter.com/iamshaynez/status/1684398211958730753)]\n- `Llama`\n    - llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[[网站](https://llama2.ai/)]\n    - WizardCoder 34B based on Code Llama 写代码 [[推特](https://twitter.com/dotey/status/1696202647269785875)]\n- WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- mendable: 根据开发文档进行问答 [[官网](https://www.mendable.ai/usecases/documentation)]\n- 阅读 PDF 文档\n    - Humata.ai\n    - explainpaper\n    - ChatPDF\n    - [[对比](https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves)] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。\n- Obsidian-copliot: 快速获取文字的核心观点\n- 视频内容梗概\n    - Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n    - summarize-tech: 5分钟了解长视频的要点. [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n- webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [[chrome](https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link)]\n\n### 模型教程、评论、二次开发\n\n- 一般性原理\n    - 《Prompt 编写模式》[[phodal](https://prompt-patterns.phodal.com)]\n    - 《LLM+Embedding构建问答系统的局限性及优化方案》[[知乎](https://zhuanlan.zhihu.com/p/641132245)]\n    - 基于检索的 LM，外挂一个数据库用来检索。[[推特](https://twitter.com/cosmtrek/status/1678077835418955781)][[GitHub.io](https://acl2023-retrieval-lm.github.io/)]\n    - 一篇泼冷水的论文 [[ACL Anthology](https://aclanthology.org/2023.findings-acl.426/)]\n    - 即刻出的Prompt调试工具。[[Twitter](https://twitter.com/vista8/status/1678784460786135040)][[官网](https://promptknit.com/)]\n- GPT\n    - GPT best practice [[OpenAI](https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves)]\n    - Andrew Ng 吴恩达 \u0026 Isa Fulford from OpenAI 《Build system with [#ChatGPT](https://twitter.com/hashtag/ChatGPT?src=hashtag_click) API》[推特@**[金田達也](https://twitter.com/JefferyTatsuya)**]\n        - 借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [[推特](https://twitter.com/dotey/status/1665476562219573249)]\n        - 同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [[Twitter](https://twitter.com/dotey/status/1668736426286915590)1][[Twitter2](https://twitter.com/dotey/status/1664335473500626946)]\n    - 熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论\n        - [Twitter@威力狈](https://twitter.com/waylybaye/status/1664253928970788864)：尝试了下用 ChatGPT 自动标注数据，效果太差了。\n        - [Twitter@宝玉](https://twitter.com/dotey/status/1669028955842650139)：通常如果我写的话，会做一些小调整\n        - [Twitter@IIInoki](https://twitter.com/IIInoki)：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错\n    - 《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[[橘子汽水铺](https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions)]\n- `LangChain`:\n    - 官方教程 [[推特](https://twitter.com/LangChainAI/status/1665009694627250176)][[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/)]\n    - 一个使用 LangChain 和 GPT Index 的教程 [[leanpub, 收费](https://leanpub.com/langchain)][[Pocket](https://getpocket.com/read/3839490971)]\n    - LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [[YouTube](https://t.co/JXV1SBI2OA)]\n        - 基于Embedding的文档问答。stuff, map reduce, refine, map rerank [[Twitter@宝玉](https://twitter.com/dotey/status/1667790801420558342)]\n    - Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves)]\n    - 把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问\n        - 纯 JS 开源工具推荐 [[推特](https://twitter.com/Barret_China/status/1638119945749037056)]\n        - 用 `LangChain` 六七行代码就可以搞定了 [[LangChain](https://js.langchain.com/docs/get_started/introduction)]\n- `AutoChain`\n    - 介绍 [[推特](https://twitter.com/zhangjintao9020/status/1683996172980199429)][[GitHub](https://github.com/Forethought-Technologies/AutoChain)]\n    - 《我为什么放弃了 LangChain》[[推特](https://twitter.com/Barret_China/status/1683135367862718465)][[微信](https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A)] 推友提出的 AutoChain 替代方案 [[推特](https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves)]\n- `OpenDAN`: 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [[GitHub](https://twitter.com/Barret_China/status/1666455683758161920)]\n- “视频语音↔文字”任务相关\n    - 指定视频URL，识别文字，翻译 [[GitHub](https://github.com/lewangdev/autotranslate)]\n    - `WhisperX`: 按照单词对齐时间戳，生成的字幕都是完整的句子 [[GitHub](https://github.com/m-bain/whisperX)]。[[Twitter@宝玉](https://twitter.com/dotey/status/1667394662628204546)] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 [Jupyter Notebook](https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb)\n    - `audiocraft`: audio processing and generation with deep learning. [[GitHub](https://github.com/facebookresearch/audiocraft)]\n    - [[推特]](https://twitter.com/Barret_China/status/1684218981639413760) 小作文\n    - `yt-dlp` 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [[推特](https://twitter.com/Barret_China/status/1684228477644570624)][[GitHub](https://github.com/yt-dlp/yt-dlp)]\n- ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [[链接失效](https://t.co/eqVc2LIfSz)]\n- `MusicGen`: 将文本和旋律转化为完整乐曲 [[Twitter](https://twitter.com/Fenng/status/1668141100610248705)][[ReadHub](https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21)]\n- `MMS`: 一个声音模型 [[HuggingFace](https://huggingface.co/docs/transformers/main/en/model_doc/mms)]\n- `FRVR Forge`: AI-Powered End-to-End Game Creation [[Twitter](https://twitter.com/FRVRGames/status/1669758477789540365)][[官网](https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21)]\n\n### 开发平台\n\nRunpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[[官网](http://runpod.io)]\n\n### 杂项\n\n- 2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：\n    - 路由器 Clash 规则 [[推特](https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves)]\n    - 改用 Azure OpenAI service [[推特](https://twitter.com/zhangjintao9020/status/1662865819041402880)]\n    - Cloudflare WARP [[左耳朵](https://haoel.github.io/)]\n\n## 生成式图像模型\n\n2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[[推特](https://twitter.com/CodeByPoonam/status/1663824055164887040)]\n\n- 配置要求极低，连Win掌机都能跑，但是不能断网。[[推特](https://twitter.com/OfflineHelper/status/1666042746866663424)]\n- 填充将横屏的视频转换为竖屏。[[推特](https://twitter.com/Alex_Cerrato/status/1681677307843432449)]\n\n`MidJourney`\n\n- 在提示词中添加相机镜头信息。[[推特](https://twitter.com/4rtofficial/status/1663310457854099458)]\n- zoom [[Twitter](https://twitter.com/jesselaunz/status/1674210886695923712)]\n\n`StableDiffusion`\n\n- Eric Fu: 训练指南. [[Coding Husky](https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader)]\n- 文字或者符号融合生成图片 [[Twitter](https://twitter.com/op7418/status/1680223090138316800)][[微信](https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw)]\n\n`StyleDrop`: Google 基于 MUSE 的样式迁移 transformer [[推特](https://twitter.com/recatm/status/1665056017107886080)][[GitHub.io](https://styledrop.github.io/)]\n\n`Redream`: 从视频到二次元动画 [[推特](https://twitter.com/heyBarsee/status/1665034805384290307)][[GitHub](https://github.com/Fictiverse/Redream)]\n\n`Runway` Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [[推特](https://twitter.com/op7418/status/1666461595818504192)][[需注册](https://app.runwayml.com/login)]\n\n一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [[Twitter](https://twitter.com/op7418/status/1669026494885285888)] [[GitHub.io](https://anonymous-31415926.github.io/)][[Twitter2](https://twitter.com/rickawsb/status/1672310994390126593)][[arxiv](https://arxiv.org/abs/2306.07954)]\n\n`AWPortrait1.1`: 图像生成 [[Twitter](https://twitter.com/dynamicwangs/status/1673730591462928385)][[LibLibai](https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8)] \n\n`Anything AI`: 可以取代照片中的任何物体。免费，不需要注册. [[官网](https://www.anything-ai.com/)]\n\n`PixelLab`: 草图创建2D图像. [[官网](https://www.pixellab.ai/)]\n"},{"slug":"what-is-intelligence-not-same-as-intelligence-is-what","filename":"2023-06-17-what-is-intelligence-not-same-as-intelligence-is-what.md","date":"2023-06-17","title":".tex | 什么是智能≠智能是什么","layout":"post","keywords":["tex","doc","md","ai"],"hasMath":true,"excerpt":"“什么是智能”的问题每每得不到回答，是因为它的逆问题“智能是什么”没有答案。","content":"\n## 0\n\n这是一篇酬和之作。\n\n徵文标题说的是：\n\n\u003e **機器會製造「內涵」嗎？**\n\u003e \n\n但是正文提出的问题是：\n\n\u003e AI透過程式組合出回答你問題的文字組合，有「涵義」嗎？\n\u003e \n\n可是，「內涵」和「涵義」两个词的——内涵/涵义——就不完全一样啊……\n\n“内涵”(connotation) 通常指词语或表达方式所隐含的情感、态度、暗示或附加的意义。它涉及到词语或表达方式所引起的情感、联想或隐含的观点。也就是弦外之音。\n\n而“涵义”(meaning) 一般指词语、表达方式或行为所传达的字面意义或字面上的定义。它强调的是直接的、明确的意义。\n\n看热闹不嫌事大，那我们再把问题搞复杂一点——在逻辑学里也有一个“内涵”(intension)，和“外延”(extension) 相对应。用**面向对象编程**的说法来理解，一个类里面定义的所有状态量和内部方法的集合，就构成这个类的“**内涵**”；所有（已经和将来能够）从这个类实例化出来的对象的集合，就构成这个类的“**外延**”。\n\n所以看起来，征文者想问的是日常“内涵”也就是言外之意，但是怕杠精（比如我）用有严格定义的逻辑“内涵”解构掉，所以换了“涵义”一词。\n\n这个问题很显然是因应最近大语言模型掀起的这一波 AI 浪潮。这个问题往前再问一句，就是“大语言模型是智能体/有智能吗？”\n\n- 前两年 DeepMind 的 AlphaGo/AlphaZero 系列 AI 在围棋中击败人类棋手时，人们也在问这个问题。\n- 上世纪四五十年代专家系统 (expert system) 刚刚开发的时候，人们也在问这个问题。\n- 从电子计算机往前追溯到机械计算机，甚至是巴比奇的差分机的时候，人们就已经开始问这样的问题了。\n\n这些问题求并集，然后在问题数量趋近于无穷下的极限，就是“什么是智能”。\n\n这样的问题每每得不到回答，是因为它的逆问题“智能是什么”没有答案。我们并没有智能的准确定义，只能一事一论。而之前的智能和非智能体的区别太明显，以至于作出判断也不能对智能的定义有所启发。\n\n## 1\n\n而对“智能是什么”的探究，哲学、逻辑学、计算机科学、生物学、管理学，不同领域的研究者有着不同的思路。\n\n### 古哲学·洞穴之壁与理念世界\n\n古希腊哲学家柏拉图在《理想国》里提到了“洞穴之壁”的寓言故事。\n\n有一群被囚禁在一个深洞的囚徒，从出生开始就被束缚在这个洞穴里，脖子和腿都被铁链锁住，没办法转身或离开。囚徒身后的洞穴入口处有一道火焰，火焰后有人持物体走过，物体的投射在洞穴内的墙壁上形成了影子。囚徒们就以为这些影子就是唯一的存在。\n\n这里的囚徒代表着人类，洞穴代表着世界，影子则代表着我们对于现象世界的感知和观念。人们的知识和信念往往受限于自己的经验和感知，就像囚徒们只看到了洞穴墙壁上的影子，而在影子之外还存在一个理想的理性世界。柏拉图用这个寓言故事表达了他对于人类认识和智慧的理解。所谓智慧，就是从洞穴的影子反过去推测火把前物体的能力。\n\n当然，这种思想被 Marx 主义定性为一种客观唯心主义、唯理论，是受其批判的。\n\n### 逻辑学·从命题到希尔伯特算符\n\n柏拉图的学生亚里士多德，今天在低年级的物理教科书里基本是个反面典型，但他对逻辑学进行了系统化和全面的研究，提出了许多逻辑学的基本概念和原理。这些成果后来成为了欧洲哲学和逻辑学的基石，对西方哲学和科学的发展产生了深远影响。\n\n所谓逻辑，就是研究命题的对错，以及如何判断命题对错的学问。而命题，就是能被判断对错的句子。但是句子显然可以再分成不同成分，于是就发明/发现了主体、客体、谓词、谓词的量词……等等概念，以及用这些概念构造命题的方法。\n\n但是要注意，虽然逻辑主要由语言来表达，但是逻辑还是和语言不同，主体、客体也不等于句子的主语、宾语。这两者的区别，基本可以类比于之前洞穴之壁寓言里的实体和影子。\n\n这种努力到目前为止的巅峰，基本上要数希尔伯特形式化逻辑系统了。感兴趣的朋友可以自行查阅戈得门特《代数学教程》的第一章，这玩意相当于思想界的引体向上，反正我是一个也拉不上去……\n\n### 计算机·从半导体到抽象语法树\n\n希尔伯特是德国的数学家，《代数学教程》也是数学而不是哲学教材。显而易见，逻辑虽然由哲学家奠基，但是主导权很快落到数学家，至少是哲学家兼数学家手里了。\n\n命题的“真”与“非真”同构于 {1, 0}，各种逻辑运算都可以分解成“或”与“非”两种基本逻辑运算的组合，这就是以数学家乔治·布尔 (George Boole) 命名的布尔代数。因为 {1, 0} 又可以同构于半导体电路的高低电位，和各种类似继电器的门电路组合，所以很容易用计算机在物理世界表示出这些逻辑运算。\n\n我们的电脑由上亿个这样的电位和逻辑门组成，一般的科普文章应该会去介绍芯片啊光刻机之类的东西，本文关注的是另一个方面：虽然生产电脑配件的厂商很多，不同的型号的元器件设计不同，组装出的成品应该千差万别，但是他们可以运行同样的程序，理想条件下（虽然实际工程中常常不理想）我们也可以期望他们跑出同样的结果。\n\n这说明所谓计算机科学，并不等同于研究计算机元件的电子科学和工程，这里电科和电子工程相当于洞穴岩壁上的影子，而计算机科学就相当于火光前的物体。这种超越物理的计算本质，一般用一种叫做“抽象语法树”的数据结构来表示。\n\n### 生物学·从神经元到神经网络\n\n人们发明计算机的时候，基本上还是把它当作工具，就没期望它有什么主体性和智慧。\n\n而随着生物学逐渐发现了神经系统及其作用，也随着物理学在二十世纪初的大发展之后的相对平静，很多物理学家开始插手其他学科。既然生命和非生命体的背后都服从同一套物理规律，既然物理学的众多成功经验说明，搞清楚构成系统的所有微观组成就可以理解宏观的系统，那么搞清楚人类的智力器官的基本单元以及相互作用，按理说也就能够理解什么是智慧。\n\n![a cartoon illustrating a neuron](/photos/2023-06-17-neuron.png)\n\n上图是一个神经细胞的结构示意图。从其他神经细胞释放出来的名为神经递质的化学物质，到达神经元左侧短且密集的树突之后，激活细胞膜表面的离子泵，主动运输离子跨过细胞膜，从而产生电信号。电信号沿细胞膜传导到右侧的树突，刺激凸触释放神经递质给下一个细胞。\n\n![a handdrawing style illustration of perceptron](/photos/2023-06-17-perceptron.png)\n\n上图就是根据神经元的工作原理抽象出的数学模型，名为 perceptron。一个 perceptron 就是一个函数，接受多个输入的自变量，加权求和之后套一个非线性的激活函数，得到一个输出。很多个这样的 perceptron 并连和串联，就构成下图，计算机算法中的神经网络。\n\n![a handdrawing style illustration of a neural network](/photos/2023-06-17-neural-network.png)\n\n而从实验方向研究神经系统，我们隔壁系就有，经常来我们系招人。基本上就是在小鼠的天灵盖上锯开一个天窗，然后给它带上个头盔，头盔上有能从天窗伸进去的电极，采集脑神经的电信号。以前头盔有网线伸到实验室天花板，实时传到数据中心的超算。现在好像进步了，改用 Wi-Fi 了。\n\n这实验怎么通过的伦理审查，咱也不知道，咱也不敢问……\n\n### 管理学·DIKW “数据-信息-知识-智慧”模型\n\n![a pyramid of DIKW model](/photos/2023-06-17-DIKW.png)\n\nDIKW 四个字母分别代表 data, information, knowledge, wisdom，即数据、信息、知识、智慧，是一种知识管理中的心智模型。\n\n四个层次，前一层都是后一层的基础，后一层都是对前一层的理解。\n\n如果是书面文字，数据就是笔画和字母；如果是语言，数据就是人声的响度、频率和音色。由笔画/字母/声音组成的有含义的字词就是信息。表示信息之间的关系的，可以判断对错的命题就是知识。包含和统摄各条知识的思想体系，就是智慧。\n\n反过来说，虽然智慧高于思想，但它仍需要通过把各条知识的表达汇总起来，才能被人感知。对知识的命题的理解依赖于构成名字的各个概念的涵义，属于信息水平的内容。而每个字都有不考虑其涵义的笔画字母构成。\n\n这层与层之间**看似**并没有插入额外的内容，智慧可以直接由笔画构成。但是我们一层层理解的深入，其实是不自觉地借用了我们当前社会约定俗成的解读方式。\n\n比如下面这个图片里的符号，对于现代人就只是数据，无法解读成信息。但是对于苏美尔人，这是用楔形文字表示的数字，是等腰直角三角形的腰和直角边的比值，也就是 $$\\sqrt{2}$$ 的近似值。\n\n![sumerian numerical approximation to square root of two](/photos/2023-06-17-ancient-root-2.png)\n\n约定俗成的数据解读方式，也就是关于**数据的数据**，根据西方的构词法，可以叫做“**元**数据”(meta-data)。\n\n数据和元数据一起构成信息，信息和元信息一起构成知识，知识和元知识一起构成智慧。俺坚持写博客的动机，就是用费曼学习法，把无意间使用的元知识显式地表达出来，而且记录下来，争取学而不退转。\n\n## 2\n\n回顾了这些，再来看大语言模型，就会发现它落在了各方努力的延长线的交点。\n\n大语言模型里有一个重要概念叫做“嵌入”(embedding)，就是把语言的基本字元 (token) 可逆地映射到一个超多维度的向量空间里。本来“国王”和“儿子”之间没办法加减乘除，但是嵌入后的向量空间里有加法和数乘，如果嵌入函数选得好，“国王”的向量 + “儿子”的向量，结果向量就约等于“王子”的向量。\n\n![illustration of vector addition from wikipedia](/photos/2023-06-17-vector-addition.png)\n\n生成式语言模型的核心就是一个超多元函数，接受前一个字嵌入后的向量作为输入，给出另一个向量作为输出，用嵌入函数的逆映射翻译成字元；再把旧的输出作为新的输入，直到输出结果是“语段结束”这样一个特殊字元为止。模型训练的过程，主要就是通过现成的语料，拟合这个超多元函数的参数。\n\n从 DIKW 模型来看，语言模型操作的是最基本的数据，它的输出究竟是什么信息，是不是正确的知识，体现了多少智慧，是人根据当下的社会文化来解读的。\n\n而实现 AI 的电子计算机，或是复杂生命的大脑，他们和智能之间的关系，应该就类似于具体的计算机电路和抽象语法树之间的关系。以此类比，未来的智能科学应该会成为一门独立的专业，它和计算机科学和神经生物学的区别，就像今天的电子科学与工程，和计算机科学之间的区别一样。当下神经生物学的热度，将来恐怕多半会被分流。\n\n这种对字符的计算不同于逻辑运算，语言模型不判断输出结果在逻辑上的正确与错误，这既给了他啥都能说几句的 feature，又给了它经常编假消息的 bug。\n\n想要改掉这种错误，引入对 AI 的纠错机制，治本之道恐怕还是诉诸于对世界的正确描述，与理论相关的还是要靠逻辑，与现实相关的还是要靠科学。\n\n只不过，大语言模型提供了一种数据结构，有希望把人类已知的真理储存在一起。对这种数据结构本身的研究，有可能反过来启发科学的发展。柏拉图的洞穴之壁可能不再是一个比喻，未来更大的语言模型的，亿万维度的参数空间有希望成为洞穴门口的那团火。\n\n只不过这一切都是“可能”，现在还只是 AI 的萌芽阶段，还没有足够的证据来证实或者证伪这种畅想。而且 AI 的参数量再大也是有限的，它所能表达的信息也就有限，而真理应当是无限的，就像科学一样，总要训练更新更大的模型，总要发现已知的未知，然后欣然接受更多未知的未知之存在。\n\n如果电子计算机实现的 AI 独立于人类产生了意识和超出人类的智慧，很难想象他们会继续用人类语言这种对他们来说很不方便的方式来交流。\n\n所以，哪怕是做个 AI 生成内容的质检员，科学家依然有事可做。这算是科学的堕落吗？当然不算，如果算的话，那从计算物理也被当作理论物理的那天起，人类就已经投降了（逃）\n\n## 3\n\n现在正面来回答问题：AI透過程式組合出回答你問題的文字組合，有「涵義」嗎？\n\n答：有。\n\n因为语言的「涵義」来自于语言的内容，和整个社会的文化，并不来自于这句话的作者的身份。即便是人与人之间的交流，诉诸身份也是一种非形式逻辑谬误，是理性不足的表现。只有在信息不足仍不得不下结论的时候才该使用，比如法律判决时的自由心证主义和/或法定证据主义。\n\n而鹿妈眼里真人鹿酱与 AI 鹿酱的区别，如果有的话，好像主要体现在动机的区别。动机这种东西，很多智慧不高的生物，比如小猫小狗都会有；而现在的 AI，似乎还没有展现出超出编程者设计的动机。编程写入的信息有限，现有 AI 的动机也就有限，鹿酱的赢面还是很大的。\n\n而动机是生物与非生物的区别吗？而什么是生物 ≠ 生物是什么，那就是另一个含混而复杂的问题了。\n\n## 4\n\n这篇博文发布的时候，高考应该已经结束了，马上该填报志愿了。\n\n那么，西元 2023 年，AI 来袭的当下，该选个啥专业在 AI 浪潮中幸存，或者选个啥专业给 AI 老爷带路呢？\n\n![a screenshot of a quotation from Three Body about attitudes towards aliens](/photos/2023-06-17-three-body-quotation.png)\n\n我的建议是，不要听别人的建议，按自己的兴趣来就好了。\n\n刚刚改开的时候，有一个超级热门的专业，叫科技英语。科技落下了好多年，对外开放需要语言交流，两者一结合应该是热门又稀缺了。结果呢，你现在还听说过这个专业吗？\n\n科技很重要是不错，语言很重要也不错，但是搞科技的人自己可以学英语，学英语的有几个搞得了科技？社会的进步主要靠创新，而创新的方向难以预测，不论这种预测分析听起来多有道理。\n\n如果真的找不到兴趣，那就在能力范围之内，找个难度最高的。如果想从事智力劳动，那数学含量是个不错的衡量标准；如果不排斥体力劳动，那训练时间越长越值得考虑。\n\n但这只是填志愿来不及时的权宜之计，发掘兴趣是人一生的课题。\n\n兴趣不是为了让你成功的时候更得意，毕竟成功的话不论做什么都很得意；\n\n兴趣是为了你不成功时也可以不失意，毕竟平凡才是人生的真谛。\n"},{"slug":"physics-based-neural-network-review-note","filename":"2023-03-20-physics-based-neural-network-review-note.md","date":"2023-03-20","title":".tex | 基于物理的神经网络 (PINN) 综述笔记","layout":"post","keywords":["tex","phy","md","ai"],"hasMath":true,"excerpt":"本文是《Scientific Machine Learning Through Physics–Informed Neural Networks: Where we are and What’s Next》这篇综述的读书笔记。","content":"\n\u003e 本文是《[Scientific Machine Learning Through Physics–Informed Neural Networks: Where we are and What’s Next](https://link.springer.com/article/10.1007/s10915-022-01939-z)》这篇综述的读书笔记。\n\u003e \n\n年前，今年新入职的天文学方面的一位老师给我们群发邮件，宣传某国家实验室超算的 GPU 编程马拉松活动，他可以担任指导老师。于是毫不意外地，我报了名。该编程马拉松项目还需要专门申请，申请材料里要写清楚打算干什么，于是报名的五六个人七嘴八舌地想创意。基于物理的神经网络 PINN 就是天文老师的点子。\n\n~~写到这里，我才意识到，老哥是不是想拿我们当免费劳动力啊~~~\n\n神经网络可以看作是一个复杂的非线性函数，接受一个（一般来说维度很高的）向量作为输入，一番计算后输出另一个向量。训练神经网络，就是找到这个函数的参数，绝大多数找参数的方法涉及计算网络输出对参数的偏导数，因此神经网络计算框架的核心功能就是自动微分 (auto-differentiation)。\n\n而很多物理问题，都可以用（偏）微分方程来描述，微分方程的解不是变量，而是函数，而且往往是复杂的非线性函数。所以基于物理的神经网络 (PINN) 就是以神经网络来表达这个函数，然后把这个函数带入到物理的微分方程中，把神经网络输出和真正的物理解之间的差距当作损失函数，反向传播回去来优化神经网络的参数。代入方程时的微分计算，正好可以利用现成框架的自动微分功能。\n\n在以 GPT 为代表的 transformer 类神经网络模型出现之前，自然语言处理类的机器学习项目，往往要在网络之外，利用人类的语法知识，对语段进行语义分割等等“中间任务”。Transformer 一出，算力出奇迹，中间任务逐渐变得没有必要了。\n\n在 GPT 崭露头角，并且越来越有迹象表明其将会涌现出通用人工智能的今天，这些基于物理的神经网络，会不会还未成熟就已过时？这种心情，就和《三体》第二卷开始，章北海和吴岳面对焊渍未漆的“唐”号航空母舰时差不多吧……\n\n\u003chr class=\"slender\"\u003e\n\n- Abstract\n    - PINNs are neural networks that encode model equations. a NN must fit observed data while reducing a PDE residual.\n\n1. Introduction\n    - The “curse of dimensionality” was first described by Bellman in the context of optimal control problems. (Bellman R.: Dynamic Programming. Sci. 153(3731), 34-37 (1966))\n    - Early work: MLP ([multilayer perceptron](https://en.wikipedia.org/wiki/Multilayer_perceptron)) with few hidden layers to solve PDEs. ([https://doi.org/10.1109/72.712178](https://doi.org/10.1109/72.712178))\n    - 感觉可能更全面的一篇综述：[https://doi.org/10.1007/s12206-021-0342-5](https://doi.org/10.1007/s12206-021-0342-5)。该文关注 what deep NN is used, how physical knowledge is represented, how physical information is integrated，本文只关于 PINN, a 2017 framework。\n\n    1. What the PINNs are\n        - PINNs solve problems involving PDEs:\n            - approximates PDE solutions by training a NN to minimize a loss function\n            - includes terms reflecting the initial and boundary conditions\n            - and PDE residual at selected points in the domain (called **collocation points**)\n            - given an input point in the integration domain, returns an estimated solution at that point.\n            - incorporates a [residual network](https://en.wikipedia.org/wiki/Residual_neural_network) that encodes the governing physical equations\n            - can be thought of as an **unsupervised strategy** when they are trained solely with physical equations in forward problems, but **supervised learning** when some properties are derived from data\n        - Advantages:\n            - [mesh-free](https://en.wikipedia.org/wiki/Meshfree_methods)? 但是我们给模型喂训练数据的时候往往已经暗含了 mesh 了吧\n            - on-demand computation after training\n            - forward and inverse problem using the same optimization, with minimal modification\n    2. What this Review is About\n        - 提到了一个做综述找文章的方法：本文涉及的文章可以在 Scopus 上进行高级搜索：`((physic* OR physical)) W/2 (informed OR constrained) W/2 “neural network”)`\n2. The Building Blocks of a PINN\n    - question:\n    \n    $$\n    F(u(z);\\gamma)=f(z),\\quad z\\ \\in\\ \\Omega \\\\ B(u(z))=g(z), \\quad z\\ \\in\\ \\partial \\Omega\n    $$\n    \n    - solution:\n    \n    $$\n    \\hat u_{\\theta}(z)\\approx u(z)\\\\ \\theta^* = \\arg\\min_{\\theta}\\left(\\omega_F L_F(\\theta)+\\omega_BL_B(\\theta)+\\omega_{data}L_{data}(\\theta)\\right)\n    $$\n    \n    1. Neural Network Architecture\n        - DNN (deep neural network) is an artificial neural network that is deeper than 2 layers.\n        \n        1. Feed-Forward Neural Network: \n            - $$u_{\\theta}(x) = C_{K} \\circ C_{k-1} ...\\alpha \\circ C_1(x),\\quad C_k(x) = W_k x_k + b_k$$\n            - Just change CNN from convolution to fully connected.\n            - Also known as multi-layer perceptrons (MLP)\n            \n            1. FFNN architectures \n                - Tartakovsky et al used 3 hidden layers, 50 units per layer,  and a hyperbolic tangent activation function. Other people use different numbers but of the same order of magnitude.\n                - A comparison paper: *Blechschmidt, J., Ernst, O.G.: Three ways to solve partial differential equations with neural networks –A review. GAMM-Mitteilungen 44(2), e202100,006 (2021).*\n            2. multiple FFNN: 2 phase [Stephan problem](https://en.wikipedia.org/wiki/Stefan_problem).\n            3. shallow networks: for training costs\n            4. activation function: the swish function in the paper has a learnable parameter, so — [how to add a learnable parameter in PyTorch](https://discuss.pytorch.org/t/how-could-i-create-a-module-with-learnable-parameters/28115)\n        2. Convolutional Neural Networks: \n            - I am most familiar with this one.\n            - $$f_i(x_i;W_i)=\\Phi_i(\\alpha_i(C_i(W_i,x_i)))$$\n            - performs well with multidimensional data such as images and speeches\n            \n            1. CNN architectures: \n                - `PhyGeoNet`: a physics-informed geometry-adaptive convolutional neural network. It uses a coordinate transformation to convert solution fields from irregular physical domains to rectangular reference domains.\n                - According to Fang ([https://doi.org/10.1109/TNNLS.2021.3070878](https://doi.org/10.1109/TNNLS.2021.3070878)), a Laplacian operator can be discretized using the finite volume approach, and the procedures are equivalent to convolution. Padding data can serve as boundary conditions.\n            2. convolutional encoder-decoder network\n        3. Recurrent Neural Network\n            - $$f_i(h_{i-1})=\\alpha\\left(W\\cdot h_{i-1}+U\\cdot x_i+b\\right)$$, where f is the layer-wise function, x is the input, h is the hidden vector state, W is a hidden-to-hidden weight matrix, U is an input-to-hidden matrix and b is a bias vector. 我认为等号左边的 $$h_{i-1}$$ 应当作为下标\n            - 感觉有点像 hidden Markov model，只不过 Markov 中间的 hidden layers 好像与序号无关（记不清了），~~RNN 看起来各个 W 和 H 似乎不同~~。**RNN cell is actually the exact same one and reused throughout.** (from [https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/](https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/)). Cartoon from Wikipedia:\n                \n                ![RNN 的构成单元](/photos/2023-03-20-rnn-unit.png)\n                \n            - From [https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/](https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/):\n                \n                ![RNN 的种类](/photos/2023-03-20-rnn-types.png)\n                \n            1. RNN architectures\n                - can be used to perform numerical Euler integration\n                - 基本上输出的第 i 项只与输入的第 i 和 i-1 项相关。\n            2. LSTM architectures\n                - 比 RNN 多更多中间隐变量，至于怎么做到整合长期记忆的，技术细节现在可以先略过\n        4. other architectures for PINN\n            1. Bayesian neural network: weights are distributions rather than deterministic values, and these distributions are learned using Bayesian inference. 只介绍了[一篇文章](https://doi.org/10.1016/j.jcp.2020.109913)\n            2. GAN architectures: \n                - two neural networks compete in a zero-sum game to deceive each other\n                - physics-informed GAN uses automatic differentiation to embed the governing physical laws in stochastic differential equations. The discriminator in PI–GAN is represented by a basic FFNN, while the generators are a combination of FFNNs and a NN induced by the SDE\n            3. multiple PINNs\n    2. Injection of Physical Laws\n        - 既然是要解常/偏微分方程，那么微分计算必不可少。四种方法：hand-coded, symbolic, numerical, auto-differentiation，最后一种显著胜出。所谓 auto-differentiation, 就是利用现成框架，框架自动给出原函数的导数的算法。\n        - Differential equation residual:\n            - $$r_F[\\hat u_\\theta](z)=r_\\theta(z):=F(\\hat u_\\theta(z);\\gamma)-f$$\n            - $$r_F[\\hat u_\\theta](z)=r_\\theta(x,t)=\\frac{\\partial}{\\partial t}\\hat u_\\theta(x,t)+F_x(\\hat u_\\theta(x,t))$$: 原文给出了来源，但是从字面上看不出来与前式的等价性\n        - Boundary condition residual: $$r_B[\\hat u_\\theta](z):=B(\\hat u_\\theta(z))-g(z)$$\n    3. Model Estimation by Learning Approaches\n        1. Observations about the Loss\n            - $$\\omega_F$$ accounts for the fidelity of the PDE model. Setting it to 0 trains the network without knowledge of underlying physics.\n            - In general, the number of $$\\theta$$ is more than the measurements, so regularization is needed.\n            - The number and position of residual points matter a lot.\n        2. Soft and Hard Constraints\n            - Soft: penalty terms. Bad:\n                - satisfying BC is not guaranteed\n                - assignment of the weight of BC affects learning efficiency, no theory for this.\n            - Hard: encoded into the network design. [Zhu et. al](https://doi.org/10.1007/s00466-020-01952-9)\n        3. Optimization methods\n            - minibatch sampling using the Adam algorithm\n            - increased sample size with L-BFGS (limited-memory Broyden-Fletcher-Goldfarb-Shanno)\n    4. Learning theory of PINN: roughly in DE, consistency + stability → convergence\n        1. convergence aspects: related to the number of parameters in NN\n        2. statistical learning error analysis: use *risk* to define *error*\n            - Empirical risk: $$\\hat R[u_\\theta]:=\\frac{1}{N}\\sum_{i=1}^N \\left\\|\\hat u_{\\theta}(z_i)-h_i\\right\\|^2$$\n            - Risk of using approximator: $$R[\\hat u_{\\theta}]:=\\int_{\\bar \\Omega}(\\hat u_{\\theta}(z)-u(z))^2dz$$\n            - Optimization error: the difference between the local and global minimum, is still an open question for PINN. $$E_O:=\\hat R[\\hat u_{\\theta}^*]-\\inf_{\\theta \\in \\Theta}\\hat R[u_\\theta]$$\n            - Generalization error: error when applied to unseen data. $$E_G:=\\sup_{\\theta \\in \\Theta}\\left\\|R[u_\\theta]-\\hat R[u_\\theta]\\right\\|$$\n            - Approximation error: $$E_A:=\\inf_{\\theta \\in \\Theta}R[u_\\theta]$$\n            - Global error between trained deep NN $$u^*_\\theta$$ and the correct solution is bounded: $$R[u^*_\\theta]\\le E_O+2E_G+E_A$$\n            - 有点乱，本来说 error 是误差，结果最后还是用 risk 作为误差\n        3. error analysis results for PINN\n3. Differential Problems Dealt with PINNs：读来感觉这一部分意义不大，将来遇到需要解决的问题时，回来看看之前有没有人做过就行了——另一方面看，一类方程就需要一类特殊构造的神经网络来解，那么说明神经网络解方程的通用性并不好~\n    1. Ordinary differential equations: \n        - Neural ODE as learners, a continuous representation of **ResNet**. [[Lai et al](https://doi.org/10.1016/j.jsv.2021.116196)], into 2 parts: a physics-informed term and an unknown discrepancy\n        - LSTM [[Zhang et al](https://doi.org/10.1016/j.cma.2020.113226)]\n        - [Directed graph models](https://doi.org/10.1016/j.compstruc.2020.106458) to implement ODE, and Euler RNN for numerical integration\n        - Symplectic Taylor neural networks in [Tong et al](https://doi.org/10.1016/j.jcp.2021.110325) use symplectic integrators\n    2. Partial differential equations: steady/unsteady的区别就是是否含时\n        1. steady-state PDEs\n        2. unsteady PDEs\n            1. Advection-diffusion-reaction problems\n                1. diffusion problems\n                2. advection problems\n            2. Flow problems\n                1. Navier-Stokes equations\n                2. hyperbolic equations\n            3. quantum problems\n    3. Other problems\n        1. Differential equations of fractional order\n            - automatic differentiation not applicable to fractional order → [L1 scheme](https://doi.org/10.1515/fca-2019-0086)\n            - [numerical discretization for fractional operators](https://doi.org/10.1137/18M1229845)\n            - [separate network to represent each fractional order](https://doi.org/10.1038/s43588-021-00158-0)\n        2. Uncertainty Estimation: [Bayesian](https://doi.org/10.1016/j.jcp.2020.109913)\n    4.  Solving a Differential Problem with PINN\n        - 1d non-linear Schrödinger equation\n        - dataset by simulation with MATLAB-based Chebfun open-source(?) software\n4. PINNs: Data, Applications, and Software\n    1. Data\n    2. Applications\n        1. Hemodynamics\n        2. Flows Problems\n        3. Optics and Electromagnetic Applications\n        4. Molecular Dynamics and Materials-Related Applications\n        5. Geoscience and Elastiostatic Problems\n        6. Industrial Application\n    3. Software\n        1. `DeepXDE`: initial library by one of the vanilla PINN authors\n        2. `NeuroDiffEq`: PyTorch based used at Harvard IACS\n        3. `Modulus`: previously known as Nvidia SimNet\n        4. `SciANN`: implementation of PINN as Keras wrapper\n        5. `PyDENs`: heat and wave equations\n        6. `NeuralPDE.jl`: part of SciML\n        7. `ADCME`: extending TensorFlow\n        8. `Nangs`: stopped updates, but faster than PyDENs\n        9. `TensorDiffEq`: TensorFlow for multi-worker distributed computing\n        10. `IDRLnet`: a python toolbox inspired by Nvidia SimNet\n        11. `Elvet`: coupled ODEs or PDEs, and variational problems about the minimization of a functional\n        12. Other Packages\n5. PINN Future Challenges and Directions\n    1. Overcoming Theoretical Difficulties in PINN\n    2. Improving Implementation Aspects in PINN\n    3. PINN in the SciML Framework\n    4. PINN in the AI Framework\n6. Conclusion\n"},{"slug":"parameters-in-convolution-in-neural-network-and-transposeconv","filename":"2022-12-29-parameters-in-convolution-in-neural-network-and-transposeconv.md","date":"2022-12-29","title":".ai | 神经网络中的卷积及其参数","layout":"post","keywords":["ai","py","md","m"],"hasMath":true,"excerpt":"在读 PyTorch 的文档和源码的时候，发现写文档的人也不怎么解释啥是卷积，卷积的各个参数是什么意思，只在文档里扔了个链接就完事了……","content":"\n在读 PyTorch 的文档和源码的时候，发现写文档的人也不怎么解释啥是卷积，卷积的各个参数是什么意思，只在文档里扔了个链接就完事了，链接那头是一个 GitHub 上的动图演示仓库，是一篇论文《A guide to convolution arithmetic for deep learning》（链接在文末）的附件。于是这篇文章，基本上就是论文的读书笔记了。\n\n## 数学的卷积：连续 vs. 离散\n\n### 定义\n\n连续的情况，两个单变量函数 $$f(\\cdot)$$ 和 $$g(\\cdot)$$ 的卷积，定义为：\n\n$$\n\\left(f*g\\right)(x):=\\int_{-\\infty}^{\\infty}f(\\tau)g(x-\\tau)d\\tau\n$$\n\n离散的情况，两个向量（也就是一阶张量） $$\\vec f$$ 和 $$\\vec g$$ 的卷积，定义为：\n\n$$\n\\left(\\vec f * \\vec g\\right)_i := \\sum_{j=-\\infty}^{\\infty} f_j g_{i-j}\n$$\n\n多变量函数/高阶张量的情况，只需要多加几重积分/求和号就可以类推了。\n\n看这两个定义——\n\n只看等号左边的话，可以把卷积看作是一种特殊的乘法，也就是一种**运算。**f 和 g 的地位是平等的，卷积甚至还满足交换律，你甚至可以把两者的顺序变一变；\n\n但是看等号右边的话，卷积就应该被看作是一种**变换**。f 和 g 的地位不再平等，f 是被变换的函数/向量，g 是变换的核 (kernel)。函数的情况里，g 把定义在 $$\\tau$$ 空间里的函数 f 变换成了 x 空间里的另一个函数；向量的情况里，g 把一个 J (j 所有可能取值的数量) 维向量 f 变换成了一个 I (i 所有可能取值的数量) 维向量。\n\n神经网络中的卷积，**借用**的主要是第二种**理解**。\n\n### 手算一个例子\n\n例如 $$\\vec f = (1,2,3,4)$$, $$\\vec g = (1,2,3)$$，而且约定下标从 0 开始的话——\n\n\u0026nbsp; $$(\\vec f*\\vec g)_0 = f_0g_0 = 1$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_1 = f_0g_1 + f_1g_0  = 4$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_2 = f_0g_2 + f_1g_1 + f_2g_0 = 10$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_3 = f_1g_2 + f_2g_1 + f_3g_0 = 16$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_4 = f_2g_2 + f_3g_1 = 17$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_5 = f_3g_2 = 12$$\n\n不想手算？\n\n```python\nimport numpy as np\nfrom scipy import signal\nsignal.convolve(np.array([1,2,3,4]),np.array([1,2,3]))\n```\n\n### 形象化表示\n\n上面的计算过程，可以看作是——\n\n1. 把 g 向量的**顺序反过来；**\n2. 把 g 的最右一个元素和 f 的最左元素对齐，\n3. 上下两行都有数字的列相乘（也就是把没有数字的地方看作 0），然后把所有乘积相加，得到 f*g 的第一项；\n4. 把 g 向右移动一格\n5. 重复第3、4步\n6. 直到 g 的最左项移动到 f 的最右一个元素。\n\n形如下列各表：\n\n| --- | --- | --- | --- | --- | --- | --- |\n| f |  |  | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |  |  |\n| (f*g)(0) = 1 |  |  | 1 |  |  |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- |\n| f |  | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |  |\n| (f*g)(1) = 4 |  | 2 | 2 |  |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |\n| (f*g)(2) = 10 | 3 | 4 | 3 |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |\n| g |  | 3 | 2 | 1 |\n| (f*g)(3) = 16 |  | 6 | 6 | 4 |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |  |\n| g |  |  | 3 | 2 | 1 |\n| (f*g)(4) = 17 |  |  | 9 | 8 |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |  |  |\n| g |  |  |  | 3 | 2 | 1 |\n| (f*g)(5) = 12 |  |  |  | 12 |  |  |\n\n## 机器学习的卷积，是卷积吗？\n\n看论文给出的图 Figure 1.1，在卷积核是灰色 3\\*3 矩阵的情况下，对蓝色 5\\*5 矩阵的卷积就是直接把核对齐到蓝色矩阵上，**并没有把核的元素顺序颠倒过来**。\n\n这玩意能叫卷积吗？\n\n![convolution](/photos/2022-12-29-convolution.png)\n\n有人强行挽尊，说我们画图示的时候已经把核给颠倒过来了，想知道卷积核就把灰色小矩阵再颠倒回去——\n\n但是，不颠倒就对齐相乘的运算也是有名字的，叫 cross correlation。核有没有颠倒，convolution 还是 cross correlation 一组合，可以带来升维打击般的混乱，堪比高中化学的“还原剂被氧化，氧化剂被还原”……所以，对于计算机专业的数学水平，不予置评～\n\n\n## 卷积`torch.nn.Conv` 及其各个参数\n\n### `in_channels` \u0026 `out_channels`\n\n“卷积”的意义在于用一种比较省内存的方式，考虑输入张量中各个元素，和空间上相近的邻居元素之间的关系。所以只需要在真的存在空间关系的维度做卷积，其他维度可以留着不动。\n\n比如一张彩色图片，是一个 (颜色*高度*宽度) 的 3 阶张量，我们只需要对高度和宽度两个维度做卷积，颜色就是不参与“卷积”的 channel。\n\n`in_channel` 就是被“卷积”的张量的 channel 数，`out_channel` 是“卷积”结果的 channel 数。比如我们想从一张 RGB 三色图片中分辨出前景和背景两种不同区域，`in_channel=3`, `out_channel=2`。\n\n而 `in_channel` 如何能够与 `out_channel` 取值不同，原理见 Figure 1.3。我们使用 `out_channel` 个不含 channel 维度的“卷积”核，每一个核都与每一个 in channel 做卷积，得到图中的蓝、紫色小矩阵，然后直接把不同的 in channel 暴力求和，得到的结果分别作为卷积结果的 out channel。（这个暴力求和与我以前想得不一样，我以为是什么每一元素都做了一个`in_channel`*`out_channel` 的全联通层）\n\n![channels](/photos/2022-12-29-channels.png)\n\n PyTorch 的习惯，对于一个 N 阶“卷积”，参与卷积的是张量的最后 N 阶，`in_channel` 和 `out_channel` 也就是被卷张量和卷积结果的 `Tensor.shape[-(N+1)]`\n\n后面图示的例子都没有考虑 `in_channel` 和 `out_channel` 的数量，也就是都当作 1 了。\n\n### `kernel_size`\n\n就是灰色矩阵“卷积”核，每边有几个数字。如果不同方向的边长不一，该参数就需要用一个 tuple 来表示。Figure 1.1 的灰色卷积核，`kernel_size=(3,3)`\n\n![kernel](/photos/2022-12-29-kernel.png)\n\n### `padding` \u0026 `padding_mode`\n\n前面手算例子的时候很鸡贼地把 0 作为向量下标的起点。如果采用日常 1 开头的下标来算，第 1 项结果为零，整个卷积结果的长度会长很多，而且多出来的后面几项也都是零。\n\n而且在这个过程中，我们实际上是把一个有限长度的向量，看作了一个以所有整数 $$\\Z$$ 为定义域的函数，除了那有限的几项之外，其余地方都定义函数值为 0。\n\n用计算机计算的话显然没法如此奢侈地谈“无限多个”，例子中实际用到的，在 $$\\vec f$$ 左右两边各需要 2 个 0，也就是说 `padding=2`, `padding_mode='zeros'`\n\nFigure 1.2 表示的就是 `padding=(1,1)` 的情况（蓝色是被卷张量，白色是 padding，灰色是卷积核，绿色是卷积结果）：\n\n![padding](/photos/2022-12-29-padding.png)\n\n既然神经网络中的卷积并不是真正的卷积，所以他们索性不装了——\n\n正常卷积的结果往往比被卷张量大一圈（具体大多少取决于  `kernel_size`, `padding`, `stride` 多个参数），但是图像处理的时候经常希望输出图片和输入图片一样大，此时可以用字符串 `“same”` 作为 `padding` 的参数，自动计算 padding 的大小。`“strict”` 则表示 `padding=0`, 这样输出图片尺寸会变小，但是没有 padding，也就没有往图片里掺杂研究者对图片边缘以外信息的臆测。\n\n同时 `padding_mode` 参数表示往被卷张量四周填充的数字也不一定是 0。比如对于图片，0 往往表示纯黑，而绝大多数图片的视野之外，往往是和图片边缘像素值相差不大的值。所以 `padding_mode` 除了 `zeros` 之外，还接受以下取值：\n\n- `reflect`: 以图片边缘为镜面，把边缘附近的像素值对陈反射出去；\n- `replicate`: 只取边缘的像素值作为常数，直接向外延拓；\n- `circular`: 类似于物理中的周期性边界条件，取对边附近的像素值作为 padding 内容。\n\n### `stride`\n\n前面手算卷积的第4步，把卷积核向右移动了1格，如果每次移动超过1格，就需要这个参数指定移动步长。如果不同方向的步长不同，也是用 tuple 来表示。\n\nFigure 1.4 表示的就是 `stride=(2,2)` 的情况（蓝色是被卷张量，蓝色中的深色块是卷积核，绿色是卷积结果）：\n\n![stride](/photos/2022-12-29-stride.png)\n\n### `dilation`\n\n这个参数把“卷积”核撑开，也就相当于在“卷积”核的相邻元素之间加 0。Figure 1.5 表示的就是 `dilation=(1,1)` 的情况（蓝色是被卷张量，蓝色中的深色块是卷积核，绿色是卷积结果）：\n\n![dilation](/photos/2022-12-29-dilation.png)\n\n比如 `dilation=1` 时，(1,2,3) 的卷积核就相当于 (1,0,2,0,3)\n\n比如 `dilation=2` 时，(1,2,3) 的卷积核就相当于 (1,0,0,2,0,0,3)\n\n这样可以让卷积核在尺寸比较小的情况下，覆盖到更大面积的被卷张量。当然具体实现时，不可能直接补 0 这么浪费内存。\n\n### `groups`\n\n该参数必须是 `in_channel` 和 `out_channel` 的公约数，当其不为 1 时，就相当于同时做 `groups` 个卷积，其中每个卷积的 `in_channel=in_channel/groups`, `out_channel=out_channel/groups`\n\n### `bias`\n\n该参数是一个布尔值，卷积类似于一种高维空间里的乘法，这个参数就决定是否要拟合 `y=kx+b` 中的 `b`\n\n## “卷积”的“逆运算”： `TransposeConv`\n\n卷积的结果比 padding 之后的被卷张量要小。尤其当“卷积”的 `stride` 约等于 `kernel_size` 时，卷积的就变成了某些池化 (pooling)（求最大值不是一种线性算子，所以最大值池化不能用卷积表示，但是平均值池化可以）。\n\n那么在类似 U-net 这样的模型里，右半边的数据升维（下图中的绿箭头），就需要一种“卷积”的“逆运算”。有人把这种运算叫做 deconvolution，有人叫做 transposed convolution，还有人叫做 convolution with fractional strides。\n\n![Unet](/photos/2022-12-29-unet.png)\n\nPyTorch 取的是第二种名字。论文解释了为什么这么取名字，笔记以后有时间再补上把……\n\n因为这个与运算本身就是作为“卷积”的逆运算出现的，所以 PyTorch 的文档里这么说：\n\n\u003e This is set so that when a `Conv2d` and a `ConvTranspose2d` are initialized with same parameters, they are inverses of each other in regard to the input and output shapes.\n\u003e \n\n也就是说，把 `ConvTranspose` 的输入和输出反过来，然后按照 `Conv` 的规则确定各个参数，填入 `ConvTranspose` 的括号里就可以了，除了 `output_padding`\n\n### `output_padding`\n\n`ConvTranspose` 的输出就是对应 `Conv` 的输入。看 Figure 2.7：\n\n![padding_output](/photos/2022-12-29-output-padding.png)\n\n当 $$(input+2*padding)/stride$$ 不能整除的时候，最右的几列最下的几行就被卷积核忽略掉了。那么在逆运算 `TransposeConv` 中，这就意味着同一个输入可能对应着 $$stride-1$$ 种可能的输出。`output_padding`参数就可以消除这种歧义，调整 `TransposeConv` 输出张量的尺寸。\n\n## 参考链接\n\n- 给卷积正名: [https://www.kaggle.com/general/225375](https://www.kaggle.com/general/225375)\n- PyTorch Conv2d 源码: [https://pytorch.org/docs/stable/_modules/torch/nn/modules/conv.html#_ConvNd](https://pytorch.org/docs/stable/_modules/torch/nn/modules/conv.html#_ConvNd)\n- 论文: [https://arxiv.org/abs/1603.07285](https://arxiv.org/abs/1603.07285)\n- 动图演示: [https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md](https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md)\n- U-net: [https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/](https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/)\n- PyTorch TransposeConv 文档: [https://pytorch.org/docs/stable/generated/torch.nn.ConvTranspose2d.html](https://pytorch.org/docs/stable/generated/torch.nn.ConvTranspose2d.html)\n"},{"slug":"python-decorator","filename":"2022-11-09-python-decorator.md","date":"2022-11-09","title":".py | Python decorator 装饰器","layout":"post","keywords":["md","py"],"excerpt":"所谓装饰器 (decorator)，就是函数前一行 @ 打头的一串字符，是 python 的一种语法糖。","content":"\n最近参加了一个关于如何在 Python 项目中利用 GPU 提高运算效率的培训，里面提到了 `numba` 这个加速科学计算的库，而 `numba` 发挥作用的主要工具就是各种装饰器。\n\n所谓装饰器，就是读一些网上现成的 python 代码的时候会看到的，函数前一行 `@` 打头的一串字符，一般是一个名字，偶尔会附带有参数：\n\n```python\n@decorator\ndef myfunction():\n    # do something...\n    return results\n```\n\n它的实际作用相当于：\n\n```python\ndef myfunction():\n    # do something...\n    return None\n\nmyfunction = decorator(myfunction)\n```\n\nPython 是一种[函数式编程语言](https://program-think.blogspot.com/2012/02/why-choose-python-4-fp.html)，函数和各种类型的变量一样，在 Python 都是一种对象，所以可以把函数赋值给一个变量，可以在函数里定义另一个函数，可以把函数作为参数传递给另一个函数，可以把函数名作为另一个函数的返回值。\n\n`myfunction = decorator(myfunction)` 就是装饰器的定义，是 Python 的一个[语法糖](https://zh.m.wikipedia.org/zh-hans/%E8%AF%AD%E6%B3%95%E7%B3%96)。也就是说装饰器本身也是一个函数，我们的函数被装饰器装饰之后，函数名称不变，在完整实现函数原有功能的同时，额外执行装饰器中的命令。\n\n### 装饰器是如何做到的\n\n要想自己写一个装饰器的话，需要了解一下装饰器的实现原理。一个最简单的装饰器可以这么写：\n\n```python\ndef decorator(func):\n    def inner():\n        # do something\n        func()\n        # do some more\n        return None\n    return inner\n```\n\n也就是在装饰器内部再定义一个函数，这个内部函数的函数体执行被装饰的函数，然后外层装饰器把内层函数名当作返回值。\n\n### 如果一个函数需要多个装饰器\n\n把前面装饰器的定义套在多个装饰器的情况里：\n\n```python\n@decorator1\n@decorator2\ndef myfunction():\n    return None\n\nmyfunction = decorator1(decorator2(myfunction))\n```\n\n### 如果被装饰的函数有传入参数\n\n装饰器不知道自己要装饰的函数长什么样，也就不知道函数接受多少个参数，其中有几个是位置参数，几个是关键词参数。所以需要用单星号打包/解包位置参数，双星号打包/解包关键词参数。`args` 和 `kwargs` 是变量名的代词，可以换成其他自己喜欢的名字。\n\n```python\ndef decorator(func):\n    def inner(*args,**kwargs):\n        # do something\n        func(*args,**kwargs)\n        # something else\n        return None\n    return inner\n\n@decorator\ndef myfunction(x,y,mode=\"normal\",strict=True):\n    # do something...\n    return None\n```\n\n### 如果被装饰的函数有返回值\n\n则装饰器的内层函数需要把被装饰的函数的返回值返回出来：\n\n```python\ndef decorator(func):\n    def inner(*args,**kwargs):\n        # do something\n        func(*args,**kwargs)\n        # something else\n        return func(*args,**kwargs)\n    return inner\n\n@decorator\ndef myfunction(x,y,mode=\"normal\",strict=True):\n    # do something...\n    return results\n```\n\n### 如果想让装饰器本身接受参数\n\n也就是想达到下面的效果：\n\n```python\n@param_decorator(param=\"neat\")\ndef myfunction(x,y,mode=\"normal\",strict=True):\n    # do something...\n    return results\n```\n\n也就是让 `param_decorator(param=\"neat\")` 返回一个装饰器函数，也就是在之前的装饰器外面再加一层：\n\n```python\ndef param_decorator(param):\n    def decorator(func):\n        def inner(*args,**kwargs):\n            if param==\"neat\":\n                print(\"neat\")\n                # ...\n            else:\n                print(\"not neat\")\n                # ...\n            func(*args,**kwargs)\n            return func(*args,**kwargs)\n        return inner\n    return previous_decorator\n```\n\n### 如果想让装饰器既可以接受参数，也可以不接受参数～\n\n实在是有点过于高级了，直接说答案：\n\n```python\ndef flex_decorator(_func=None,*,kw1=\"val1\",kw2=\"val2\"):\n    def decorator(func):\n        def inner(*args,**kwargs):\n            print(kw1,kw2)\n            # do something\n            func(*args,**kwargs)\n            # something else\n            return func(*args,**kwargs)\n        return inner\n    if _func is None:\n        return decorator\n    else:\n        return decorator(_func)\n```\n\n根据 [https://peps.python.org/pep-3102/](https://peps.python.org/pep-3102/)，`*`作为一个单独的函数参数，表示后面所有的参数都是关键词参数，用来限定星号前面位置参数的数量。\n\n- 当 `@flex_decorator` 不加参数使用的时候:\n    - 根据定义 `myfunction = flex_decorator(myfunction)`\n    - `_func=myfunction`\n    - 此时 `else` 生效，`myfunction = decorator(myfunction)`\n- 当 `@flex_decorator(kw1=\"val1\",kw2=\"val2\")` 加上参数使用的时候:\n    - 根据定义 `myfunction = flex_decorator(kw1=\"val1\",kw2=\"val2\")(myfunction)`\n    - `_func=None`\n    - 此时 `if` 生效，`myfunction = decorator(myfunction)`\n\n——**接受的参数必须是关键词参数**，否则和被装饰的函数名无法区分。\n\n### `@functools.wraps`：刻章、办证\n\n以上各节基本完成了常用场景下装饰器的功能。\n\n但是，Python 作为一种动态语言，一大特征就是可以在运行时进行[类型内省](https://en.wikipedia.org/wiki/Type_introspection)。而按照我们上面的写法，被装饰之后的函数，Python 认为它不再是原来的函数，而是装饰器里面定义的那个内部函数，这样可能会出现意想不到的问题。\n\n解决方法是使用一个专门的装饰器根装饰器定义的内部函数办个假身份：\n\n```python\nimport functools\n\ndef decorator(func):\n    @functools.wraps(func)\n    def inner(*args,**kwargs):\n        # do something\n        func(*args,**kwargs)\n        # something else\n        return func(*args,**kwargs)\n    return inner\n```\n"},{"slug":"pytorch-dataset-dataloader-sampler","filename":"2022-09-01-pytorch-dataset-dataloader-sampler.md","date":"2022-09-01","title":".py | PyTorch 数据处理方面的封装","layout":"post","keywords":["md","py","ai"],"excerpt":"一般监督学习的数据结构和处理过程，以及 PyTorch 对上述结构和处理过程的封装","content":"\n## 一般监督学习的数据结构和处理过程\n\n### 训练集、验证集、测试集\n\n所有数据整体构成一个大集合，这个集合的每一个元素都包含一个输入和一个目标，分别记作 x 和 y。\n\n把这个大集合分成互相没有交集的三个子集，分别是训练集 (training set)、验证集 (validation set)、测试集 (test set)。\n\n- 训练集和验证集在训练过程中使用。\n    - 训练集的数据带入模型时，模型处于训练模式，模型输出对参数的导数被记录。通过比较把“模型输出”和“训练目标 y”代入**损失函数**的损失，更新模型的参数。同时记录“模型输出”和“训练目标 y”带入验证函数的结果，和验证集比较。\n    - 验证集的数据代入模型时，模型处于求值模式，模型只根据输入计算输出，对参数的导数不记录。通过观察“模型输出”和“训练目标 y”带入**验证函数**的结果，观察训练是否陷入“过拟合”。当训练集的验证函数结果不断下降，但是验证集的验证函数结果几乎不变时，可以认为模型过拟合。\n- 测试集在训练完成之后使用，代入模型时，模型处于求值模式。用于评价训练结果的好坏。\n\n### epoch vs. batch\n\n如果把所有数据同时进行训练，所需要的空间一般都大于电脑内存。所以一般会将训练集随机分成若干批次 (batch)，一个批次的数据同时塞入模型进行训练，在一个 batch 里每一个模型输出对参数的导数累加在一起，整个 batch 结束后更新模型参数，同时导数清零。因为 batch 这个概念和内存有关，所以数值一般选择为 2 的指数。\n\n将训练集所有的 batches 跑完一次称为而一个 epoch。一次训练一般需要很多 epochs，直到损失函数结果足够低，或验证集显示出现过拟合。\n\n## PyTorch 对上述结构和处理过程的封装\n\n### `Dataset`\n\n前面已经说了，数据集包括输入和目标两部分，`Dateset` 及其子类的作用就是\n\n如果在把数据装入 `Dataset` 之前就已经是规整的两个张量了的话——\n\n```python\nimport torch\nfrom torch.utils import data\n\n# ...\n\nfor x,y in zip(train_x,train_y):\n    # do something with x and y\n\ntrainset = TensorDataset(train_x,train_y)\nfor x,y in trainset:\n    # do something with x and y\n```\n\n——这一步确实没什么意思。\n\n有意思的地方在于可以自己写一个数据集类，继承 `Dataset`，然后重载 `__getitem__()` 和 `__len__()` 方法，这样可以把一些不适合用张量表示的数据塞进 `Dataset` 里面，对图像进行学习的话可以在此处加入图像增强的步骤，并进一步用于 `DataLoader`\n\n### `DataLoader`\n\n`DataLoader` = `Dataset` + `Sampler`，因为一般的教程里只需要讲数据集进行简单随机划分，也就只用到了 `batch_size` 等等参数，用到 Sampler 的地方很少。\n\n最常见的用例就是 `WeightedRandomSampler` 。训练分类器的时候，有时其中一个类别的数据远少于其他，那么训练器就更难判断出这一分类（因为只要无脑排除这个类别就能获得不错的正确率），所以需要平衡不同组别之间的权重。\n\n```python\nlist(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True))\n# [4, 4, 1, 4, 5]\nlist(WeightedRandomSampler(weights=[0.9, 0.4, 0.5, 0.2, 0.3, 0.1], num_samples=5, replacement=False))\n# [0, 1, 4, 3, 2]\n```\n\n平衡完之后转化为 batch，搭配 `BatchSampler`：\n\n```python\nlist(BatchSampler(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True), batch_size=2, drop_last=False))\n# [[4, 4], [1, 4], 5]\nlist(BatchSampler(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True), batch_size=2, drop_last=True))\n# [[0, 1], [4, 3]]\n```\n\n### 汇总一下\n\n```python\nimport torch\nfrom torch.utils import data\n\ntrain_x = torch.rand((100,5))\ntrain_y = torch.rand((100,2))\ntrainset = data.TensorDataset(train_x,train_y)\n\n# either:\ntrainloader = data.DataLoader(\n    trainset,\n    batch_size=2,\n    drop_last=True,\n    sampler=data.WeightedRandomSampler(\n        weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], \n        num_samples=5, \n        replacement=True))\n# or:\ntrainloader = data.DataLoader(\n    trainset,\n    batch_sampler=data.BatchSampler(\n        data.WeightedRandomSampler(\n            weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], \n            num_samples=5, \n            replacement=True), \n        batch_size=2, \n        drop_last=True))\n\nfor epoch in range(100):\n    for x,y in trainloader:\n        train(model,x,y,loss_function)\n```\n\n需要注意的是，`for x,y in trainset` 的 x 和 y 的维度是单个数据的维度，最简单的情况就是是 P 和 Q 维向量，而此时如果把 batch_size 记作 B，`for x,y in trainloader` 中的 x 和 y 是维度分别为 (B,P) 和 (B,Q) 的矩阵。`train()` 函数里面的计算要考虑到多出的这一个维度。\n\n## 参考链接：\n\n- [https://pytorch.org/tutorials/beginner/basics/data_tutorial.html](https://pytorch.org/tutorials/beginner/basics/data_tutorial.html)\n- [https://pytorch.org/tutorials/beginner/nn_tutorial.html](https://pytorch.org/tutorials/beginner/nn_tutorial.html)\n- [https://pytorch.org/tutorials/beginner/ptcheat.html](https://pytorch.org/tutorials/beginner/ptcheat.html)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataset#torch.utils.data.Dataset](https://pytorch.org/docs/stable/data.html?highlight=dataset#torch.utils.data.Dataset)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.DataLoader](https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.DataLoader)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.Sampler](https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.Sampler)\n- [https://pytorch.org/docs/stable/_modules/torch/utils/data/dataset.html#Dataset](https://pytorch.org/docs/stable/_modules/torch/utils/data/dataset.html#Dataset)\n"},{"slug":"knowledge-structure-machine-learning-image-processing-summer-school","filename":"2022-08-17-knowledge-structure-machine-learning-image-processing-summer-school.md","date":"2022-08-17","title":".py | 深度学习暑期学校知识点","layout":"post","keywords":["md","py","ai"],"excerpt":"机器学习在图像处理当中的应用，知识结构树","content":"\n- 电脑设置、python 入门\n    - NoMachine, ssh, python, conda, jupyter\n    - 文件夹操作 `pathlib`, 图片操作 `skimage`\n    - 数据增强 (data augmentation): `imgaug`\n    - TensorBoard\n- 机器学习简介\n    - Linear Classifier\n    - `sklearn**.**model_selection**.**train_test_split()`\n    - Stochastic gradient descent\n    - TensorFlow:\n        - `tensorflow_addons as tfa`\n        - `tfa.image.rotate()`, `tf.image.random_flip_left_right()`\n        - **`from** tensorflow.keras **import** Model`, **`from** tensorflow.keras.models **import** Sequential`, **`from** tensorflow.keras.layers **import** Input, Flatten, Dense, Activation, BatchNormalization, Conv2D, MaxPool2D, Softmax`\n        - `tf**.**keras**.**losses**.**CategoricalCrossentropy()`, `tf**.**keras**.**optimizers**.**Adam(lr**=**1e-3, clipnorm**=**0.001)`\n        - `linear_classifier **=**``Model(...)`, `linear_classifier.compile()`, `linear_classifier.fit()`, `linear_classifier.predict()`\n- 深度学习简介\n    - Perceptron\n    - Perceptron-based XOR gate\n    - **decision boundary** of your model: `np.meshgrid`\n- 图像恢复 (image restoration)\n    - CARE network\n    - Noise2Nosie, Noise2Void\n- 图像翻译 (image translation)\n    - micro-DL: a tool to generate and train U-net from config files.\n- 图像语义分割 (image semantic segmentation): 比较详细，前两节有点水了。\n    - **`from** PIL **import** Image`, **`import** imageio`, **`from** torchvision **import** transforms`\n    - **`from** torch.utils.data **import** Dataset, DataLoader`, **`import** torch.nn **as** nn`, **`from** torch.nn **import** functional **as** F`,  **`from** torch.utils.tensorboard **import** SummaryWriter`,\n    - U-net on PyTorch\n- 图像实例分割 (instance segmentation)\n    1. Foreground segmentation: \n        - **Receptive Field of View**: The term is borrowed from biology where it describes the \"portion of sensory space that can elicit neuronal responses when stimulated\" (wikipedia). Each output pixel can look at/depends on an input patch with that diameter centered at its position. Based on this patch, the network has to be able to make a decision about the prediction for the respective pixel.\n        - **Early Stopping** to avoid overfitting: define an `EarlyStopping` class\n    2. Instance Segmentation:\n        - Ideas:\n            - Three-class model (foreground, background, boundary),\n            - Distance transform (label for each pixel is the distance to the closest boundary),\n            - Edge affinity (consider not just the pixel but also its direct neighbors, predicts the probability that there is an edge, this is called affinity.) 听的时候懂了，回来看的时候没太看懂\n            - Metric learning (learns to predict an embedding vector for each pixel.)\n    3. **Tile and Stitch：**\n        - 当需要处理的图片过大时，将图片切分成多个小图，分别预测之后拼接在一起。\n        - 文中说图片尺寸不是 某个参数的整数倍的时候拼贴结果会不连续，但是代码注释中说等于这个整数倍的时候会不连续，晕。\n        - [https://arxiv.org/pdf/2101.05846.pdf](https://arxiv.org/pdf/2101.05846.pdf)\n    4. 一个实例，epithelia cells\n- 失败模式：极其之水，就是科普了一下训练参数错误的后果，以及一点对抗学习的内容\n- 追踪：比较水，因为机器学习追踪的运算量极大，且主讲人感觉就是来做广告的，所以就直接用 CoLab 体验了一下就完事了。（就这还加州理工呢~）\n- 知识提取：\n    - 前面的基本上是从像素到像素的映射，这里的知识提取是从图片到标签的映射。\n    - CycleGAN\n    - **Create a balanced Dataloader**\n    "},{"slug":"what-a-PyTorch-project-looks-like","filename":"2022-08-17-what-a-PyTorch-project-looks-like.md","date":"2022-08-17","title":".py | 一个 PyTorch 机器学习项目长什么样","layout":"post","keywords":["md","py","ai"],"excerpt":"官网的一个pytorch教程的笔记，原文先按照第一性原理，尽量用原生 python 写了一遍，然后一步一步重构成接近生产环境的代码。这里我把顺序反过来，先放出重构之后的最终结果","content":"\n自学，或者说一切学习和教学，本质就是在已经掌握的知识和未知的目标知识之间修路。路有两种修法，一是理论或者说是第一性原理路线，从不证自明的公理或者已经掌握的知识出发，通过逻辑推理一步步得到新的知识；另一种是实践或者说工程师路线，拿到一个已经可以工作的产品，划分成各个子系统，通过输入的改变来观察输出的不同，直到子系统简化到自己可以理解的地步，不再是黑箱，借此了解整个系统的功能。\n\n但是当学习的对象复杂到一定程度之后，凭借一个人的自学能力，只用其中一种方法往往难以钻透。又或者两种方法学到的路线并非同一条路。对于机器学习，理论路线就是“让输入数据通过一个带有超多参数的函数，根据函数返回值和输出数据之间的差别修正参数，直到函数能够近似输入数据和输出数据之间的关系”；实践中代码往往会使用很多库作者封装好的函数，只读源码往往一头雾水。\n\n所以，看到 PyTorch 官网的这篇教程 **WHAT IS TORCH.NN *REALLY*?:** [https://pytorch.org/tutorials/beginner/nn_tutorial.html](https://pytorch.org/tutorials/beginner/nn_tutorial.html) 可以说是喜出望外，把两种路线写出的代码都给了出来，对于自学者来说，就像罗塞塔石碑一样可以互相对照。这里我把 CNN 相关的部分抽掉了，毕竟 CNN 只是深度学习的一个子集，深度学习只是机器学习的一个子集，和这篇文章的主题关系不大。\n\n原文先按照第一性原理，尽量用原生 python 写了一遍，然后一步一步重构成接近生产环境的代码。这里我把顺序反过来，先放出重构之后的最终结果：\n\n```python\nfrom pathlib import Path\nimport requests\nimport pickle\nimport gzip\nimport numpy as np\nimport torch\nimport torch.nn.functional as F\nfrom torch import nn\nfrom torch import optim\nfrom torch.utils.data import TensorDataset,DataLoader\n\n# Using GPU\n\nprint(torch.cuda.is_available())\ndev = torch.device(\"cuda\") if torch.cuda.is_available() else torch.device(\"cpu\")\n\n# Wrapping DataLoader\n# https://pytorch.org/tutorials/beginner/basics/data_tutorial.html?highlight=dataloader\n# https://pytorch.org/tutorials/beginner/data_loading_tutorial.html?highlight=dataloader\n\ndef preprocess(x, y):\n    return x.view(-1, 1, 28, 28).to(dev), y.to(dev)\n\ndef get_data(train_ds, valid_ds, bs):\n    return (\n        DataLoader(train_ds, batch_size=bs, shuffle=True),\n        DataLoader(valid_ds, batch_size=bs * 2),\n    )\n\nclass WrappedDataLoader:\n    def __init__(self, dl, func):\n        self.dl = dl\n        self.func = func\n\n    def __len__(self):\n        return len(self.dl)\n\n    def __iter__(self):\n        batches = iter(self.dl)\n        for b in batches:\n            yield (self.func(*b))\n\n# Define the neural network model to be trained\n\n# # If the model is simple:\n# model = nn.Sequential(nn.Linear(784, 10))\n\n# generally the model is a class that inherites nn.Module and implements forward()\nclass Mnist_Logistic(nn.Module):\n    def __init__(self):\n        super().__init__()\n        # self.weights = nn.Parameter(torch.randn(784, 10) / math.sqrt(784))\n        # self.bias = nn.Parameter(torch.zeros(10))\n        self.lin = nn.Linear(784, 10)\n\n    def forward(self, xb):\n        # return xb @ self.weights + self.bias\n        return self.lin(xb)\n\n# Define the training pipeline in fit()\n\ndef loss_batch(model, loss_func, xb, yb, opt=None):\n    loss = loss_func(model(xb), yb)\n\n    if opt is not None:\n        loss.backward()\n        opt.step()\n        opt.zero_grad()\n\n    return loss.item(), len(xb)\n\ndef fit(epochs, model, loss_func, opt, train_dl, valid_dl):\n    for epoch in range(epochs):\n        model.train()\n        for xb, yb in train_dl:\n            loss_batch(model, loss_func, xb, yb, opt)\n\n        model.eval()\n        with torch.no_grad():\n            losses, nums = zip(\n                *[loss_batch(model, loss_func, xb, yb) for xb, yb in valid_dl]\n            )\n        val_loss = np.sum(np.multiply(losses, nums)) / np.sum(nums)\n\n        print(epoch, val_loss)\n    return None\n\n# __main()__:\n\n# data\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\n\ntrain_dataset = TensorDataset(x_train, y_train)\nvalid_dataset = TensorDataset(x_valid, y_valid)\ntrain_dataloader, valid_dataloader = get_data(train_ds, valid_ds, bs)\ntrain_dataloader = WrappedDataLoader(train_dataloader, preprocess)\nvalid_dataloader = WrappedDataLoader(valid_dataloader, preprocess)\n\n# hyperparameters/model\nlearning_rate = 0.1\nepochs = 2\nloss_function = F.cross_entropy # loss function\nmodel = Mnist_CNN()\nmodel.to(dev)\noptimizer = optim.SGD(model.parameters(), lr=learning_rate , momentum=0.9)\n\n# training\nfit(epochs, model, loss_function, optimizer, train_dataloader, valid_dataloader)\n```\n\n可以看到，一个项目主干可以分成4部分：\n\n1. 准备数据\n2. 定义模型\n3. 描述流程\n4. 实际运行\n\n下面把各部分拆分开来，把两种思路的代码进行对比。\n\n## 1. 准备数据\n\n### 重构之前\n\n```python\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\nn, c = x_train.shape\n```\n\n### 重构以后：\n\n```python\n# Wrapping DataLoader\n# https://pytorch.org/tutorials/beginner/basics/data_tutorial.html?highlight=dataloader\n# https://pytorch.org/tutorials/beginner/data_loading_tutorial.html?highlight=dataloader\n\ndef preprocess(x, y):\n    return x.view(-1, 1, 28, 28).to(dev), y.to(dev)\n\ndef get_data(train_ds, valid_ds, bs):\n    return (\n        DataLoader(train_ds, batch_size=bs, shuffle=True),\n        DataLoader(valid_ds, batch_size=bs * 2),\n    )\n\nclass WrappedDataLoader:\n    def __init__(self, dl, func):\n        self.dl = dl\n        self.func = func\n\n    def __len__(self):\n        return len(self.dl)\n\n    def __iter__(self):\n        batches = iter(self.dl)\n        for b in batches:\n            yield (self.func(*b))\n```\n\n## 2. 定义模型\n\n### 重构之前\n\n```python\nweights = torch.randn(784, 10) / math.sqrt(784)\nweights.requires_grad_()\nbias = torch.zeros(10, requires_grad=True)\n\ndef log_softmax(x):\n    return x - x.exp().sum(-1).log().unsqueeze(-1)\n\ndef model(xb):\n    return log_softmax(xb @ weights + bias)\n\ndef nll(input, target):\n    return -input[range(target.shape[0]), target].mean()\nloss_func = nll\n\ndef accuracy(out, yb):\n    preds = torch.argmax(out, dim=1)\n    return (preds == yb).float().mean()\n```\n\n### 重构以后\n\n```python\n# If the model is simple:\nmodel = nn.Sequential(nn.Linear(784, 10))\n\n# generally the model is a class that inherites nn.Module and implements forward()\nclass Mnist_Logistic(nn.Module):\n    def __init__(self):\n        super().__init__()\n        # self.weights = nn.Parameter(torch.randn(784, 10) / math.sqrt(784))\n        # self.bias = nn.Parameter(torch.zeros(10))\n        self.lin = nn.Linear(784, 10)\n\n    def forward(self, xb):\n        # return xb @ self.weights + self.bias\n        return self.lin(xb)\n\n```\n\n## 3. 描述流程\n\n### 重构之前\n\n```python\nlr = 0.5  # learning rate\nepochs = 2  # how many epochs to train for\n\nfor epoch in range(epochs):\n    for i in range((n - 1) // bs + 1):\n        #         set_trace()\n        start_i = i * bs\n        end_i = start_i + bs\n        xb = x_train[start_i:end_i]\n        yb = y_train[start_i:end_i]\n        pred = model(xb)\n        loss = loss_func(pred, yb)\n\n        loss.backward()\n        with torch.no_grad():\n            weights -= weights.grad * lr\n            bias -= bias.grad * lr\n            weights.grad.zero_()\n            bias.grad.zero_()\n```\n\n### 重构以后\n\n```python\n\ndef loss_batch(model, loss_func, xb, yb, opt=None):\n    loss = loss_func(model(xb), yb)\n\n    if opt is not None:\n        loss.backward()\n        opt.step()\n        opt.zero_grad()\n\n    return loss.item(), len(xb)\n\ndef fit(epochs, model, loss_func, opt, train_dl, valid_dl):\n    for epoch in range(epochs):\n        model.train()\n        for xb, yb in train_dl:\n            loss_batch(model, loss_func, xb, yb, opt)\n\n        model.eval()\n        with torch.no_grad():\n            losses, nums = zip(\n                *[loss_batch(model, loss_func, xb, yb) for xb, yb in valid_dl]\n            )\n        val_loss = np.sum(np.multiply(losses, nums)) / np.sum(nums)\n\n        print(epoch, val_loss)\n    return None\n```\n\n## 4. 实际运行\n\n### 重构之前\n\n```python\n# __main()__:\nprint(loss_func(model(xb), yb), accuracy(model(xb), yb))\n```\n\n### 重构以后\n\n```python\n# __main()__:\n\n# data\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\n\ntrain_dataset = TensorDataset(x_train, y_train)\nvalid_dataset = TensorDataset(x_valid, y_valid)\ntrain_dataloader, valid_dataloader = get_data(train_ds, valid_ds, bs)\ntrain_dataloader = WrappedDataLoader(train_dataloader, preprocess)\nvalid_dataloader = WrappedDataLoader(valid_dataloader, preprocess)\n\n# hyperparameters/model\nlearning_rate = 0.1\nepochs = 2\nloss_function = F.cross_entropy # loss function\nmodel = Mnist_CNN()\nmodel.to(dev)\noptimizer = optim.SGD(model.parameters(), lr=learning_rate , momentum=0.9)\n\n# training\nfit(epochs, model, loss_function, optimizer, train_dataloader, valid_dataloader)\n```"},{"slug":"python-subprocess-run-bash","filename":"2022-07-08-python-subprocess-run-bash.md","date":"2022-07-08","title":".py | python.subprocess执行bash命令","layout":"post","keywords":["md","py"],"excerpt":"让 python 读 bash 的命令结果，写 bash 的命令语句。","content":"\n笔记本的触摸屏被我摔了道裂纹，一开始还不影响使用，但是最近几周情况恶化，有时鼠标光标会突然暴走，不听指挥。所以需要禁用触摸屏作为输入设备。\n\n在 xorg 的桌面环境之下，可以用 `xinput list` 显示出所有输入设备，以及对应的 id 号码。然后把找到的 id 填入 `xinput disable ##` 就可以了。一般来说这个 id 的数值是稳定的，所以我就直接把禁用命令写到 `~/.bashrc` 里面去了。\n\n然而，最近把吃灰很久的树莓派拿出来玩了，所以败家买了个60%布局的小机械键盘，小键盘往笔记本一插，诶，您猜怎么着，新买的键盘输完密码登陆之后就不能用了，着实吓了一跳。\n\n所以需要每次检查一遍输入设备的 id，然后把和触摸屏有关的 id（不止一个）从 `xinput list` 的输出里摘出来赋值给一个变量，然后把变量带入 `xinput disable #` 里面。这一套操作已经超出我的 bash 能力了，所以考虑用 python 完成中间步骤，也就是需要让 python 读 bash 的命令结果，写 bash 的命令语句。\n\nGoogles搜索给到了这个结果：[https://stackoverflow.com/questions/4256107/running-bash-commands-in-python](https://stackoverflow.com/questions/4256107/running-bash-commands-in-python)，稍微看了一下 subprocess 的官方文档，写了下面的一段，存到 `~/disable_touchscreen.py`, 然后在 `~/.bashrc` 里加一句 `python ~/disable_touchscreen.py`\n\n```python\nimport subprocess\ncheck = subprcess.run([\"xinput\",\"list\"],capture_output=True)\nfor line in check.stdout.decode(\"utf-8\").split(\"\\n\"):\n    if \"touchscreen\" in line:\n        device = line.partition(\"id=\")[2].partition(\"\\t\")[0]\n        disable = subprocess.run([\"xinput\",\"disable\",str(device)])\n        if disable.returncode==0:\n            print(f\"Successfully disabled touchscreen device {device}\")\n        else:\n            print(f\"Failed to disable touchscreen device {device}\")\n```\n\n- 这段代码的核心是 `subprocess.run()` ，第一个参数就是传给 bash 的命令，这是一个list，其中每个元素就是 bash 语句用空格分割开的每一部分。要想得到命令的执行结果，需要添加参数 `capture_output=True`\n- 上面函数的返回值是一个特殊的数据结构，命令顺利执行的话，结果会写在 `.stdout` 里，这是一个二进制串 `b'xxx...'`，所以需要 `.decode(\"utf-8\")` 转化成字符串。\n\n如果只用bash的话，\n\n- 我的 bash 水平可以做到 `xinput list | grep \"touchscreen\"`, 这里的 `|` 是一个管道，也就是将前一条命令的输出传递给后一条作为输入。要想在 python 里使用管道，可以看这个问答：[https://stackoverflow.com/questions/13332268/how-to-use-subprocess-command-with-pipes](https://stackoverflow.com/questions/13332268/how-to-use-subprocess-command-with-pipes)\n- 上面管道的结果还需要裁剪出 id 号，也就是 `line.partition(\"id=\")[2].partition(\"\\t\")[0]`，估计需要用到 awk, 虽然难，但可以学，至少知道该学什么；\n- 但是把 id 号传递给一个变量，然后把这个变量填进 `xinput disable`, 这一步就连该学什么也不知道了。\n"},{"slug":"mimic-mathematica-with-wolfram-engine-and-vscode","filename":"2022-06-19-mimic-mathematica-with-wolfram-engine-and-vscode.md","date":"2022-06-19","title":".nb | Mathematica 入门：免费正版、vscode、近似原生体验","layout":"post","keywords":["md","nb","m"],"excerpt":"不用算号器，完全合法的免费手段搭建一个免费的 Wolfram Languange 运行环境，效果尽可能贴近 Mathematica。","content":"\n## Mathematica 的原生体验暨山寨目标\n\n本科的时候老师总是跟我们念叨，让我们学点科学计算软件，可学的不多，不过 MatLab, Mathematica, Maple, Origin 和 Labview.  ~~作为编程语言的 MatLab 是世界上语法最垃圾的（没有之一）~~ ，Maple 实在是太小众了，Origin 和 Labview 不仅应用场景有限而且繁琐还有版权问题，于是 MMA 就成了我主要的折腾对象。不敢说拿手，起码是略懂。\n\nWolfram 和 python 一样也是[动态语言和解释型语言](python-interpreter-editor-virtualenv)，而且默认的新建文件类型就是 `.nb` 笔记本文件，命令按块执行，输出结果直接显示在代码块下方，强烈怀疑 Jupyter Notebook 就是山寨了 Mathematica。当然另有一种 `.m` 文件，用于执行文件内的所有命令，适用于比较大型的独立应用。\n\n![](/photos/2022-06-19-mathematica-notebook.gif)\n\n虽然现在的学校给学生买了正版许可证，但是只能用在一台电脑上，所以笔记本上就安装不了。虽然百度贴吧的精华帖里有传统艺能算号器教程，但是现在 Wolfram 开放了免费的 Wolfram Engine，所以我们还是来点正大光明的，用完全合法的免费手段搭建一个免费的 Wolfram Languange 运行环境，效果尽可能贴近 Mathematica。\n\n需要用到的工具有：\n\n- Wolfram Engine\n- Wolfram Script\n- Wolfram Engine For Jupyter\n- jupyter\n- vscode\n\n## Wolfram Engine 和 Wolfram Script 下载和安装\n\n《How do I install Mathematica on Linux?》：[https://support.wolfram.com/12453](https://support.wolfram.com/12453)\n\n在 Google 上搜索“Wolfram Engine”后可以找到官网的下载地址：[https://www.wolfram.com/engine/](https://www.wolfram.com/engine/)\n\n根据自己的操作系统点击下载之后会弹出获取许可证的页面 ([https://account.wolfram.com/access/wolfram-engine/free](https://account.wolfram.com/access/wolfram-engine/free))，没有 Wolfram 账号的需要注册一个账号。\n\n完成之后在下载文件夹打开 terminal, 输入以下命令，其中 xyz 是下载文件名中的版本号：\n\n```python\nsudo bash WolframEngine_xxx.yy.zz_LINUX\n```\n\n强烈建议按照默认设置完成安装，不做要任何个性化的调整，理由见下方引用块。\n\n\u003e 我把第二个选项，也就是 Wolfram Engine 可执行文件的路径设置成了自己 home 下安放一般独立软件的文件夹，结果激活过程出现了问题：输入 `wolframscript` 之后说找不到 WoflramEngine，填入自己的路径之后提示 Wolfram Engine 尚未激活，手动启动 `WolframEngine` 之后提示输入激活密钥 activation key，但是各处遍寻不得。\n解决方法来自以下 StackOverflow 回答：[https://mathematica.stackexchange.com/questions/198822/the-wolfram-kernel-must-be-activated-for-wolframscript-to-use-it](https://mathematica.stackexchange.com/questions/198822/the-wolfram-kernel-must-be-activated-for-wolframscript-to-use-it)\n在wolfram官网登陆自己的账号之后，在一个新的标签页输入以下网址 [https://www.wolframcloud.com/users/user-current/activationkeys](https://www.wolframcloud.com/users/user-current/activationkeys)，即可看到自己的 activation key，在 terminal 中打开 Wolfram Engine，根据提示把 activation key 复制粘贴到指定位置，即可完成激活。\n但是第二天配置好 vscode 和 Jupyter 之后，再次在命令行打开 WolframScript 的时候提示激活失败，重新按照上述方法操作后，显示 activation key 已被使用。即便是删除后按照默认设置重装，也依然会提示超过许可证限制。\n后来在官网给出的联系方式给客服发了消息，客服回信给了新的激活码。\n\u003e \n\n再下载 [WolframScript](https://account.wolfram.com/products/downloads/wolframscript)，这是 Wolfram 的前端。然后按照各个操作系统自己的规矩安装 WolframScript，我的 fedora 就是双击 rpm 文件然后根据提示操作。完成后在命令行输入 `wolframscript`, 根据提示输入 Wolfram 账号和密码，Wolfram Engine 就会联网激活自己。\n\n激活成功之后，在 terminal 输入 `wolframscript`, 显示的结果如下，即说明 Wolfram Engine 和 Wolfram Script 配置成功。\n\n```bash\nWolfram Language 13.0.1 Engine for Linux x86 (64-bit)\nCopyright 1988-2022 Wolfram Research, Inc.\n\nIn[1]:=\n```\n\n在 `In[1]:=` 处输入 `Exit[]` 并按回车，即可退出 Wolfram 回到命令行。\n\n## 将 Wolfram Engine 设为 Jupyter 的后端\n\n[https://github.com/WolframResearch/WolframLanguageForJupyter](https://github.com/WolframResearch/WolframLanguageForJupyter)\n\n根据上面网址的指示，将官方 repo 克隆到本地，因为我们的 python 分隔成了多个[虚拟环境](https://virtual.env)，所以比官网教程多一步 `workon base`:\n\n```bash\n[me@my_computer dev]$ git clone https://github.com/WolframResearch/WolframLanguageForJupyter.git\n# Cloning into 'WolframLanguageForJupyter'...\n# remote: Enumerating objects: 649, done.\n# remote: Counting objects: 100% (140/140), done.\n# remote: Compressing objects: 100% (52/52), done.\n# remote: Total 649 (delta 93), reused 126 (delta 88), pack-reused 509\n# Receiving objects: 100% (649/649), 321.55 KiB | 2.23 MiB/s, done.\n# Resolving deltas: 100% (411/411), done.\n[me@my_computer dev]$ cd WolframLanguageForJupyter\n[me@my_computer WolframLanguageForJupyter]$ workon base\n(base) [me@my_computer WolframLanguageForJupyter]$ ./configure-jupyter.wls add\n(base) [me@my_computer WolframLanguageForJupyter]$\n```\n\n## 用法和效果\n\n打开 vscode，按 `Ctrl+Shift+P` 呼出命令搜索框，找到 \"Jupyter: Create Interactive Window\":\n\n![](/photos/2022-06-19-jupyter-start.png)\n\n单击 Jupyter 后端内核的图表（下图中右上角的\"base(Python 3.9.12)\"字样），把内核切换为 \"Wolfram Language ##\"\n\n![](/photos/2022-06-19-switch-kernel.png)\n\n等待后端内核切换完成，就可以输入 Mathematica 命令查看效果了：\n\n![](/photos/2022-06-19-final-result.png)\n\n完成！\n"},{"slug":"R-install-and-simple-syntax","filename":"2022-04-29-R-install-and-simple-syntax.md","date":"2022-04-29","title":".r | R语言入门笔记","layout":"post","keywords":["md","r","mpipks-note"],"excerpt":"本文也是马克思·普朗克复杂物理研究所《非平衡态集体过程》第9讲的笔记。","content":"\n\u003e 本文也是马克思·普朗克复杂物理研究所《非平衡态集体过程》第9讲的笔记。\n\u003e \n\n最近在蹭一门数学系的读书课，题目叫“非线性时间序列分析”。本来以为会是数学系的人抢物理系动力学方向的饭碗用的（可能实际上也确实是，或者更有可能是反过来），但是老师在前几讲一直把重点放在何种定理如何证明上面。数学系的嘛，这种对公理化系统的喜爱可以理解。但是发现我们几个上课的对这些证明都不太感兴趣之后，~~直接一个发卡弯漂移，教我们用 R 语言分析现实数据，现在新课还没上，不过可能是以股票数据做例子，我的老天鹅，这也太“经世济民”了吧……~~ 最后期末作业发现大家居然又都选择做 PPT 讲中心极限定理的证明，经世济民计划无疾而终。\n\n以下是为了新课程，我自己提前做的准备。\n\n## 下载、安装、环境配置（精神病版）\n\n- [https://cloud.r-project.org/](https://cloud.r-project.org/)\n- 看这一个链接就够了：[https://marketplace.visualstudio.com/items?itemName=Ikuyadeu.r](https://marketplace.visualstudio.com/items?itemName=Ikuyadeu.r)\n- [https://github.com/randy3k/radian](https://github.com/randy3k/radian)\n- [https://github.com/nx10/httpgd](https://github.com/nx10/httpgd)\n\n`Fedora Linux` + `R` + `radian` + `vscode` + `R extension for vscode`\n\n1. 在官网（[https://cloud.r-project.org/](https://cloud.r-project.org/)）下载并安装 R [解释器](https://python-interpreter)。\n2. 在命令行输入 `R` 打开解释器，在 R 中输入 `install.packages(\"languageserver\")` \n3. 在 vscode 的市场页面搜索 “R”，安装 R 语言插件。\n4. 安装 radian：\n    1. 在合适的 python [虚拟环境](https://pyhton-virtualenv) 里输入 `pip intall radian`\n    2. 用 radian 取代 R：编辑 `~/.bashrc` , 在其中加入一句`alias r=\"radian\"` ，重启命令行\n    3. 在 vscode 的设置中找到 `R\u003eRterm: Linux`, 输入 radian 的安装路径（在命令行中输入 `which R` 可以找到）\n5. 在 vscode 的市场页面搜索 “R debugger”，安装 `R debugger for vscode`\n6. 在命令行输入 `R` 打开解释器，在 R 中输入 `install.packages(\"httpgd\")`，安装可视化工具 `httpgd`\n\n## 简单语法\n\n来自马克思·普朗克复杂物理研究所《非平衡态集体过程》第9讲，这老师的讲课顺序简直了……\n\nR 的语法也简直了……\n\n### 简单数据结构 Some data types\n\n```r\n# vector\na \u003c- c(1,2,3,NA)\nb \u003c- c(\"m\",\"f\",\"f\",\"m\")\n# using a value\nb[2]\n\n# list\nlist.ab \u003c- list(number=a, gender=b)\nlist.ab$number\nlist.ab[[1]]\n\n# factors (categorial variable)\nf \u003c- factor(b)\nf\n# [1] m f f m f m m\n# levels: f m\nlevels(f) \u003c- c(\"female\", \"male\")\n\n# dataframe (lists of vectors of the same length)\nx \u003c- c(1,2,3)\ny \u003c- c(\"aa\",\"bb\",\"cc\")\nz \u003c- c(TRUE, FALSE, TRUE)\ndf \u003c- data.frame(first=x, second=y, third=z)\nView(df)\n# |      | first | second | third |  \n# |    1 |     2 |     aa |  TRUE |\n# |    2 |     3 |     bb | FALSE |\n# |    3 |     5 |     cc |  TRUE |\n```\n\n### 控制流 Loops, conditional statements\n\n```r\n# for loop\nfor(i in 1:5) {\n\tprint(i)\n}\n# while loop\nwhile(!finished) {\n\tprint(\"Hello\")\n}\n# if statement\nif(i\u003c5) {\n\tprint(\"Hello\")\n} else {\n\tprint(\"Not Hello\")\n}\n```\n\n### 函数 Functions\n\n```r\n# calling a function\nrnorm(5,mean=1,sd=1)\n\n# defining a function\nmysum \u003c- function(a,b,c=1) { a + b + c }\nmysum(1,1)\n```\n\n### 复杂数据类型 `data.table`\n\nSome comparison:\n\n- `data.table`: R package, fast and memory efficient\n- `python.pandas`: python implementation of data frames\n- `dplyr`: highly popular, easy to learn\n\n```r\nlibrary(data.table)\ndt \u003c- as.data.table(df)\n```\n\n```r\n# read and write\nflights \u003c- fread(\"path/to/your/flights.txt\")\nweather \u003c- fread(\"path/tp/your/weather.txt\")\n```\n\nMaking data tidy can simplify the following analysis.\n\n- Every column is an observable.\n- Every row is an observation.\n\n```r\n# making data tidy\nmelt( dt,\n      id.vars = \"ID\",\n      value.name = \"expression\",\n      variable.name = \"cell\"\n)\n# making data messy\ndcast(dt, ID ~ cell+expression) # not understand\n```\n\nGet item\n\n```r\nd[i, j, by] # take `d`, subset rows using `i`, then **calculate** `j` grouped by `by`\n# examples\nplanes[engines == 4]\n\n# slice the 2 columns\nplanes[, .(tailnum, year)] \n# groupby and calculate\nflights[, .(mean_delay = mean(dep_delay, na.rm=T)), by=carrier]\nflights[time_hour\u003e20, .(mean_delay=mean(dep_delay,na.rm=T)), by=.(month, origin)]\n# math calculations\nflights[, speed_kmh := 60*1.61*distance/air_time]\nflights[, resc_distance := distance/mean(distance), by=carrier]\n```\n\nMerge 2 tables\n\n```r\n# left join\nmerge(a,b,all.x=T)\nb[a] # same as above\n\n# right join\nmerge(a,b,all.y=T)\na[b] # same as above\n\n# inner join\nmerge(a,b, all=F)\na[b, nomatch=0]\n\n# full join\nmerge(a,b,all=T)\n```\n\nChaining operations\n\n```r\n# data.table way\nweather[, ws_kmh:=1.61*wind_speed][, .(mean_ws=mean(ws_kmh)), by=month]\n# use operator %\u003e% to take the result on the left as the 1st argument on the right\nlibrary(magrittr)\nweather[, ws_kmh:=1.61*wind_speed] %\u003e%\n.[, .(mean_ws = mean(ws_kmh)), by=month] %\u003e%\nhead()\n```\n"},{"slug":"rust-simple-syntax","filename":"2022-04-29-rust-simple-syntax.md","date":"2022-04-29","title":".rs | Rust 入门笔记","layout":"post","keywords":["md","rs"],"excerpt":"introduction to Rust and some simple syntax","content":"\nOn youtube.\n\n## What is Rust\n\nfast and powerful, system language\n\nweb development through webAssembly\n\nNo garbage collection, also no need to manege memory, which makes language more tedious\n\nUse Cargo to manage package\n\n## Install\n\nWindows: .exe\n\nLinux: run the curl script.\n\n```bash\nrustup --version\nrustc --version \ncargo --version\n```\n\nvscode Rust(rls) plugin\n\n## empty folder and compile\n\n```bash\nmkdir rustsandbox\ncd rustsandbox\ntouch hello.rs\n```\n\n```bash\nfn main() {\n\tprintln(\"Hello World!\");\n}\n```\n\n## initialize a project with cargo\n\n```bash\ncargo init\n```\n\nbettertmil plugin for highlight of `.tmil` file.\n\n```bash\ncargo run # compile and debug\ncargo build\ncargo build --release # for production\n```\n\n## print line\n\n```bash\ntouch src/print/rs\n```\n\n```rust\n// in print.rs\npub fn run() {\n\tprintln!(\"Hello World!\");\n\t// Basic formatting\n\tprintln!(\"Number: {}\",1); \n\tprintln!(\"{} is from {}\",\"Brad\",\"Mass\");\n\t// Positional arguments\n\tprintln!(\"{0} is from {1} and {0} likes to {2}.\",\"Brad\",\"Mass\",\"code\");\n\t// Named argument\n\tprintln!(\"{name} likes to play {activity}.\", name=\"John\", activity=\"baseball\")\n\t//Placeholder traits\n  println!(\"Binary: {:b} Hex: {:x} Octal: {:o}\", 10,10,10);\n\t//Placeholder for debuging\n  println!(\"{:?}\", (10,True,\"hello\"));\n\t//Basic Math\n\tprintln!(\"10+10={}\",10+10)\n}\n```\n\n```rust\n// in main.rs\nmod print;\n\nfn main() {\n\tprint::run();\n}\n```\n\n## Variable\n\n```rust\n// var.rs\npub fn run() {\n\tlet name=\"Brad\";\n\tlet age = 37;\n  age = 38; //cannot assign twice\n\tlet mut age = 37;\n\tage = 38;\n\tprintln!(\"My name is {} and I am {}\",name, age);\n\t// constant\n\tconst ID:i32 = 001;\n\tprintln(\"ID: {}\",ID);\n\t// assign multiple variables\n\tlet ( my_name, my_age ) = (\"Brad\", 37);\n\n}\n```\n\n## Primitive Types\n\n```rust\n// type.rs\n/*\nPrimitive Types:\nIntegers: u8,i8,u16,i16,...u128,i128\nFloats: f32,f64\nBoolean: bool\nCharacters: char\nTuples\nArrays\n*/\n\n// Rust is a static type language, but compiles usually can infer\n \npub fn run() {\n\t// default is i32, f64\n\tlet x = 1; \n\tlet y = 2.5;\n\tlet z: i64 = 454544445554;\n\t// find max size\n\tprintln!(\"Max i32:{}\", std::i32::MAX);\n\tprintln!(\"Max f64:{}\", std::f64::MAX);\n\t// boolean\n\tlet is_active = true;\n\t// get boolean from expression\n\tlet is_greater = 10 \u003e 5;\n\t// char\n\tlet a1 = 'a'; // has to be single quotes\n\tlet a2 = 'ab'; // error, can only be one character\n\tlet a3 = '\\u{1F600}';\n}\n```\n\n## Strings\n\n```rust\n// string.rs\n\n// primitive str = immutable fixedlength string\n// String = growable heap-allocated data structure - use when I need to modify or own srtring data\n\npub fn run() {\n\tlet mut hello = String::from(\"Hello \");\n\t//get length\n\tprintln!(\"Length: {}\", hello.len());\n\thello.push('W');\n\thello.push_str(\"orld\");\n\t// immutable\n\tlet hello2 = \"Hello\";\n\t// methods\n\tprintln!(\"Capacity {}\", hello.capacity());\n\tprintln!(\"Is empty {}\", hello.is_empty());\n\tprintln!(\"Contains 'World' {}\", hello.contains(\"World\"));\n\tprintln!(\"Replace {}\", hello.replace(\"World\",\"there\"));\n\t// loop through string by whitespace\n\tfor word in hello.split_whitespace() {\n\t\tprintln!(\"{}\",word);\n\t}\n\t// Create string with capacity\n\tlet mut s = String::with_capacity(10):\n\ts.push('a');\n\ts.push('b');\n\t// Assertion testing\n\tassert_eq!(2,s.len());\n}\n```\n\n## tuple\n\n```rust\n//tuples.rs\n\n// can be different types\npub fn run() {\n\tlet person: (\u0026str,\u0026str,i8) = (\"Brad\",\"Mass\",37);\n\tprintln!(\"{} is from {} and is {}\", person.0, person.1, person.2);\t\n}\n```\n\n## Array\n\n```rust\n// array.ts\n\nuse std::mem\n\npub fn run() {\n\tlet numbers: [i32,5] = [1,2,3,4,5]; // length has to be exact\n\tprintln!({:?},numbers);\n\t// get single value\n\tprintln!(\"Single value{:?}\",numbers[0]);\n\tlet mut numbers1: [i32,5] = [1,2,3,4,5];\n\tnumbers1[2] = 20;\n\tprintln!(\"Array length: {}\", numbers1.len());\n\t//arrays are static allocated\n\tprintln!(\"Arry occupies {} bytes\", mem::size_of_val(\u0026numbres1));\n\t// get slice\n\tlet slice: \u0026[i32] = \u0026numbres[0..2];\n\tprintln!(\"\")\n}\n```\n\n## Vector\n\n```rust\n//vector.rs\n\n// vectors are resizable arrays\npub fn run() {\n\tlet mut numbers: Vec\u003ci32\u003e = Vec![1,2,3,4];\n\t// add \n\tnumbers.push(5);\n\tnumbers.push(6);\n\t//pop off las values\n\tnumbres.pop();\n\t// loop through vector values\n\tfor x in numbers.iter(){\n\t\tprintln!(\"Number: {}\", x);\n\t}\n\tfor x in numbers.iter_mut(){\n\t\t*x *= 2; // no idea what the 1st * does\n\t\tprintln!(\"Number: {}\", x);\n\t}\n}\n```\n\n## conditional\n\n```rust\n//conditional.rs\n\npub fn run() {\n\tlet age: u8 = 18;\n\tlet check_id: bool = false;\n\tlet knows_person_of_age = true;\n\n\t// if/else\n\tif age \u003e= 21 \u0026\u0026 check_id || knows_person_of_age {\n\t\tprintln!(\"Bartender: what would like to drink?\");\n\t} else if age \u003c 21 \u0026\u0026 check_id {\n\t\tprintln!(\"Bartender: sorry you have to leave.\");\n\t} else {\n\t\tprintln!(\"Bartender: I'll need to see your ID.\");\n\t}\n\n\t// short if\n\tlet is_of_age = if age\u003e=21 {true} else {false};\n\tprintln!(\"Is of age: {}\", is_of_age);\n}\n```\n\n## loop\n\n```rust\n//loop.rs\n\npub fn run() {\n\tlet mut count = 0;\n\t//infinite loop\n\tloop {\n\t\tcount += 1;\n\t\tprintln!(\"Number: {}\", count);\n\n\t\tif count \u003e 20 {\n\t\t\tbreak;\n\t\t}\n\t}\n\t// while loop (FizzBuzz)\n\twhile count \u003c=100 {\n\t\tif count%15 === 0 {\n\t\t\tprintln!(\"fizzbuzz\");\n\t\t} else if count%3 == 0 {\n\t\t\tprintln!(\"fizz\");\n\t\t\telse if count%5 == 0 {\n\t\t\tprintln!(\"buzz\");\t\n\t\t} else {\n\t\t\tprintln!(\"{}\",count)\n\t\t}\n\t\tcount += 1;\n\t}\t\n\t// for loop\n\tfor x in 0..100 {\n\t\t// ...\n\t}\n}\n```\n\n## function\n\n```rust\n// function.rs\npub fn run() {\n\tgreeting(\"Hello\",\"Jane\");\n\tlet get_sum = add(5,5);\n\t//closure\n\tlet n3 = 10;\n\tlet add_sums = |n1: i32, n2: i32| n1+ n2 + n3; //need to find out more\n}\n\nfn greeting (greet: \u0026str, name: \u0026str) {\n\tprintln!(\"{} {}, nice to meet you.\", greet, name);\n}\n\nfn add(n1: i32, n2: i32) -\u003e i32 {\n\tn1 + n2 // no semi-colum here\n}\n```\n\n## Pointer/Reference\n\n```rust\n// pointer.rs\n\npub fn run() {\n\t// primitive\n\tlet arr1 = [1,2,3];\n\tlet arr2 = arr1;\n\tprintln!(\"Values: {:?}\", (arr1,arr2));\n\t// with non-primitive, if you assign another variable to a piece of data, the 1st variable will no longer hold that value. You'll need to use a reference (\u0026) to point to the resource\n\tlet vec1 = Vec![1,2,3];\n\tlet vec2 = \u0026vec1;\n\tprintln!(\"Values: {:?}\", (\u0026vec1, vec2))\n}\n```\n\n## Struct\n\n```rust\n// struct.rs\n\n// used to create custome data types\n\n// traditional struct\nstruct Person {\n\tfirst_name: String,\n\tlast_name: String\n};\n\nimpl Person{\n\tfn new(first: \u0026str, last: \u0026str)-\u003e Person {\n\t\tPerson {\n\t\t\tfirst_name: first.to_string(),\n\t\t\tlast_name: last.to_string()\n\t\t}\n\t}\n\tfn full_name(\u0026self) -\u003e String {\n\t\tformat!(\"{} {}\", self.first_name, self.last_name)\n\t}\n\t// set last name\n\tfn set_last_name(\u0026mut self, last: \u0026str){\n\t\tself.last_name = last.to_string();\n\t}\n\t// name to tuple\n\tfn to_tuple(self)-\u003e(String,String){\n\t\t(self.first_name,self.last_name)\n\t}\n}\n\nstruct Color {\n\tred: u8,\n\tgreen: u8,\n\tblue: u8,\n};\n\n// tuple struct\nstruct ColorTuple(u8,u8,u8); \n\npub fn run() {\n\tlet mut c = Color{\n\t\tred: 255,\n\t\tgreen: 0,\n\t\tblue: 0,\n\t};\n\tc.red = 200;\n\tprintln!(\"Color: {},{},{}\",);\n\t\n\tlet mut ct = ColorTuple(255,0,0);\n\tct.0 = 200;\n\tprintln!(\"Color: {},{},{}\",ct.0,ct.1,ct.2);\n\n\tlet mut p = Person::new(\"John\",\"Doe\");\n\tprintln!(\"Person {} {}\", p.first_name, p.last_name)\n\tp.set_last_name(\"Williams\");\n\tprintln!(\"Person {}\", p.full_name());\n\tprintln!(\"Person {:?}\", p.to_tuple());\n}\n```\n\n## enumerate\n\n```rust\n//enum.rs\n\n// enum is a type with a few definitive values\n\nenum Movement {\n\t// variants\n\tUp, \n\tDown,\n\tLeft, \n\tRight\n}\n\nfn move_avatar(m:Movement) {\n\tmatch m {\n\t\tMovement::Up =\u003e println!(\"Avatar Moving Up\"),\n\t\tMovement::Down =\u003e println!(\"Avatar Moving Down\"),\n\t\tMovement::Left =\u003e println!(\"Avatar Moving Left\"),\n\t\tMovement::Right =\u003e println!(\"Avatar Moving Right\")\n\t}\n}\n\npub fn run() {\n\tlet avatar1 = Movement::Up;\n\tlet avatar2 = Movement::Down;\n\tlet avatar3 = Movement::Left;\n\tlet avatar4 = Movement::Right;\n\n\tmove_avatar(avatar1);\n\tmove_avatar(avatar4);\n\tmove_avatar(avatar2);\n\tmove_avatar(avatar3);\t\n}\n```\n\n## Command line interface\n\n```rust\n// cli.rs\n\nuse std::env;\n\npub fn run() {\n\tlet args: Vec\u003cString\u003e = env::args().collect();\n\tlet command = args[1].clone();\n\tlet name = \"Brad\";\n\tlet status  = \"100%\"\n\n\tprintln!(\"Args: {:?}\", args);\n\tprintln!(\"Command: {}\", command)\n\n\tif command == \"Hello\" {\n\t\tprintln!(\"Hi {}, how are you?\", name);\n\t} else if command == \"status\" {\n\t\tprinln!(\"Status is {}\", status);\n\t} else {\n\t\tprintln!(\"That is not a valid command.\");\n\t}\n}\n```"},{"slug":"typescript-simple-syntax","filename":"2022-04-29-typescript-simple-syntax.md","date":"2022-04-29","title":".ts | TypeScript 入门笔记","layout":"post","keywords":["md","js","ts"],"excerpt":"An introduction to Typescript and some simple syntax","content":"\nWhat is TypeScript:\n\n- static types\n- types from 3rd parties can be added with type definition\n\nDynamic vs Static types\n\n- dynamic: types associated with run-time values, and not explicitly in code\n- static: explicitly assign types\n\nPros and Cons\n\n- pros: more robust, debug, predictability\n- cons: more codes to write, requires compilation, **not true typing**\n\nCompiling\n\n- `.ts` or `.tsx` extension\n- `TSC` is used\n- `tsconfig.json`\n\n# Hands on\n\n## Install\n\n```bash\nsudo npm i -g typescript\ntsc -v\ntouch index.ts\n```\n\n```tsx\nlet id: number = 5 \nid = `5` // error\n\n```\n\n```bash\ntsc index\ntsc -- watch index\n```\n\n```bash\ntsc --init # produces tsconfig.json\n```\n\n```json\n{\n\t\"outDir\": \"./dist\",\n\t\"rootDir\": \"/src\"\n}\n```\n\n## Types\n\n```tsx\nlet id: number = 5\nlet company: string = \"Media\"\nlet isPublished: boolean = true\nlet x: any = \"hello\"\nx = true // no errors\n\n// array\nlet ids: number[] = [1,2,3,4,5]\nids.push(\"hello\") // error\n\nlet arr: any[] = [1, true, 'hello']\n\n//tuple\nlet person: [number, string, boolean] = [1, 'Brad', true]\n\n// tuple array\nlet employee: [number, string][]\nemployee = [\n\t[1, 'Brad'],\n\t[2, 'Sam']\n]\n\n// union\nlet pid: string | number = 22\n\n// enum\nenum Direction1 {\n\tUp, // default is 0\n\tDown,\n\tLeft,\n\tRight\n}\n\nenum Direction2 {\n\tUp   = \"Up\", // default is 0\n\tDown = \"Down\",\n\tLeft = \"Left\",\n\tRight= \"Right\"\n}\n\n//objects\nconst user: {\n\tid: number,\n\tname: string\n} = {\n\tid: 1,\n\tname: 'John'\n}\n\ntype User = {\n\tid: number,\n\tname: string\n}\n\nconst user: User\n\n// type assertion\nlet cid: any = 1\nlet customerId = \u003cnumber\u003ecid\nlet customerId = cid as number\n\n```\n\n## function\n\n```tsx\nfunction addNum(x: number,y: number): number {\n\treturn x+y\n}\n//void\n\nfunction log(message: number | string): void {\n\tconsole.log(message)\n}\n```\n\n## Interfaces\n\n```tsx\ninterface UserInterface {\n\treadonly id: number,\n\tname: string,\n\tage?: number // optional property\n\tregister(): string\n}\nconst user1: UserInterface = {\n\tid: 1, // error , read only\nname: \"brad\"\n}\n\ninterfce MathFunc {\n\t(x: number, y: number): number\n}\n\nconst add: MathFunc = (x: number, y: number): number =\u003e x+y\n```\n\n## Class\n\n```tsx\nclass Person implements UserInterface{\n\tprivate id: number\t // within the class\n\tprotected name: string // within class or extended classes\n\tsalary: number\n\n\tconstructor(id: number, name: string) {\n\t\tthis.id = id\n\t\tthis.name = name\n\t}\n\tregister() {\n\t\treturn `${this.name} is registered.`\n\t}\n}\n\nconst brad = new Person(1,'Brad')\n```\n\n## Subclass\n\n```tsx\nclass Employee extends Person {\n\tposition: string\n\n\tconstructor(id: number, name: string, position: string) {\n\t\tsuper(id,name)\n\t\tthis.position = position\n\t}\n}\nconst emp = new Employee(3,\"Shawn\",\"developer\")\nconsole.log(emp.register())\n\n```\n\n## Generics\n\n```tsx\nfunction getArray(items: any[]): any[] {\n\treturn new Array().concat(items)\n}\nlet numArray = getArray([1,2,3,4])\nlet strArray = getArray(['a','b','c','d'])\n\nnumArray.push('hello') // no error, but not what we want\n\nfunction getArray\u003cT\u003e(items: T[]): T[] {\n\treturn new Array().concat(items)\n}\nlet numArray = getArray\u003cnumber\u003e([1,2,3,4])\nnumArray.push('hello') // error\n```\n\n## With React\n\n```bash\nnpx create-react-app . --template typescript\nnpm start\ntouch header.tsx\n```\n\n```tsx\nexport interface Props{\n\ttitle: string\n\tcolor?: string\n}\nconst Header = (props: Props) =\u003e {\n\treturn (\n\t\t\u003cheader\u003e\n\t\t  {% raw %}\n\t\t\t\u003ch1 style={{ color: prps.color ? props.color: \"blue\" }}\u003e\n\t\t\t\t{props.title}\n\t\t\t\u003c/h1\u003e\n\t\t  {% endraw %}\n\t\t\u003c/header\u003e\n\t)\n}\n```"},{"slug":"tensorboard-on-pytorch","filename":"2022-04-08-tensorboard-on-pytorch.md","date":"2022-04-08","title":".py | TensorBoard 笔记（PyTorch 版）","layout":"post","keywords":["md","py","ai"],"excerpt":"TensorBoard 是 TensorFlow 团队开发的一款可视化工具，方便观察和调整机器学习的数据集、模型、超参数和训练结果等等。但是不知道为什么，PyTorch 调用 TensorBoard，要比 TensorFlow 方便简单得多，\u003cdel\u003e这何尝不是一种 NTR\u003c/del\u003e……","content":"\n- 官网教程：[https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html](https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html)\n- 官方文档：[https://pytorch.org/docs/stable/tensorboard.html](https://pytorch.org/docs/stable/tensorboard.html)\n\nTensorBoard 是 TensorFlow 团队开发的一款可视化工具，方便观察和调整机器学习的数据集、模型、超参数和训练结果等等。但是不知道为什么，PyTorch 调用 TensorBoard，要比 TensorFlow 方便简单得多，~~这何尝不是一种 NTR~~……\n\n---\n\n## 用法和效果\n\n一个使用了 TensorBoard 的 torch 项目的主文件一般是这样的（把和 TensorBoard 无关的部分都注释掉了）：\n\n```python\n# imports\n# import matplotlib.pyplot as plt\n# import numpy as np\n\n# import torch\n# import torchvision\n# import torchvision.transforms as transforms\n\n# import torch.nn as nn\n# import torch.nn.functional as F\n# import torch.optim as optim\n\nfrom torch.utils.tensorboard import SummaryWriter\n\n# # transforms\n# transform = transforms.Compose(\n#     [transforms.ToTensor(),\n#     transforms.Normalize((0.5,), (0.5,))])\n\n# # datasets\n# trainset = torchvision.datasets.FashionMNIST('./data',\n#     download=True,\n#     train=True,\n#     transform=transform)\n# testset = torchvision.datasets.FashionMNIST('./data',\n#     download=True,\n#     train=False,\n#     transform=transform)\n\n# # dataloaders\n# trainloader = torch.utils.data.DataLoader(trainset, batch_size=4,\n#                                         shuffle=True, num_workers=2)\n# testloader = torch.utils.data.DataLoader(testset, batch_size=4,\n#                                         shuffle=False, num_workers=2)\n\n# # constant for classes\n# classes = ('T-shirt/top', 'Trouser', 'Pullover', 'Dress', 'Coat',\n#         'Sandal', 'Shirt', 'Sneaker', 'Bag', 'Ankle Boot')\n\n# class Net(nn.Module):\n#     def __init__(self):\n#         super(Net, self).__init__()\n#         self.conv1 = nn.Conv2d(1, 6, 5)\n#         self.pool = nn.MaxPool2d(2, 2)\n#         self.conv2 = nn.Conv2d(6, 16, 5)\n#         self.fc1 = nn.Linear(16 * 4 * 4, 120)\n#         self.fc2 = nn.Linear(120, 84)\n#         self.fc3 = nn.Linear(84, 10)\n#     def forward(self, x):\n#         x = self.pool(F.relu(self.conv1(x)))\n#         x = self.pool(F.relu(self.conv2(x)))\n#         x = x.view(-1, 16 * 4 * 4)\n#         x = F.relu(self.fc1(x))\n#         x = F.relu(self.fc2(x))\n#         x = self.fc3(x)\n#         return x\n# net = Net()\n\n# criterion = nn.CrossEntropyLoss()\n# optimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9)\n\n# default `log_dir` is \"runs\" - we'll be more specific here\nwriter = SummaryWriter('runs/fashion_mnist_experiment_1')\n\nrunning_loss = 0.0\nfor epoch in range(1):  # loop over the dataset multiple times\n    for i, data in enumerate(trainloader, 0):\n        # # get the inputs; data is a list of [inputs, labels]\n        # inputs, labels = data\n\n        # # zero the parameter gradients\n        # optimizer.zero_grad()\n\n        # # forward + backward + optimize\n        # outputs = net(inputs)\n        # loss = criterion(outputs, labels)\n        # loss.backward()\n        # optimizer.step()\n\n        # running_loss += loss.item()\n        if i % 1000 == 999:    # every 1000 mini-batches...\n            # ...log the running loss\n            writer.add_scalar('training loss',\n                            running_loss / 1000,\n                            epoch * len(trainloader) + i) # 注意这一行！\n# print('Finished Training')\n```\n\n正常情况下，使用了tensorboard 的项目在训练的过程中，可以用网页浏览器打开网址 `localhost:6006`，应该可以看到和下图类似但不同的画面：\n\n![tensorboard](/photos/2022-04-08-tensorboard.png)\n\n下面来仔细分解。\n\n## 代码分解\n\n[引入](python-import-script-module-package) TensorBoard 需要下面一行代码：\n\n```python\nfrom torch.utils.tensorboard import SummaryWriter\n```\n\n从名字就能看出来，`SummaryWriter` 是一个 class。粗略用了一下文档页面的业内搜索，好像整个 `torch.utils.tensorboard` 就只有这一个 class。\n\n新建一个这个类的实例：\n\n```python\nwriter = SummaryWriter('runs/fashion_mnist_experiment_1')\n```\n\n这一步会在当前工作环境下新建一个 `/runs` 文件夹，\n\n要想显示导航栏上的“SCALARS”、“IMAGES”等等选项卡，并且让自己想观察的数据显示在各自类别的选项卡里，需要调用 `SummaryWriter` 下面的各种方法，比如 `add_scalar()`, `add_image()`.\n\n### 各种方法\n\n用法和效果举例如下：\n\n- `add_scalar()`: 在一张图中画出**一个标量**指标随学习迭代的**变化曲线**。\n    - `tag`: 图片的标题。\n    - `scalar_value`: 指标的值，也就是纵坐标。\n    - `global_step`: 全局迭代次数，也就是横坐标。\n- `add_scalars()`: 在一张图中同时画出**多个指标**随学习迭代的**变化曲线**。\n    - `main_tag`: 图片的标题\n    - `tag_scalar_dict`: 一个字典，字典的键是变量的名字，值是各个变量的纵坐标。\n    - `global_step`: 全局迭代次数，也就是横坐标。\n- `add_custome_scalars()`: 没有用过，也没见到例子，不太明白。根据描述像是把之前 `add_scalar()` 和 `add_scalars()` 的结果重新组合，对 SCALARS 选项卡重新排版。每个 `SummaryWriter` 只能运行一次，可以在训练开始前运行，也可以在之后。\n    - `layout`: 只有一个这参数，是一个字典，字典的键像是新图片/章节的名字，值是下一级字典或者是 `add_scalar()` 出现过/将要出现的 `tag` 参数。\n- `add_figure()`: 显示 `matplotlib` 画出的**图表**。\n    - `tag`: 标题\n    - `figure`: 图表，要求类型为 `matplotlib.pyplot.figure`\n    - `global_step`:迭代次数，效果如何 没试过。\n- `add_histogram()`: 在一张图中画出一个样本的**直方图**，以及这个直方图随迭代变化的规律。这是个三维图片，x 轴是直方图的取值范围，y 轴是迭代次数，z 轴是直方图的频率值。\n    - `tag`: 图片标题。\n    - `values`: 一个 `torch.Tensor` 或者 `numpy.array` ，用于绘制直方图的样本.\n    - `global_step`: 迭代次数，y 轴分量。\n    - `bins`: 取样间隔参数，`numpy.histogram()` 中用到的。 ****\n- `add_graph()`: 一般用于在训练前画出神经网络的**图状结构**。\n    - `model`: 要画的模型，类型是 `torch.nn.Module`\n    - `input_to_model=None`: （可选）输入模型的变量。\n- `add_mesh()`: **三维点云**。\n    - `tag`: 表格标题。\n    - `vertices`: 顶点三维坐标的列表。\n    - `colors`: 顶点的颜色。\n    - `faces`: （可选）没看懂 (Indices of vertices within each triangle.)\n    - `config_dict`: 用于画图的 ThreeJS 的参数。\n    - `global_step`: 迭代次数。\n- `add_embeddding()`: 神经网络的输入一般是高维向量，此工具将高维数据**投影到三维**空间，然后画出图像，方便我们感知训练集内样本之间的关系。\n    - `mat`: 一个矩阵，每一行都是一个要处理的向量。\n    - `metadata`: 标记文字，一般是列表。\n    - `label_img`: 标记图片，显示在每个数据点旁边的\n    - `global_step`: 迭代次数，一般没人用。\n    - `tag`: 图片标题。\n- `add_pr_curve()`: 准确率 (precision) -召回率 (call back) 曲线。准确率=真阳性/(真阳性+假阳性)，召回率=真阳性/(真阳性+假阴性)\n    - `tag`: 图片标题。\n    - `labels`: Ground truth 数据，每个数据点对应一个布尔值。\n    - `predictions`: 模型的输出，每个数据点对应一个 [0,1] 之间的实数。\n    - `global_step`: 迭代次数。\n    - `num_thresholds`:用于画出 PR 曲线的阈值的数目。\n- `add_hparams()`: 比较不同次运行之间的超参数。没太看懂。\n    - `hparam_dict`: 超参数的名称和取值\n    - `metric_dict`: metric （不知道怎么翻译）的名称和取值\n    - `hparam_domain_discrete`: （可选）字典，超参数的名称和有限个可能的取值。\n    - `run_name`: 运行的名称，将会成为 `logdir` 的一部分。\n- `add_image()`: 在 IMAGES 选项卡中显示**一张图片**。\n    - `tag`: 图片名称。\n    - `img_tensor`: 一个 `torch.Tensor` 或者 `numpy.array`，被显示的图片。对应于下面的 `dataformats` 参数。\n    - `global_step`: 迭代次数，没见有人在显示图片的时候用过。\n    - `dataformats=’CHW’`: 图片各维度的顺序。默认是“颜色-高度-宽度”。\n- `add_images()`: 并列显示**多张图片**。\n    - `tag`: 图片组的标题。\n    - `img_tensor`: 一个 `torch.Tensor` 或者 `numpy.array`，被显示的图片。图片个维度的含义由 `datadormats` 给出。\n    - `global_step`: 迭代次数，没见有人在显示图片的时候用过。\n    - `datadormats=’NCHW’`: 图片各维度的顺序。默认为“图片序号-颜色-高度-宽度”。\n- `add_video()`: 略\n- `add_audio()`: 略\n- `add_text()`: 略"},{"slug":"git-multiple-users","filename":"2021-12-26-git-multiple-users.md","date":"2021-12-26","title":".git | 管理 GitHub 不同用户身份的仓库","layout":"post","keywords":["md","git"],"excerpt":"多用户多账户，如何告诉 GitHub 某个项目文件夹该由哪个账号来做版本管理。","content":"\n很显然，我不可能把“阿掖山”这个名字写到论文里，与研究相关的项目、组里的代码和数据，都由另一个实名的 GitHub 账号来处理。这就有个问题——如何告诉 GitHub 某个项目文件夹该由哪个账号来做版本管理。\n\n于是 STFW，结果看到了GitHub  官方的回答：[“这边建议您把两个账号合并呢～”](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/merging-multiple-user-accounts)\n\n其实这个问题在建立这个博客站之前就解决了，但是因为很长时间我的研究代码都是自己在用，而且只在台式机上用，一直没有推到 GitHub 上去，实名账号一直没在笔记本上用过。具体细节忘得差不多了，这次复习一下。\n\n作为例子，两个账号的用户名分别是 `USER1` 和 `USER2`，注册邮箱分别是 `USER1@EMAIL.com` 和 `USER2@EMAIL.com`。\n\n## 多个计算机用户\n\n当然了，最简单的方法就是新建一个操作系统用户，每个用户登录一个 GitHub 账号。这种方法好处很多：\n\n- 不需要特殊操作。\n- 适用于不同操作系统。\n- 切换身份需要专门切换账号，有助于防止操作者忘记自己所处的身份。\n\n但是这篇文章不会涉及这种方法，因为当初买电脑的时候并没有注意到需要做身份隔离，等到发现事情不妙的时候已经混装和两个身份需要的不同软件，积重难返。于是采用了以下两节的解决方案。\n\n## 单个计算机用户@Windows: GitHub Desktop\n\n![](/photos/2021-12-26-github-desktop.png)\n\n- 在官网下载、安装、打开 [GitHub Desktop](https://desktop.github.com/) 客户端。\n- 在 GitHub 网页版上切换到新的账户。\n- 点击左上角 `File \u003e Options`，默认界面就是账户信息。点击 `Sign Out` 退出登录，然后再点击 `Sign In`，根据弹出窗口的提示操作，就来到了新的账户。\n\n## 单个计算机用户@Linux : `.ssh/config`\n\n具体操作看以下两个连接就够了：\n\n- [https://gist.github.com/JoaquimLey/e6049a12c8fd2923611802384cd2fb4a](https://gist.github.com/JoaquimLey/e6049a12c8fd2923611802384cd2fb4a)\n- [https://docs.github.com/en/authentication/connecting-to-github-with-ssh](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)\n\n~~但是为了水字数，~~ 还是写得详细一点……\n\n### 本地：生成并启用 SSH key\n\n打开命令行，输入以下命令，生成 SSH key：\n\n```bash\n\nssh-keygen -t rsa -b 4096 -C \"USER1\" \nssh-keygen -t rsa -b 4096 -C \"USER2\"\n```\n\n其中 `-t` 指定加密算法，`-b` 指定密钥的位数，`-C` 相当于注释。\n\n然后命令行会弹出几个选项，可以一路按回车使用默认值。\n\n上述命令完成后，在 `~/.ssh` 文件夹应该会有两对四个密钥文件：\n\n- `~/.ssh/USER1`\n- `~/.ssh/USER1.pub`\n- `~/.ssh/USER2`\n- `~/.ssh/USER2.pub`\n\n然后输入以下命令，启用刚刚生成的密钥。\n\n```bash\n\neval \"$(ssh-agent -s)\" # 启动 ssh-agent\nssh-add ~/.ssh/USER1   # 添加 USER1 的密钥\nssh-add ~/.ssh/USER2   # 添加 USER2 的密钥\n```\n\n### 网页：把密钥添加到对应的账号\n\n在网页端以 `USER1` 身份登录 GitHub 之后，在 \"Settings\" 页面找到 \"SSH and GPG keys\" 选项卡，点击绿色的 \"New SSH key\" 按钮之后，将 `~/.ssh/USER1.pub` 中的内容复制到 \"Key\" 填空区，然后起一个名字，点击 \"Add SSH key\" 按钮。\n\n![](/photos/2021-12-26-github-key.png)\n\nUSER2也照此办理。\n\n**千万要注意**复制的应该是 `.pub` 后缀的文件！\n\n### 本地：编辑 `~/.ssh/config` 文件\n\n在 ~/.ssh/ 找到或者新建一个名为 config 的文本文件。打开之后，将以下内容添加到文件中：\n\n```\n\nHost github.com-user1\n\tHostname github.com\n\tUser git\n\tIdentityFile ~/.ssh/user1\nHost github.com-user2\n\tHostname github.com\n\tUser git\n\tIdentityFile ~/.ssh/user2\n```\n\n### `git clone` 时 repo 地址的改动\n\n一般的 git clone, 直接把 GitHub 提供的命令复制粘贴到命令行就行了。\n\n![](/photos/2021-12-26-git-clone.png)\n\n但是我们这个不同，首先是只能选择 SSH 模式，然后是需要在域名`github.com` 后面加上`-user1`:\n\n```bash\n\ngit clone git@github.com-user1:User/Repo.git\n```\n\n这里就体现出之前在 `~/.ssh/config` 把 Host 命名为 `github.com-****` 的好处了。\n\n### `git commit` 前填写在 repo 中填写账户信息\n\n 第一次做完改动推送到 GitHub 之前，需要专门在 repo 级别写明自己的身份，也就是在命令行输入：\n\n```bash\n\ngit config --local user.name  \"USER1\"\ngit config --local user.email \"USER1@EMAIL.com\"\n```\n\n### **注意：** 为了防止操作者忘记自己所处的身份\n\n强烈建议去掉用户信息的全局设置：\n\n```bash\n\ngit config --global --unset user.name\ngit config --global --unset user.email\n```\n\n这样假如忘记之前的 `git config --local`, 第一次 git commit 的时候会报错，提示信息缺失。\n\n这样操作一次之后，之后的操作几乎感受不到账户的不同。\n"},{"slug":"python-import-script-module-package","filename":"2021-12-11-python-import-script-module-package.md","date":"2021-12-11","title":".py | import 引用现成的代码","layout":"post","keywords":["md","py"],"excerpt":"正常的编程语言教程，教人配置完开发环境之后就应该进入正题，开始讲语法了。但是咱不正常，所以先来谈谈怎么用别人已经写好的代码。","content":"\n以官网给出的文件结构为例来说明：\n\n```\n\nsound/                          Top-level package\n      __init__.py               Initialize the sound package\n      formats/                  Subpackage for file format conversions\n              __init__.py\n              wavread.py\n              wavwrite.py\n              aiffread.py\n              aiffwrite.py\n              auread.py\n              auwrite.py\n              ...\n      effects/                  Subpackage for sound effects\n              __init__.py\n              echo.py\n              surround.py\n              reverse.py\n              ...\n      filters/                  Subpackage for filters\n              __init__.py\n              equalizer.py\n              vocoder.py\n              karaoke.py\n              ...\n```\n\n## 使用现成的 python 代码\n\n正常的编程语言教程，教人配置完开发环境之后就应该进入正题，开始讲语法了。但是咱不正常，所以先来谈谈怎么用别人已经写好的代码。其中最简单的，就是可以直接通过包管理程序安装的：\n\n```bash\n\npip install sound\n```\n\n然后想要使用某个文件中的函数，比如假装 `wavwrite.py` 中有个函数叫 `write()`，以下写法都是可以的，注意不同 import 方法对应不同的函数调用写法：\n\n```python\n\nimport sound\nsound.formats.wavwrite.write()\n\nfrom sound import formats\nformats.wavwrite.write() \n\nfrom sound.formats import wavwrite\nwavwrite.write()\n\nfrom sound.formats.wavwrite import write\nwrite()\n```\n\n但是，不是所有的 python 代码都可以直接安装，比如一篇论文的研究成果发表之后，处理数据的代码也往往开源，但是这些作者基本上就只是把自己写代码的文件夹公开出来而已，我们把文件夹下载下来，然后直接 `import sound`, 会报错，提示找不到名为 sound 的库。\n\n## python 如何读取代码文件\n\n仔细想想，找不到才是正常的，之前轻轻松松的一句 `import sound`就解决问题，这才不简单——不同的库往往位于文件系统的不同位置，但我们只要写出他们的名字就行了，不需要指定文件路径。电脑硬盘那么大，找到库却几乎是瞬间完成的。\n\n这是因为 python 并没有搜索整个硬盘。有一个变量，一般名为 `PYTHONPATH`，其变量值是一个列表，表中成员是含有 python 库文件夹的路径。当我们在命令行输入命令的时候，电脑会：\n\n- 搜索当前所在的文件夹，也就是在命令行输入 `python` 时终端所在的文件夹。\n- 遍历 `PYTHONPATH` 中的文件夹。\n- python 包管理程序默认的位置，一般是 `\u003cpath to python\u003e/site-package`。\n\n看看有没有我们要引用的库，找到了就引入，找不到就报错。\n\n上一节的错误中，如果我们恰好位于 sound 所在的文件夹，然后运行 python，此时第一条生效， `import sound` 不会报错，但在其他位置就不行了。\n\n## 名词解释：interactive, script, module, package\n\n可执行的 python 命令可以出现在以下四个地方，第一种是接受键盘输入的程序，后三种都是文件：\n\n1. interactive: python **交互式界面**，也叫做 calculator mode，也就是在命令行输入 `python`之后出现的界面。每次输入一句，结果在命令行上显示出来。当 python 退出之后，输入过的命令就消失了。\n2. script: python **脚本**文件，也就是在命令行输入 `python somefile.py`里面的那个`somefile.py`。\n    1. 毕竟 python 是一种很轻量化的语言，在一定程度上可以起到 shell 的作用，有些命令我们并不想要用完就扔，而是保存起来以便以后重复执行，另外很多命令的组合组合成函数也可以极大地简化工作。在这种语境之下, interactive 和 script 的关系，就好像 Linux 命令行和 bash script 的关系一样。\n    2. 但同时 python 又是一种功能很全面的语言，完全可以胜任复杂的面向对象编程。在这种语境之下，script 也可以用来指代 main module，也就是程序执行的主文件和入口，和下面的一般的 module 相区分。\n3. module: python **模块**文件，也就是在命令行输入 `python -m another` 里面的那个 `another`（注意这里不写拓展名 `.py`）。按照官方文档的说法，所有 `.py` 文件都是 module。但是实际上这句话很有误导性，上一节的 main module 和一般的 module 非常不同，下一节会详细展开讲。一般提到 module，都是在强调这个文件定义的变量和函数可以被其他的 python 文件引用。\n4. package: python **包**，互相关联的 modules 构成的更高一级的可供引用的结构，简单理解就是含有 `__init__.py` 的文件夹，但是 python 并不是根据文件夹和文件之间的从属关系来确定 package 和 module 之间的关系的，下一节会详细展开讲。\n\n## script vs. module\n\npython 同时兼具脚本语言的灵活性，和各种重型语言的功能全面性。因为前者，所以它并不要求程序作者一定要在一个叫做 `main.py` 的文件里写一个名叫 `Main` 的类, 然后在里面实现一个 `main()` 方法。但是因为后者，没写不代表 python 不需要知道一个复杂程序执行的起点。\n\n这个起点就是不带有 `-m` 参数的 `python` 命令后面跟着的 `.py` 文件，这就使得这个文件变得比其他 `.py` 文件特殊。底层表现就是 python 会不管这个文件的名字叫什么，都将它的 `__name__` 属性赋值为 `\"__main__\"`。这样，即便这个文件可能是一个大型库中间的一个模块，运行的时候 python 连它的真名都不知道，就更找不到它同级和上下级的其他模块了。\n\n各种普通模块被 python 用到的方法就是通过在主模块 main module（或者说 script）中 import。经过“python 如何读取代码文件”一节中的搜索过程之后找到了所需模块或包，模块的名字、模块之间的关系、模块里定义了哪些属性和函数，就被 python 了解了，从而当主模块召唤他们的时候就知道去哪里找相应的代码。除了在被 import 的时候，`python -m` 命令的宾语也可以告诉 python 被运行的模块和包的相对关系：`python -m sound.formats.wavwrite` ，此时 python 执行了 `wavwrite.py` 中的所有可执行的命令，同时知道从 `sound/` 到 `wavwrite.py` 的各个包之间的关系。\n\n## absolute import vs. relative import\n\n开头使用已经安装过的包使用的语法全都是绝对引用 (absolute import)，表现就是 import 语句里面没有以 `.` 作为开头的。\n\n另外一种 import 方法叫相对引用 (relative import)，`.` 表示模块所在的文件夹，`..` 表示模块的上一级文件夹。主要用在各种明确知道自己是工具代码，而且是一个更高层次结构的组成部分，几乎永远不需要被作为主模块运行的代码。\n\n回到开头例子里的文件结构，假如 sound/effects/surround.py 中想要使用 sound/formats/wavwrite.py 和 sound/effects/echo.py 中的函数，可以写成：\n\n```python\n\n# in sound/effects/surround.py\nfrom ..formats import wavwrite\nfrom . import echo\n```\n\n## 如何组织代码，以便自己重用\n\n研究终于推进到了准备写论文的阶段了（学渣本质暴露了），写草稿之余，之前几年时间里做过的处理和分析，接下来的一两个月里需要把工作流程规范化之后迅速重做一遍确认。\n\n随手写散落各处的分析代码需要整理到一起，之前试图统一到一个项目之下，结果总是在某个模块引用其他模块的时候遇到报错。于是才有了这篇文章。\n\n以下是 [这篇文章](https://gist.github.com/ericmjl/27e50331f24db3e8f957d1fe7bbbe510) 给出的一个推荐的项目文件结构：\n\n```\n\n|- notebooks/\n   |- 01-first-logical-notebook.ipynb\n   |- 02-second-logical-notebook.ipynb\n   |- prototype-notebook.ipynb\n   |- archive/\n\t  |- no-longer-useful.ipynb\n|- projectname/\n   |- projectname/\n\t  |- __init__.py\n\t  |- config.py\n\t  |- data.py\n\t  |- utils.py\n   |- setup.py\n|- README.md\n|- data/\n   |- raw/\n   |- processed/\n   |- cleaned/\n|- scripts/\n   |- script1.py\n   |- script2.py\n   |- archive/\n      |- no-longer-useful.py\n|- environment.yml\n```\n\n学过这篇笔记包含的内容，我才理解作者这样的安排。既然主文件 ~~很难~~ 没办法通过相对引用来找到工具代码，索性就把工具代码写成一个完整可安装的库，然后就像 `numpy`, `pandas` 一样在独立的 notebook 和 scripts 中引用。\n\n实际使用的时候，需要安装 `projectname` 下的代码：\n\n```bash\ncd projectname\npip install -e .\n```\n\n要知道为什么这样做，需要理解 `setup.py` 这个文件。这篇文章已经够长了，所以这个话题还是下次再说吧。\n\n## 参考链接\n\n- [What's the difference between a Python module and a Python package?](https://stackoverflow.com/questions/7948494/whats-the-difference-between-a-python-module-and-a-python-package). all python files re modules, while package is a specific kind of modules. It is a subsection of module in the python documentation.\n- Official explanation of python module: [https://docs.python.org/3/tutorial/modules.html](https://docs.python.org/3/tutorial/modules.html)\n- [This stackoverflow  answer: \"run as module\" is different from \"run as script\".](https://stackoverflow.com/questions/14132789/relative-imports-for-the-billionth-time) run as module sets the \"name\" to the module's name, while running as script sets it to `__main__` . Here we use \"name\" instead of `__name__` because it also contains `__path__` in newer versions.\n- A tutorial for project organization: [https://realpython.com/python-application-layouts/](https://realpython.com/python-application-layouts/)\n- Official about packaging: [https://packaging.python.org/en/latest/tutorials/packaging-projects/](https://packaging.python.org/en/latest/tutorials/packaging-projects/)\n- Gist: How to organize data science project: [https://gist.github.com/ericmjl/27e50331f24db3e8f957d1fe7bbbe510](https://gist.github.com/ericmjl/27e50331f24db3e8f957d1fe7bbbe510)\n- From the gist there is a link: [http://drivendata.github.io/cookiecutter-data-science](http://drivendata.github.io/cookiecutter-data-science)"},{"slug":"blog-update-theme-materalize","filename":"2021-12-06-blog-update-theme-materalize.md","date":"2021-12-06","title":".md | 博客外观现代化升级","layout":"post","keywords":["md"],"excerpt":"\u003cs\u003e本期博文点赞过 5 亿，下篇文章写用 jekyll 在 GitHub Pages 上搭建静态博客的教程。\u003c/s\u003e","content":"\n今年感恩节三天假期加上周末，一共五天的时间，别的啥也没干，憋在家里给博客换了个主题模板。现在新版本已经上线，基本上已经能用，明显的 bug 都已经解决了。主要的工作内容如下：\n\n- 从 Tufte 风格转换到 material 风格\n- 评论区迁移到现成的 ~~[utterance](https://utteranc.es/)~~  [giscus](https://giscus.app/)。\n- 将旧模版中的侧边栏注记功能移植到新的模板。\n- 调整了 CSS，包括字体、代码模块、博客标题限制高度、博客博客实现类似纸张的卡片效果。\n- 重写了 index.html, /History.html, /Links.html 等页面，尤其是 /Topics.html，实现了一个响应式的两列结构。\n- 重写了博文前面的元信息。\n- 将之前的 repo 重命名并且归档，新建一个同名的 repo，推送上线。\n\n下面挨个来说。\n\n## 风格转换\n\n![](/photos/2021-12-06-blog-old.png)\n\n之前的风格名字叫做 Tufte，好像是根据一个美国教授的设计，主要设计元素包括一套自己加载的衬线字体（很漂亮，但是对中文没用），还有博文占据页面宽度的大约 60%，右侧剩下的空间可以做边注，有一个设计很精美的横向分割线 `\u003chr class=\"slender\"\u003e`。\n\n这个模板很漂亮，但是衬线字体搭配背景色，就跟人一种上个世纪古董网站的感觉（没有对卢昌海老师不敬的意思）。\n\nMaterial Design 是 Google 推出的一个组件库，提供类似纸张和卡片的视觉效果，就给人一种很现代的感觉，内心觊觎已久。[GitHub 的这个 repository](https://github.com/naveenshaji/material) 就用了这套设计风格，虽然已经不再更新维护了，但是已有的功能，比如点击链接之后的加载页面，页面顶端的阅读进度条，我觉得让我自己来的话，十年之内都不一定能学到做出这些效果的技术，于是就直接拿来用了。\n\n## 评论区\n\n### 旧版：jQuery 搭配 GitHub Milestones\n\n之前的评论区是根据 [farseerfc](https://farseerfc.me/zhs/pages/about.html) 大佬的[博文](https://farseerfc.me/zhs/github-issues-as-comments.html)自己仿写的 JavaScript 函数。原文是把 issue 作为一个博文的评论区，issue 下面的 comment 作为评论，这样每一条评论都是平级的，没办法实现对某一条评论的回复，只能在评论内容中指明回复的对象。\n\n除了像博文里一样自己手搓代码，也有现成的第三方工具 [utterance](https://utteranc.es) 来完成这一工作，但是我还是不喜欢这种单层评论系统，于是决定自己仿写一个类似的系统，但是让一个 milestone 对应一篇文章，一个 issue 对应一条评论，一个 comment 对应一条回复。\n\n这就需要我在博文的 Markdown 页面注明对应的 milestone 的编号，然后在网页加载完成之后向 GitHub 对应的 milestone 发送一个 GET 请求，询问是否存在 issues。 得到肯定的回答之后，再依次发送请求 GET 每一条 issue 的内容，显示在博文下方。代码位于 `[/_includes/comments.html` 页面](https://github.com/MountAye/blog-tufte/blob/source/_includes/comments.html)，当年从异步编程开始学起，颇费了我几个周末。\n\n问题出在 GitHub 的用户权限上，只有作者和管理员才有权给某条 issue 指定一个 milestone，所以读者建立 issue 进行评论之后并不会直接显示在博文下面，还需要我回到 repo 把那条 issue 手动挪到对应的文章，几乎不可用。\n\n### 新版：giscus 搭配 GitHub Discussions\n\n这次改版的时候觉得用户体验比“老子可以手搓评论区代码”的自我满足更重要，直接换用了 utterance。评论区在博客页面就提供了编辑区，新版本第一次上线不久就有朋友留言，说明这个评论区还是很好用的。\n\n后来GitHub推出了 Discussion 功能，每一条 discussion 下方可以有不同评论，评论下面可以有针对的回复，这就和一般的评论区和BBS 的“楼层-单元”同构了。\n\n然后又在阮一峰老师的博客看到了 [giscus，](https://giscus.app/)就是在 Discussions 架构下和 [utterance](https://utteranc.es/) 类似的一个工具，只需要在官网按照流程配置，然后把生成的几行代码嵌入到自己的页面里就好了，比原来方便太多了：\n\n```html\n\u003cscript src=\"https://giscus.app/client.js\"\n        data-repo=\"[ENTER REPO HERE]\"\n        data-repo-id=\"[ENTER REPO ID HERE]\"\n        data-category=\"[ENTER CATEGORY NAME HERE]\"\n        data-category-id=\"[ENTER CATEGORY ID HERE]\"\n        data-mapping=\"pathname\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-theme=\"light\"\n        data-lang=\"en\"\n        crossorigin=\"anonymous\"\n        async\u003e\n\u003c/script\u003e\n```\n\n之前 utterance 创建的评论也可以直接从 Issue 移动到 Discussion 板块，所以刚刚那条评论可以正常显示。但是因为换了新的 repo，旧版本的两条评论就移植不过来了，请萌狼和 HK 兄弟包涵。 \n\n## 旧版特有功能：侧边栏注记、正文图片\n\n早就想给博客改版了，一直拖着不办的原因主要是直接把博文复制粘贴到新模板的 `/_posts` 文件夹之后会报错，不知道排错需要多长时间，于是压根就不动手了。因为旧版通过 jekyll 实现了一些正常 markdown 文档没有的功能，我用到的主要就是侧边栏的边注 `sidenote`，以及在正文内部插入图片的 `maincolumn`。\n\njekyll 是建立在 ruby on rail 上的一个软件，所以这些功能也是用 ruby 语言写成的。本以为会很难，结果认真一看，其实根本没什么工作量，就直接把旧模板的 `/_plugins`文件夹复制到新模板就不再报错了，当然显示效果需要调整 CSS，下一节会讲到。`{% raw %}{% sidenote %}{% endraw %}` 就可以继续用了。\n\n 至于正文图片，这个功能和 markdown 已有的图片功能重复了，我觉得不值得为了一点点显示效果牺牲可移植性，于是直接把相关组件删除了，然后把博客文章中用到的地方换成了 markdown 插入图片的语法，重复性体力劳动，不提了。\n\n## 调整 CSS\n\n### 新建 `.paper` 取代 `.cover`\n\n![](/photos/2021-12-06-material-card-cover.png)\n\n这个模板主打的一个内容卡片如图所示，很漂亮，但是整个元素的宽度是由封面图片 `.cover` 决定的：\n\n```css\n@media (min-width: 1600px) {\n    .scroll-1 {\n        width: 1200px;\n        margin-left: -600px;\n    }\n    .scroll-1 .card .cover {\n        width: 1200px;\n    }\n}\n```\n\n而我的很多博文都是纯文字的，直接不添加图片会有大半个卡片没什么内容，去掉图片区域之后整个卡片的宽度会缩水到文字的最大宽度，丑。解决方法是新建了一个新的类 `.paper`，把 `.cover` 中和宽度相关的设置移动到新的类，然后把新类应用在整个卡片的 `\u003cdiv /\u003e` 上。\n\n```css\n@media (min-width: 1600px) {\n    .scroll-1 {\n        width: 1200px;\n        margin-left: -600px;\n    }\n    .paper {width: 1065px;}\n    /* .sidenote {width: 300px;} */\n}\n```\n\n### 考虑侧边栏的页面宽度响应式布局\n\n响应式布局指的是同一个网页，在不同的终端设备上都又能够有适合的视觉效果，主要方法就是根据不同的屏幕宽度设定某些元素的不同取值：\n\n```css\n@media (min-width: 1600px) { /* ... */ }\n@media (max-width: 1600px) { /* ... */ }\n@media (max-width: 1200px) { /* ... */ }\n@media (min-width: 768px) and (max-width: 979px) { /* ... */ }\n```\n\n具体到这个博客：\n\n- 屏宽大于一个很大的值之后，博客正文和侧边栏的宽度固定，不再增加；\n- 屏幕小于这个值，但是大于能够正常显示侧边栏的宽度时，博客正文和侧边栏都占据给定的百分比；\n- 屏幕小于能够正常显示侧边栏的宽度时，侧边栏不再显示，正文宽度固定在之前最小的像素值；\n- 正文像素数占据屏幕全部宽度之后，宽度设定为 100%。\n\n## 复习 Liquid，重写非博文页面\n\n非博文页面和之前的布局基本上相同，除了 `/Topics` 从一个无序号列表变成了响应式的两个竖栏。这是得益于模板引用的 `materialize.css`采用了 [flexible grid](https://materializecss.com/grid.html)。\n\n具体来说，一个`container` 可以动态调整内部元素的占宽，以适应不同大小的设备，包含两级子元素，两级子元素顾名思义，分别显示为行和列的元素：\n\n```html\n\u003cdiv class=\"container\"\u003e\n\t\u003cdiv class=\"row\"\u003e\n\t\t\u003cdiv class=\"col s12 m6 l4\"\u003e\u003c/div\u003e\n\t\t\u003cdiv class=\"col s12 m6 l4\"\u003e\u003c/div\u003e\n\t\u003c/div\u003e\n\u003c/div\u003e\n```\n\n然后将父元素的宽度分成 12 个基本单位，方便指定某一个元素所占的宽度和高度。比如 `class = \"col s12 m6 l4\"` 表示该元素在小设备 (small) 上占据 12/12=100% 屏宽，在中设备 (medium) 上占据 6/12 = 50% 屏宽，在大设备 (large) 上占据 4/12=1/3 屏宽。 \n\n### Liquid\n\nJekyll 本身的编程语言是 Ruby，但是被 Jekyll 编译之前的网页文档中的特殊标记，是一种叫做 Liquid 的领域专用语言。\n\n一般的命令和控制流结构用 `{% raw %}{% %}{% endraw %}` 括起来 \n\n```html\n for i in (1..len1) %}\n\t assign idx = i | times: 2 | minus:2 %}\n   assign cate = category[idx] %}\n endfor %}\n```\n\n直接在网页中显示内容和变量使用 `{% raw %}{{  }}{% endraw %}`\n\n```html\npost.title }}\n```\n\n函数调用的语法最奇葩，是 `input | function` 或者 `input | function: parameter`：\n\n```html\nassign category = site.data.category %}\nassign length = category | size %}\nassign   len1 = length | plus: 1 | divided_by: 2 %}\nassign   len2 = length | divided_by: 2 %}\n```\n\n## 调整博文元信息\n\n每篇博文的开头两道分割线之间的 YAML 是绑定在页面上的变量，可以被 Liquid 引用 `{% raw %}{{ post.VAR_NAME }}{% endraw %}`。\n\n```yaml\n---\nlayout:  post\ntitle:   .html | 翻译：为什么说物理不是一门学科\nkeywords: html\nexcerpt: 一篇稍微硬核的科普文章，讨论物理在生物学当中的可用性。\ndate:    2019-06-19\ncategories: post\nmilestoneID: 5\n---\n```\n\n新版本简化了很多，删掉了没有用的 `date`, `categories`, `milestoneID` 字段，同时把 `keywords` 变成了一个数组，也就是说同一篇文章可能出现在多个 `/Topics` 页面的卡片中。\n\n```yaml\n---\nlayout:  post\ntitle:   .en | 翻译：为什么说物理不是一门学科\nkeywords: [html,inter]\nexcerpt: 一篇稍微硬核的科普文章，讨论物理在生物学当中的可用性。\n---\n```\n\n## 下一步计划\n\n- 进一步优化排版:\n    - 给博文的标题添加视觉效果，现在的一二级标题之间很难区分。\n    - 超链接的样式不够明显，一眼看不出哪里有链接。\n    - 侧边注距离正文的距离不合适，CSS 相关参数的效果很奇怪。\n    - 现在的 /Links 页面在宽度缩小之后用户头像会和介绍卡片挤到一起去。\n    - 网站整体字号在笔记本上比较合适，在台式机上看起来太大了，移动端更大。\n- 加入 google analytics\n- 欢迎大家提建议。\n- 欢迎有独立博客的朋友互相链接。\n- ~~本期博文点赞过 5 亿，下篇文章写用 jekyll 在 GitHub Pages 上搭建静态博客的教程。~~\n\n"},{"slug":"install-pytorch-cpu-on-fedora","filename":"2021-10-13-install-pytorch-cpu-on-fedora.md","date":"2021-10-13","title":".py | Fedora 上安装 CPU 版 pytorch","layout":"post","keywords":["md","py","ai"],"excerpt":"import torch (as tf)","content":"\n马上要参加一个暑期学校，关于深度学习在显微图像处理当中的应用。\n\n深度学习是机器学习的一个分支，机器学习中的绝大多数数据都可以抽象为向量（一阶张量），绝大多数的算法都可以分解为向量之间的运算，或者对向量的变换，表示为矩阵（二阶张量）。这就对张量计算相关算法的库函数产生了很大的需求。PyTorch 和 TensorFlow，还有其他的一些库，比如 Keras，Caffe 等等等等，都是为此而生。早期版本的 pytorch 和 tensorflow 有很大的区别，但是随着版本的迭代，两者逐渐兼并和挤掉了其他的竞争者，两者的相似之处也越来越多，“变成了自己曾经最讨厌的样子”。lol\n\n不知道课上究竟要使用哪种机器学习的框架，所以决定把 PyTorch 和 TensorFlow 全都安装了（摊手）。正好可以接着上一篇的 [python 教程](python-interpreter-editor-virtualenv) 往下写。\n\n先说一下自己的软硬件环境：Intel 家的 CPU 和集成显卡（玩不了《文明6》）。虽然不在官方支持 Linux 的名单上，但是自己安装了 Fedora，内核更新了几次之后已经没有了兼容性问题。python 版本 3.9.6，包管理器是 pip，编辑器是 vscode。\n\n## 建立虚拟环境\n\n为什么要建立虚拟环境的问题本系列的前一篇已经回答过了，这次直接开干。我给两个虚拟环境分别取名为 `torch` 和`tf` 。关于命令行部分的代码，为了表示各个虚拟环境，特别加上了命令提示符`(env)[me@mycomputer]$`，抄代码的时候注意去掉。\n\n```bash\n\n[me@mycomputer]$ mkvirtualenv torch\n(torch)[me@mycomputer]$\n```\n\n## 安装\n\n在 PyTorch 官网，找到自己的硬件配制对应的安装命令：[https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/)。比如我的就是 `Stable`\u003e`Linux`\u003e`Pip`\u003e`Python`\u003e`CPU`。把生成的命令复制到命令行：\n\n```bash\n\n(torch)[me@mycomputer]$ pip3 install torch==1.9.1+cpu torchvision==0.10.1+cpu torchaudio==0.9.1 -f https://download.pytorch.org/whl/torch_stable.html\n```\n\n等待各种提示信息显示安装完成。\n\n## 验证和退出\n\n按照 [官网给出的方法](https://pytorch.org/get-started/locally/#linux-verification)，验证安装是否成功：\n\n```python\n\nimport torch\nx = torch.rand(5, 3)\nprint(x)\n\n# tensor([[0.3799, 0.4494, 0.4296],\n#       [0.5800, 0.0180, 0.3110],\n#       [0.9847, 0.0125, 0.2648],\n#       [0.0296, 0.3142, 0.9266],\n#       [0.3192, 0.9645, 0.5545]])\n```\n\n为了下一步安装 tensorflow，先要退出到默认的虚拟环境：\n\n```bash\n\n(torch)[me@mycomputer]$ deactivate\n[me@mycomputer]$\n```\n\n## 说好的 TensorFlow 呢\n\n本来这篇文章是打算把  pytorch 和 tensorflow 一起写了，结果 tensorflow 实在是不给力。\n\n- 直接安装\n\n在 [TensorFlow 的官网](https://www.tensorflow.org/install)上方导航栏找到 install 按钮，然后在页面左侧找到 package/pip，[安装命令](https://www.tensorflow.org/install/pip#3.-install-the-tensorflow-pip-package)也是只有一句话\n\n```python\n\npip install --upgrade tensorflow\n```\n\n然而不行，虽然安装过程中没有报错，但是验证安装的时候报出一堆错误。\n\n报错信息里有一句 `Could not load dynamic library 'libcudart.so.11.0'`，怀疑上面命令安装的是 GPU 版本。\n\n- 安装 CPU 版本\n\n在网页正文的“Package Location”一节找到了 CPU 版本的安装文件：`https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow_cpu-2.6.0-cp39-cp39-manylinux2010_x86_64.whl`，于是删除虚拟环境、重建虚拟环境、重新安装。\n\n```bash\n\n(tf)[me@mycomputer]$ deactivate\n[me@mycomputer]$ rmvirtualenv tf\n[me@mycomputer]$ mkvirtualenv tf\n(tf)[me@mycomputer]$ pip install --upgrade pip\n(tf)[me@mycomputer]$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow_cpu-2.6.0-cp39-cp39-manylinux2010_x86_64.whl\n```\n\n运行官方提供的测试之后依然会有警告信息：\n\n```bash\n\n(tf) [shixing@yoga-laptop ~]$ python -c \"import tensorflow as tf;print(tf.reduce_sum(tf.random.normal([1000, 1000])))\"\n20XX-XX-XX XX:XX:XX.XXXXXX: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\ntf.Tensor(-1338.4773, shape=(), dtype=float32)\n```\n\n[stackoverflow 的这个回答](https://stackoverflow.com/questions/47068709/your-cpu-supports-instructions-that-this-tensorflow-binary-was-not-compiled-to-u) 说，需要从源码编译 tensorflow，具体的方法在[官网也有](https://www.tensorflow.org/install/source#linux)，但是实在是太麻烦了，~~（还是鸽了）~~ 下次单独写成一篇吧。"},{"slug":"python-interpreter-editor-virtualenv","filename":"2021-06-29-python-interpreter-editor-virtualenv.md","date":"2021-06-29","title":".py | 笔记：python 编辑器、解释器、虚拟环境","layout":"post","keywords":["md","py"],"excerpt":"","content":"\n上一篇 《[在 Windows 10 上配置 python 开发环境](python-installation-and-configuration)》 很惭愧，只做了一点微小的工作，大概三件事：\n- 一个，安装了 python 的解释器；\n- 第二个，把 vscode 安装进了电脑；\n- 第三个，就是我们知道的 virtualenv 虚拟环境。\n\n如果说还有一点什么要讲的，就是在 how 之外，讲一点 what。为了让文章更通顺一点，我打算调整一下顺序，先讲编辑器，再讲解释器，最后再说虚拟环境。虽然文章是立足于 python 来谈，但是这些知识适用于几乎所有通用编程语言。因为我也不是计算机专业出身，这篇文章只是我的学习笔记，如果有不对的地方欢迎大家指出。\n\n## 编辑器\n\n首先我们来做一个实验，把上次教程里创建的 python 文件 `hello.py` 重命名，把拓展名 `.py` 改成 `.txt`, 然后双击鼠标打开文件，会发生什么？在 Windows 系统里，会弹出最最普通的记事本窗口，窗口里是白底黑字的 python 语句，不像 vscode 里面不同语句有不同颜色，但是内容完全一样。\n\n甚至更进一步，你可以在命令行里直接让 python 编译器执行 `.txt` 文件的内容，（`py -m hello.txt`）效果和 `.py` 也是一样的。\n\n`.py` 这个拓展名什么也没有做，和 `.txt` 文件一样，内容就是一串我们人类能够读懂的字符，这样的文件叫做[文本文件](https://zh.wikipedia.org/wiki/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6)。处理文本文件的程序，就叫做[编辑器](https://zh.wikipedia.org/wiki/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8)。记事本就是一种编辑器，vscode 也是。\n\n既然记事本就可以编写 python 代码，那我还费劲安装 vscode 干嘛？确实有人真的只用记事本或其他操作系统自带的编辑器写 python 代码，（油管上还有一个视频是用 Microsoft Word 写代码；）然后用命令行调试程序，但是 vscode 毕竟是专为程序员而开发，提供了很多默认编辑器不具备的功能，比如前面提到将函数、变量、保留词显示成不同的颜色的语法高亮功能。\n\n## 编译器 / 解释器\n\n除了文本文件，这篇文章里涉及的第二种文件是[二进制文件](https://en.wikipedia.org/wiki/Binary_file)。\n\n电脑并不能直接看懂人类认识的字符，在一切的最底层，经典计算机认识的是以不同方式表示的 0 和 1。虽然说所有文件在底层都是二进制的文件，但是“二进制文件”这个名词一般专门用来表示除了文本文件之外的文件，又因为图片文件、视频文件啥的都有自己的名字，所以这个词用来指代的文件，基本上都和软件程序，可以让计算机执行的文件有关。\n\n人类只认识字符，计算机只认识 0 和 1，那么最直觉的思路就是把文本文件翻译成二进制文件。这个翻译过程叫做[编译](https://en.wikipedia.org/wiki/Compiler)，能够完成这一过程的软件就叫做编译器。编译器编译完成之后就退出了，要想执行程序，电脑直接执行编译之后的可执行文件就可以了。\n\n但是编译存在一个问题，就是整个软件需要在所有的源代码文本文件都写好的情况下才能被编译成软件，编译耗费的资源和时间随着软件规模的增长而扩大；一旦修改某处，整个项目又要重新编译。很多时候我们只想快速地知道某个大型项目中的某一句命令的效果是什么，编译这种方法就不适合这种场景了。\n\n于是就出现了[解释器](https://en.wikipedia.org/wiki/Interpreter_(computing))，这种程序比编译器复杂的多，在我们执行这种编程语言命令的时候始终运行，允许我们一句一句地输入命令，记得代码的上下文，还记得我们之前命令的结果，代价就是对于大型项目也需要一句一句地分析解释，计算资源的开销和速度都不如编译。\n\npython 就是一种（官方实现）使用解释器的编程语言，我们在官网下载的那个 `python-***.exe` 文件就是 python 的解释器。这也导致了 python 程序的性能往往不如同水平的 C/C++ 程序员写出来的程序，但是由于单句执行适合试错，所以在 ~~经常犯错的~~ 科研领域还挺流行的。\n\n当然了，python 的特点远不仅仅是解释型语言这么简单，它还是一种：\n- [脚本语言](https://program-think.blogspot.com/2009/08/why-choose-python-1-script.html)\n- [动态语言](https://program-think.blogspot.com/2009/08/why-choose-python-2-dynamic.html)\n- [面向对象语言](https://program-think.blogspot.com/2010/08/why-choose-python-3-oop.html)\n- [函数式编程语言](https://program-think.blogspot.com/2010/08/why-choose-python-3-oop.html)\n- [……](https://program-think.blogspot.com/2010/08/why-choose-python-3-oop.html)\n\n## 虚拟环境\n\n有一次我问我女朋友，她写 python 用什么 IDE，她很自豪地回答，她的 Macbook 自带 python，直接在命令行就可以运行……答非所问还不是最大的问题（仔细想想好像也不是答非所问，不过只回答了问题的一部分），而是直接在命令行运行系统自带的 python，或者其他编程语言的解释器或者编译器，本身就是编程初学者常干的一种危险行为。\n\nWindows 还好，毕竟这是一个面向广大家用消费者的操作系统，防呆设计还是挺多的，没有原装的 python。更加极客向的操作系统，比如 Linux 和 BSD 家族可就不一样了，这些操作系统（的发行版）往往预装了 python。这个 python 可不是给用户拿来开发自己的程序用的，而是用来让很多 python 语言写成的操作系统工具调用的。既然如此，这个 python 的版本一般由发行版的安装包管理者来控制，往往落后最新的 python 版本一段时间，为了避免新版本 python 有什么 bug，也为了让操作系统工具的开发者有时间更新自己的代码。所以如果直接用这个版本的 python 做开发，而且不小心自己升级了 python 的版本，很有可能导致系统的某些功能失常。\n\n虚拟环境就是 python 对这个问题的解决方案。我们可以安装不同于原装 python 的版本，但是并不将这个解释器加入系统路径，操作系统也就不知道这个版本 python 的存在。创建虚拟环境的时候，我们指定使用这一特定版本的 python，这样在虚拟环境激活之后就是我们开发需要的 python，退出虚拟环境就是系统工具使用的 python。\n\n另外，即便两个项目适用于同一个 python 版本，而且都是系统自带的这个版本，虚拟环境也有用武之地。绝大多数程序都需要依赖别人写好的工具代码，这些代码叫做库 (library)，不同的项目可能依赖不同的库代码，或者同一个库的不同版本。这个时候，可以创建不同的虚拟环境，并在其中安装各个项目对应的库，项目之间可以互不影响。\n\n## 编辑器 + 解释器 / 编译器 + 虚拟环境管理 + …… = IDE\n\n为了开发 python 程序要安装这么多不同的程序，太麻烦了，就不能一键安装全搞定吗？当然可以了，这种集成了开发过程中用到的各种工具的程序，就叫做[集成开发环境 (IDE)](https://zh.wikipedia.org/zh-cn/%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83)。对于 python，最有名的 IDE 当属 [Anaconda](https://www.anaconda.com/) 了。\n\n那我为什么不用呢？当然用过，但是听说了 vscode 的大名，而且尝鲜之后，就再也回不去了。写 python 需要编辑 `.py` 文件，写博客需要编辑 `.md` 文件，博客的一些功能需要 JavaScript 实现，这些事情本质上都是编辑文本文件这一件事，在 vscode 这样的编辑器里全搞定就再自然不过了，那么 Anaconda 里的 Spyder 和 Jupyter Lab 就显得多余了。\n\n“把一件事做好”，这也是 [Unix 哲学](https://zh.wikipedia.org/wiki/Unix%E5%93%B2%E5%AD%A6)的一部分。但是问题在于，不同的人对于“一件事”的定义是不同的，有些人觉得做早饭是一件事，有些人觉得是热牛奶煎鸡蛋烤面包等等好几件事，谁是对的？\n\n也许都对，但是 编辑器 + 解释器 + …… 比起 IDE 就是处在鄙视链的上游。这一点可以不同意，但是应该要知道，不然别人抖包袱的时候你没捧上哏，挺尴尬的。\n"},{"slug":"qc-hackathon-write-up","filename":"2021-04-22-qc-hackathon-write-up.md","date":"2021-04-22","title":".qs | QC Hack 量子编程马拉松","layout":"post","keywords":["md","phy"],"hasMath":true,"excerpt":"4月初的时候，系秘书转发了一封邮件，耶鲁和斯坦福有两个关于量子计算的学生社团，打算举办为期一周的线上训练营,然后在周末举办一个24小时的编程马拉松","content":"\n\n## 一\n\n4月初的时候，系秘书转发了一封邮件，耶鲁和斯坦福有两个关于量子计算的学生社团，打算举办为期一周的[线上训练营](https://www.quantumcoalition.io/)，然后在周末举办一个24小时的编程马拉松 ([hackathon](https://en.wikipedia.org/wiki/Hackathon)) 的活动。只要年满18岁就可以参加，并不限定本科生。\n\n整个活动由几家从事量子计算的科技公司赞助，前面的线上训练营基本就是各家轮流上来介绍一下自己家的量子计算平台的使用方法，最后的编程马拉松也由他们每家出一套题，所以这个活动也有在学生和公司之间搭桥，给参与者争取实习机会的目的在里面。参与者可以自由组队，但是在项目提交的的时候每个人只能属于一支队伍。虽然参与者可以参加任意数量的题目，但是每一名参与者最终只能成为一家公司的优胜者。如果预感到自己在某一个项目的赢面比较大，可以在提交之前通知自己参加的其他队伍把自己除名。24小时的时间限制还是比较紧迫的，所以基本上认准一家答题就可以了。\n\n女朋友也收到了一样的邮件，所以理所当然地一起组队。我之前在本科阶段上过一门一学期的量子信息和量子通信课程，内容约等于在量子力学之后再上一个学期的习题课，以及在不讲群论的情况下应用 SU(2) 群，并没有接触过这个活动中会用到的编程语言。女朋友没有上过这门课，基本就是物理专业普通研究生的量子力学水平。周中的线上训练营，我只参加了第一天的，是 Microsoft 的 Quantum Development Kit (QDK) 和 Q# 编程语言相关的，顺便介绍了一下量子计算中很有名的 Deutsch 算法。剩下的讲座我基本上都没有参加，一方面是知道前面的规则之后就懒下来了，另一方面是实验室的工作仍然需要继续，再有就是线上活动实在是太容易摸鱼了没有效率。周五的晚上，女朋友看了一晚上我的量子信息笔记，我看了看 Q# 的语法规则，在台式机上安装了开发环境。以上就是我们参加编程马拉松之前的基础和准备。\n\n\n## 二\n\nHackathon 美东时间周六上午10点开始，周日上午10点结束。因为我们只看了 Microsoft 相关的内容，所以直奔[相关题目](https://github.com/quantumcoalition/qchack-microsoft-challenge)。\n\n题目一共分为两部分。\n\n第一部分一共四道题，就像是一般的计算机课程的作业一样，参赛者只需要在举办方写好的主程序文件里的指定区域填入代码，然后运行主办方写好的测试文件检查结果，测试通过即可得分。四道题目要求如下：\n\n1. 判断一个3-5位的2进制数能否被4整除。\n2. 判断一个3比特位当中是否至少有两位不同。\n3. 同第2题，但是要求量子比特门最多只能使用 3-比特，而且 3-比特门最多使用一次。\n4. 给定一个有两种颜色的无向图，判断图当中不含有任何单一颜色的三角形。\n\n第二部分内容比较自由，要求用 Grover's 算法解决一个自己感兴趣的问题，打哪指哪，然后写一篇文章介绍自己的这个项目，并提交相关的代码。根据问题深度(6分)、工具使用(5分)、创新性(4分)、教育价值(5分) 四方面进行评分。\n\n\n## 三\n\n### I.1.\n\n第一道题最简单，但是我们当时约等于0基础，所以做起来也颇费了一些时间。不过由于我听过第一天的课，知道 `oracle` 在 Q# 编程语言中是一个很重要的概念，所以在题目给出的参考教程 [Quantum Kantas](https://github.com/Microsoft/QuantumKatas/) 里找到了[oracle 相关的教程](https://github.com/microsoft/QuantumKatas/tree/main/tutorials/Oracles)。里面有个名为 `ControlledOnBitString` 的 function，可以根据一串量子比特的取值是否等于一个特定的二值串而对另外一个比特做一个特定的操作。前一天晚上又知道了 `Microsoft.Quantum.Convert` 的 namespace 里有各种数据类型转换的函数，搭配 `IntAsBoolArray`，就做出了第一题的初版。后来看到了更简单的 `ControlledOnInt` 函数，就直接用上了。\n\n### I.2.\n\n第二题的初版是女朋友做的。题目要求是找出是否至少两位不同，这一判断的否定就是三位比特全部相同，所以同样用 `ControlledOnBitString` 函数，然后判断一次全 `true` 一次全 `false`，再把最终结果取反就可以了。但是在做第三题的时候，因为两个题目长得太像了，中间不小心把一个能通过第二题测试但是通不过第三题测试的答案直接覆盖在了第二题上面，懒的改回去了，于是就成了最后提交的版本。\n\n### I.3.\n\n第三题和第二题非常不同。第二题的解决思路中，判断全 `true` 和全 `false`有3个控制位1个输出位，这里用了两次 4-量子比特门，所以第三问需要全新的思路。另外我曾经试过在一个 `operation` 里申请一个新的 `Qubit()` 结果测试报错，因为误解了报错信息，所以误认为除了程序的主 operation 之外不能创建新的 qubit，于是被卡住了。这时候已经来到了下午，实在想不出来又很困，于是去床上躺了一会。半睡半醒之间想到，题目虽然要求输入的量子比特不变，但是我们仍然可以直接改动输入，只要在函数结束之前把对输入的改动全部复原就可以了。于是用 CNOT 门分别作用在 1-2, 1-3 对输入的量子比特上，两个门分别以第2、3号比特为输出。然后用一个 3-bit 门判断2、3号比特是否相同，并输出到结果位上。为了复原第2、3号比特，只需要把 CNOT 在两对比特上分别再用一次就行了。\n\n但是这个结果还是无法通过测试（后来成为了第二题的提交版本），报错的提示信息是使用了超过一次 3-量子比特门——这不是开玩笑吗？于是打开了官方提供的测试文件，发现测试代码计算 3-量子比特门的使用次数的时候，会把用户定义的 3-量子比特门的数量，和 `CCNOT` 门的数量做加法，于是看文档，我们定义的那个 “用一个 3-bit 门判断2、3号比特是否相同，并输出到结果位上” 的操作和 `CCNOT` 门是等价的，于是直接换用 `CCNOT` 门，问题解决。\n\n### I.4.\n\n第四题看起来复杂，但是可以分成三个部分：\n\n1. 找出图中所有的三角形，确定每个三角形的三条边，这一步完全可以用经典算法完成；\n2. 创建一个和三角形相同数量的量子比特数列，对每个三角形，把三条边直接带入第二/三题的操作里，结果输入创建的量子比特列中；\n3. 判断量子比特列是否全为 `true`，结果输出到整个程序的结果位上。\n\n第一步由女朋友来想我来写（毕竟只有一台电脑有开发环境），难点在于：\n\n1. Q# 语法改变数列值的语法十分难受\n    \u003cbr\u003e`mutable points = [-1,-1,-1,-1,-1,-1];`\n    \u003cbr\u003e`set points w/=0..1 \u003c- [0,1];`；\n2. 作为一种强类型语言对元组和数列的区分让我这个 python 选手十分蛋疼\n    \u003cbr\u003e`(Int,Int)`/`Int[]`；\n3. 求数列中不重复的值居然不排序不能给出正确结果。\n    \u003cbr\u003e`let uniquePoints = Arrays.Unique(EqualI,Arrays.Sorted(LessThanI,points));`\n\n这也是唯一一段用上了 `Message()` 函数来 debug 的部分。\n\n第三步就重新回到了第三题暂时敷衍掉的问题：对于在操作中创建的 `Qubit()`/`Qubit[]`，`Reset()`/`ResetAll()` 函数相当于测量，会破坏操作的 adjoint 性质，不测量则（当时的我）没有办法将这个量子比特列复原。\n\n此时已经午夜，我来解决这个问题，女朋友去看第二部分，后来她看完 Grover‘s 算法的教程去睡了，我还在想这个问题。直接把报错信息复制到 Google，找到了一个[论坛里的问答]()，好像是去年微软在其他地方举办的类似活动的。里面只是提到要“uncompute the qubits”，给出的例子用的是旧版本 Q# 的语法，~~没法直接抄~~ 。最终不抱希望地把之前对那个 `Qubit[]` 做过的循环顺序倒过来重做了一遍，诶，您猜怎么着，还是没通过！绝望了！正序重做一边，诶，通过了！为什么为什么为什么？到现在也没弄清楚。\n\n### II.\n\n然后把女朋友叫醒，让她来讲一讲 Grover's 算法。听完之后我的理解是，对于一个 $$f:(0,1)^N \\rarr (0,1)$$ 的函数，这个算法可以大概率地找到一个解 $$S\\in(0,1)^N$$ 满足 $$f(S)=1$$. \n\n至于这个函数 $$f$$，之前每一道题都是这样一个函数，当时已经夜里两三点了，实在是没时间再想一个新函数了，于是我们直接就拿复杂度最高的第4题来换个皮。换个什么皮呢？为了这个活动翘掉了这周的[《文明6》联机游戏](barrier-forward-keyboard-mouse-to-another-computer)，然后之前看 YouTuber [\"PotatoMcWhiskey\"](https://www.youtube.com/user/PotatoMcWhiskey)介绍过[一个 Mod](https://steamcommunity.com/sharedfiles/filedetails/?id=1753346735\u0026searchtext=diplomacy)，里面可以将文明之间的外交关系可视化为无向图，所以，诶嘿嘿嘿……\n\n女朋友写完文稿就睡了，我把文稿改了改，然后和官方对 Grover's 算法的实现缝合了一下。提交的时候，距离截止时间大约还有一个小时。\n\n\n## 四\n\n之后的周五的时候收到了消息，我们得奖了。优胜者一共6支队伍。从活动结束之后公布的结果看，要想成为优胜，第一部分的4道题必须全部正确，然后第二部分得分在 8-20 分之间。\n\n这个成绩是个什么水平？截止到写这篇文章的此刻，官方题目的 Github 仓库有 80 份 fork，有少数几份 fork 是针对已有的 fork，有可能来自同一队伍，再考虑到可能有些队伍的不同成员分别 fork 了主项目，所以估测 60 支队伍应该是有的，官方给出 6 组优胜者这么一个不零不整的数字，个人猜测是取了前 10%？据主办方在 discord 提供的消息，有一支队伍的第二题成绩高于8分，但是前面没有全对，所以没有得奖；其余队伍的第二题都不超过6分；并不清楚有多少队伍第一题全对，主办方也不打算公布各队的详细成绩。\n\n这大约说明活动的参与者，其成绩基本上符合二八原理——少数人得到的分数，占据了所有参赛者全部得分的大多数。\n\n参加过这个活动之后，我们一下子就从量子计算小白摇身一变，成了优秀人才了？实际上，直到现在，我还是搞不太清楚 oracle 到底是个什么东西，女朋友对量子计算的理解估计比我还差（逃）。美国哲学教授约翰·希尔勒提出过一个叫做[“中文房间”](https://zh.wikipedia.org/wiki/%E4%B8%AD%E6%96%87%E6%88%BF%E9%97%B4)的思想实验，说一个只会说英语的人被关在一间满是汉字字块的房间里，不断从房间外收到写着中文问题的纸条。房间里有一本英文写成的手册，指示如何对输入的汉字进行回复。凭借这个手册，房中人可以在完全不会中文的情况下，与外界进行交流。希尔勒类比外人、房中人、手册，与程序员、计算机、计算机程序，认为房中人不会中文，进而论证计算机不可能通过程序来获得理解力。\n\n希尔勒教授想论证啥是他的事，我倒是对这个类比的本体很感兴趣——如果一个人已经能够熟练运用那个英文写成的汉字使用手册了，我们还能不能，能在多大程度上说他不懂中文呢？就说一般的程序员，工作时间能保证不看 stack overflow 的有几个，所以他们都不会编程？反对中文房间思想实验结论的人，很多都支持用图灵测试超过某一阈值来作为有智能的标志，但是我觉得，智能本身就不是一个非有即无的性质，而是一个连续分布，没有上限的谱。\n\n另一方面，得分名列前茅，和能力名列前茅，又是两回事。本科的时候做建模美赛，我们学校数理金融的一个学神前一年成绩“略有不佳”，没拿到 M 奖，于是我们那年找到了我和风神俩学物理的，准备再次冲击荣誉。巧了这一年的题目正好有一道浴缸放热水的问题，这不就是物理中的扩散方程嘛，那得奖还不是手拿把掐的？结果呢，H 奖，丢人丢到姥姥家去了。合着我们两个成绩还都不错的物理专业学生，在自己的专业里，打不过那么多同龄的非物理专业本科生？\n\n两相对照之下，我想起了很久之前看过的一篇博客文章，文章以一个问题开头——“熟练”的反义词是什么？当然说“生疏”这文章就写不下去了，作者给出的答案是——“应变”。熟练意味着，你对于问题、选项、最优解已经有了充分且完备的了解，只需要重复自己的经验就可以了，但是在自己不了解的战场上，经验至少不能直接派上用场，这时候，脱离具体环境的应变能力就成了生存和取胜的关键，我们当时的专业水平高不成低不就，反而成了掣肘我们的桎梏。\n\n读到这篇文章的时候，我被这种剑走偏锋的观点击中了，从那以后，一直都在注意培养自己的应变能力——如果明天我所研究的这个领域消失了，我还有没有谋生的能力？如果自己正在解决的问题被上帝或者 Matrix 作弊修改成一个新问题，我能不能看到连作弊都改动不了的题眼，然后一击命中？在凌晨两三点的时候，我也没有放弃解决第一题第 4 问的 Qubit 复位问题，虽然当时我并不知道评分标准，但是内心非常确定，这个问题必须解决。\n\n以上两次活动的成绩差别，也可以从得奖难度来看。建模美赛的 M 奖，得奖率应该远小于 10%，即便考虑到二八原理中绝大多数参赛者都只是凑数，而且样本越大凑数者越多，这个差距也还是无法忽略。我们能够得奖，和量子计算领域才刚刚萌芽，连“方兴未艾”都算不上，因此竞争并不激烈也有很大关系，应变能力是切入这些蓝海领域的必要条件，是躲避内卷的利器。我们现在对“内卷”人人喊打，但是培养应变能力是需要牺牲相当多本可以精进专业的时间和精力的。当社会中的大多数人向往着逃离内卷的时候，真的不需要有人咬定一个领域不断深耕？我现在的选择真的正确吗？我不知道。我是打算留在当前的领域继续熟练，还是换个领域应变，抑或是虚掷 PhD 光阴换一张工作签证？我也不知道。\n\n## 五\n\n哦对了，我有女朋友了，而且在 hackathon 的过程中把女朋友惹哭了……问题是我现在已经不记得具体是怎么把人家惹哭的了，连道歉都显得很不诚恳……我确实是一个不擅长合作的人，或者说跟别人说话的我，和想问题的我并不是同一个人，之前本科 CUPT 和建模的时候也一样，需要和人打交道的时候就几乎干不了活儿，严重的时候自己就退化成了鼓励师……总之一切错误在我，希望她不要记仇…… \u003cbr\u003e（。・＿・。）ﾉ\n"},{"slug":"python-installation-and-configuration","filename":"2021-03-07-python-installation-and-configuration.md","date":"2021-03-07","title":".py | 在 Windows 10 上配置 python 开发环境","layout":"post","keywords":["md","py"],"excerpt":"截图截到哭……","content":"\n我的 python 版本之前一直停留在 3.7，目前最新已经到了 3.9。最近研究上要用一段别人写的 python 的代码，原作要求 3.6 版本的 python，所以卸载了 3.7 版本，重新安装了 3.9 和 3.6 两个版本的 python。\n\n煽动爸妈学编程很久了，欠他们一篇教程。不论是打算不断精进者的第一门编程语言，还是浅尝辄止者打算学的唯一一门语言，python 都是一个很不错的选择。所以即便爸妈对编程可以说是毫无兴趣，我也还是把这篇教程写完了，希望能帮到其他人。因为是面向纯新手的，所以基于 Windows 10 操作系统。因为这套设置我自己也要用，出于个人偏好，所以没有直接使用 `conda`。\n\n## ~~别看你今天闹得欢~~ 先拉个清单\n- python\n    - 在官网下载 `python` 解释器\n    - 安装 `python` 解释器\n- 虚拟环境\n    - 设置环境变量\n    - 用 `pip` 安装 `virtualenv` \n    - 用 `pip` 安装 `virtualenvwrapper`\n    - 创建一个虚拟环境，安装 `jupyter`\n- 编辑器\n    - 在官网下载 `vscode`\n    - 安装 `vscode` 和相关插件\n    - 测试一下效果\n\n## 教程本体\n\n### 在官网下载 `python` 解释器\n\n在 python 的官网上 ([https://www.python.org/downloads/](https://www.python.org/downloads/)) 下载\n\n![](/photos/2021-03-07-python-official-website.png)\n\n### 安装 `python` 解释器\n\n执行下载的文件，可以看到如下图所示的界面，点击红框中的选项，因为我想更改安装路径。此处似乎也可以勾选最下面的 \"Add Python 3.9 to PATH\"，我安装的时候没有选，后面才发现还要手动完成这一工作。\n\n![](/photos/2021-03-07-python-install.png)\n\n接下来的界面里每个选项都勾选，next。\n\n![](/photos/2021-03-07-python-next.png)\n\n在接下来出现的界面中，选择 \"Install for all users\"，然后选择一个自己喜欢的安装路径。我之所以选择 `C:\\Python39` 这个位置，是因为:\n1. C 盘是系统盘，而且是固态硬盘，比较快；\n2. 默认路径在个人文件夹里，非常难找\n3. `C:\\Program Files` 需要管理员权限，用 `pip` 做软件包管理不方便。\n\n![](/photos/2021-03-07-python-install-path.png)\n\n安装完成后进入命令提示符，输入 `py`，应该可以看到一串 python 版本信息，然后命令提示符变成 `\u003e\u003e\u003e` 字样，此时就已经进入了 python 环境，可以按行运行 python 命令。输入 `exit()` 就可以退出 python。\n\n### 设置环境变量\n\n在 windows 的搜索框里输入 \"environment variables\"，没等你输完，应该就可以看到下图中的联想结果：\n\n![](/photos/2021-03-07-environment-variable-search.png)\n\n再按照下图，依次点击按钮，一共要做两件事:\n1. 给 `Path` 变量添加 `C:\\Python39` 和 `C:\\Python39\\Scripts` 两个新值。\n2. 新建一个文件夹，用于存放 python 的虚拟环境（比如 `C:\\PythonEnvs`）。创建一个名为 `WORKON_HOME` 的新变量，并将其值设为 `C:\\PythonEnvs`.\n\n![](/photos/2021-03-07-environment-variable-box.png)\n\n### 用 `pip` 安装 `virtualenv` 和 `virtualenvwrapper`\n\n按照刚才的步骤，此时 `pip` 应该已经安装，此时在命令行输入途中的命令，应该可以看到类似的返回信息：\n\n![](/photos/2021-03-07-pip-check.png)\n\n如果命令行说没找到 `pip`，可能需要按照[这个链接](https://pip.pypa.io/en/stable/installing/#installing-with-get-pip-py)里的方法重新安装。\n\n在命令行中输入 `py -m pip install virtualenv`， 安装虚拟环境管理器：\n\n![](/photos/2021-03-07-virtualenv-install.png)\n\n显示安装成功之后，在命令行输入 `py -m pip install virtualenvwrapper-win`，结果应该和上图差不多，忘了截图。\n\n### 创建一个虚拟环境，安装 `jupyter`\n\n`virtualenv` 和 `virtualenvwrapper` 安装完成之后，在命令行中输入 `mkvirtualenv base`，新建一个名为 base 的虚拟环境。\n\n然后输入 `workon base`，此时命令提示符的行首应该会多出一个 `(base)` 字样，这说明我们已经工作在了 base 这个虚拟环境里。此时 `pip --version` 的结果说明我们的 python 的地址已经和之前不同了。\n\n![](/photos/2021-03-07-virtualenvwrapper-check.png)\n\n在这个环境之下，安装 jupyter，输入命令 `pip install jupyter`，安装 jupyter。这一步不是必须的，但是这样我们将来安装 vscode 之后，可以获得和 conda 自带的 spyder 类似的体验，菜鸟逐行调试的时候非常方便。\n\n### 下载和安装 `vscode`\n\n从 vscode 的官网下载安装包（[链接在此](https://code.visualstudio.com/)），可以看到大大的下载按钮：\n\n![](/photos/2021-03-07-vscode-download.png)\n\n下在之后的安装过程就和一般的程序安装一样（安装很久了，没有截图）。\n\n安装完成之后打开程序，点击左侧工具栏红框中的那个图标，搜索 python 的相关 vscode 插件。python 开发一般都需要 `python`, `pylance`, `jupyter` 这三个：\n\n![](/photos/2021-03-07-vscode-plugin.png)\n\n以后要运行 vscode 的时候，在你想开始写代码的文件夹里，鼠标右键单击，选择 \"Open with Code\":\n\n![](/photos/2021-03-07-vscode-folder-open.png)\n\n然后在 vscode 的界面，在文件树上单击红框中的按钮，新建一个文件，命名为 `*.py`，这里随便写了个 \"hello\".\n\n![](/photos/2021-03-07-vscode-new-file.png)\n\n在随后打开的文档编辑区输入 `print(\"Hello World\")`，将光标停留在这一行，按 `Shift`+`Enter` 执行这一行：\n\n![](/photos/2021-03-07-vscode-run.png)\n\n因为是第一次执行，又因为安装了 `jupyter`，这时候 vscode 的右下角应该会出现一个提示框，询问是否用 jupyter interactive window 执行代码。然后关掉下方的这个 terminal (下半区右上角的叉号)。重新按 `Shift`+`Enter` 执行，此时的结果应该如下图，点击红圈中的变量浏览器，这就几乎和 spyder 的体验一样了。\n\n![](/photos/2021-03-07-vscode-interactive.png)\n"},{"slug":"barrier-forward-keyboard-mouse-to-another-computer","filename":"2020-12-22-barrier-forward-keyboard-mouse-to-another-computer.md","date":"2020-12-22","title":".md | 扫盲Barrier，用笔记本键鼠无线控制台式机","layout":"post","keywords":["md"],"excerpt":"你看我这个标题它像不像编程随想:-p","content":"\n## 为啥要用 `Barrier`\n\n圣诞节前的周五，我们系在线上办了一个聚会。和学姐闲聊的时候，听说他们高年级的几个朋友每周一起联机玩《文明6》，于是一番理(卑)直(躬)气(屈)壮(膝)的要(恳)求之后，成功加入了组织，等到了 steam 的圣诞特惠（没错我一直没买 new frontier pass，我是云玩家），准备以物理学工作者的严谨态度，研究《文明6》诱导的基于回合的反常时间平移对称现象。\n\n![](/photos/2020-12-22-livingroom.png)\n\n我现在公寓房间的结构如图所示，前任房客走的急，把她的几乎全部家具低价甩卖给我了，四舍五入相当于白捡了一台大电视。电视用 HDMI 线连接电脑，当作第二显示器使用。躺在沙发上，看着大屏幕，玩着文明6，[运用自如](https://www.bilibili.com/video/BV1g441187zq)的话说——“那岂不是非！常！爽！”\n\n所以说，我的要求是：\n\n- 在笔记本和台式机处于同一 Wifi 的情况下——\n- 笔记本电脑和台式机之间不需要任何数据线连接\n- 使用 Linux 笔记本上的触控板、鼠标和键盘\n- 控制 Windows 台式机\n- 正常运行和操作《文明6》，不会因为延迟卡顿被人喷（卡顿是不存在的，只可能掉线lol）\n\n一番搜索之后，锁定了 `Barrier` 这款软件。它可以设定一个 server 和多个 client，用 server 的输入设备控制各个 client。切换方法也很方便，只要提前约定好各个设备的“相对位置”，当 server 的鼠标光标跨过 server 屏幕的边角处，就开始控制对应方向上的设备。（具体可以查看下一节。）\n\n之所以选择它，主要原因如下：\n\n- [开源软件](https://github.com/debauchee/barrier)，堂堂正正地不用花钱。（我知道开源软件≠免费软件，但是……）\n- 目前依然有人维护，GutHub 上还有上百个 open issues，当然 closed issues 更多，有问题可以查，提问也有人回答。\n- 跨平台，Windows 和 Linux 都能用。主流 Linux 发行版都可以在仓库里找到，也可以通过 snap 安装。\n\n## 如何配置 `Barrier`\n\n### 下载和安装：\n\n因为我的发行版是 Fedora，在笔记本的 terminal 上任选一句运行：\n\n```shell\n\nsudo dnf install barrier\nsudo snap install barrier\n```\n\n台式机是 Windows 10，在GitHub 项目（[链接在此](https://github.com/debauchee/barrier/releases)）里找到最新一期的发布版本，找到 `.exe` 结尾的文件（可以用浏览器的页内搜索），下载，双击下载后的文件安装。\n\n### 配置 server （笔记本电脑）：\n\n首先要确定 linux 的桌面环境是基于 xorg 的，当前版本的 GNOME 默认使用的是 Wayland，所以需要 log out 之后重新选择带有 xorg 字样的环境，如下图：\n\n![](/photos/2020-12-22-gnome-environments-new.png)\n\n安装完成之后，在 app 界面（`Win`+`A`）应该可以找到 barrier 的图标，单击即运行。一般来说之后会有相当长一段时间电脑没有反应，这个时候 **千万不要重复点击图标**，会导致无法连接。\n\n![](/photos/2020-12-22-barrier_linux_desktop.png)\n\n之后会看到软件的主界面，选中图中所示的选项：\n\n![](/photos/2020-12-22-barrier_linux_start.png)\n\n然后单击 `configure server` 按钮，进入下图的界面，拖动右上角的电脑屏幕图标，拖到中间屏幕周围的任意一格。我选了右边一格，因为这样在笔记本上向右滑鼠标会进入台式机的显示器，从显示器右边框向右会进入电视，一路反过来就回到了笔记本屏幕，操作比较自然。\n\n![](/photos/2020-12-22-barrier_linux_config.png)\n\n双击图标后会弹出一个新窗口，在最上面的 \"screen name\" 栏填入 client 上显示的本机名称，现在我们还没有配置 client，所以需要等到配置完之后回来填写。\n\n![](/photos/2020-12-22-barrier_linux_naming.png)\n\n注意主窗口的左下角，如果不是 “barrier is running” 的话，需要点击右下方的 reload，还是不行的话就要准备 debug 了。\n\n### 配置 client （台式机）：\n\n安装完成之后，应该能在开始菜单里找到 barrier 的图标，点击运行，应该会看到和笔记本上面差不多的界面。\n\n![](/photos/2020-12-22-barrier_windows_main.png)\n\n选择图中的选项，填入笔记本窗口中显示的本机 IP 地址，选中 `auto config` 选项，然后点击右下方的 `start`，然后窗口左下角同样应该有 \"barrier is running\" 字样。点击菜单栏里的  -\u003e `show log` 打开日志，应该可以看到下图里的 \"connected to server\" 字样。\n\n![](/photos/2020-12-22-barrier_windows_log.png)\n\n### 几个雷点：\n\n- Fedora 的显示管理器默认并不使用 xorg，需要专门切换。\n- Linux 上启动较慢，如果不耐烦多点了几次，可能会重复打开多个实例，造成端口被占用，无法使用。\n    + 诊断方法：打开 log 界面，会发现 \"ERROR: cannot listen for clients: cannot bind address: Address already in use\"  字样。\n    + 解决方法：杀掉多余的进程，不会杀的话就重启电脑吧。\n- server 和各个 client 对是否使用 SSL 的选择必须是一致的。\n- 官方没有按步骤来的配置说明，这么多雷点，我居然看到好几篇博客都在夸 barrier 的界面多么通俗易懂，简直了。 \n\n## `Barrier` 之外的其他方案\n\n- `synergy`：成熟的商业软件，好像要花钱。\n- `Microsoft Garage Mouse without Borders`：要求所有设备都使用 Windows 系统，不适用于我的笔记本电脑\n- `usbip`：来自 farseerfc 大神的[这篇博文](https://farseerfc.me/zhs/usbip-forward-raspberrypi.html)，原文说“设置好的话，就像是一台 PC 多了几个位于树莓派上的 USB 端口，插上树莓派的 USB 设备统统作为 PC 的设备”。\n    + 和 `Barrier` 相比，配置的步骤更繁琐；\n    + 好像一次只能控制一台设备（不太懂，如果转发给多个设备的话可能会一起执行相同的操作？）；\n    + 好像也不适用于非 USB 接口的设备，比如笔记本的原生键盘和触屏笔；\n    + 一旦运行起来，server 的鼠标就不再能够控制自己，所以原文使用了几乎注定吃灰的树莓派，相当于给键盘加了个广播天线。\n\n\u003c!-- 用的是一款叫作 [Gather](https://gather.town/) 的 web 应用，就像 90 年代的 RPG 游戏一样，参加者每人指挥一个像素很糊的人物，在一个像素很糊的房间里走来走去，不同之处在于当角色相互靠近到一定距离之内的时候，可以像 Zoom 一样视频连线。 --\u003e"},{"slug":"py-matplotlib-two-api","filename":"2020-10-04-py-matplotlib-two-api.md","date":"2020-10-04","title":".py | matplotlib笔记：两种API","layout":"post","keywords":["md","py"],"excerpt":"import matplotlib.pyplot as plt","content":"\n“图”这个字在英语中可以对应好几个词，picture, image, figure, plot... 其中的 plot，意思是展示两组或两组以上的数据之间关系的图像。用时髦一点的话说，就是数据可视化的产物。  \n\n所谓`matplotlib`，顾名思义，~~`mat` 表示山寨 MATLAB~~，`plot` 的含义如上所述，`lib` 表示这是 python 的[一个第三方库 (library)，而不是某种领域专用的编程语言 (domain specific languange, DSL)](http://www.yinwang.org/blog-cn/2017/05/25/dsl)。\n\n所谓 API，全称是 application programming interface, 应用程序接口，约等于在你有了自己的数据，想调用 matplotlib 来画图的时候，那些需要写在你自己代码里的语句的语法规则。\n\n因为是代码库，所以在一切开始之前，需要在你的 python 代码开头声明引入\n\n```python\nimport matplotlib.pyplot as plt\n```\n\n`plt` 可以换成你喜欢并且不和其他代码冲突的名字，但是这三个字母是大家的约定俗成的，网上的绝大多数示例代码都这么写，~~照抄就完事了。~~\n\n## `matplotlib` 的两种 API\n\n`matplotlib` 有两种 API，（其实还有第 3 种 `pylab`，但它没能经得起时间的检验，已经处于官方极不推荐的状态），分别是：\n\n- 基于状态的 (state-based)\n- 面向对象的 (object-oriented)\n\n两种风格混用的话大概率没法玩得转，会产生各种出人意料的输出结果，新手 debug 的能力又比较差，所以最好先选边站队，有时间再学剩下的一个。\n\n对于有 MATLAB 基础的朋友，基于状态的 API 语法和 MATLAB 几乎一模一样，几乎可以直接上手，当年 python 算是后起之秀，这一招当初就是为了从 MATLAB 那里吸引用户， ~~相当歹毒。~~ 这套接口本身也比较简单，适合在调试程序的时候快速看一下结果，检查错误。\n\n对于一般的初学者，matplotlib 的代码本身就是用面向对象的编程范式写成的，学习这套 API 可以更好的理解代码，知道自己究竟在干什么，顺便还可以熟悉一下面向对象的编程范式。现在学 python 之前就会 MATLAB 的人越来越少，网上 ~~可供复制粘贴~~ 的示例代码越来越多地使用面向对象的语法，学习面向对象的接口也更加实用。\n\n## 两种 API 的相同任务\n\n![](/photos/2020-10-04_figure-and-axes.png)\n\n上图来自网上随便找的一篇论文，可以看到，一般我们会把信息相关的几幅小图放在一起，在文章排版的时候，这张组合在一起的图片算作一个单位。在 matplotlib 里面，这样一个基本单位叫做 `figure`，而每一幅小图叫做 `axis` （变量名常简写作 `ax`）。平时的单图可以看作只有一个 `axis` 的 `figure`，多图的时候往往用一个 tuple `axes` 的 `__getitem__()` 方法来控制每个子图。\n\n![](/photos/2020-10-04_anatomy-of-figure.png)\n\n上图[来自官网](https://matplotlib.org/gallery/showcase/anatomy.html#anatomy-of-a-figure)，图中的蓝字就是 matplotlib 认为的一张只有一个 axis 的 figure 所包含的元素。\n\n两种 API 要做的事情，就是建立 `figure` 和 `axis`，然后提供函数/方法来生成或者改变各个元素。\n\n## 基于状态 (state-based)\n\n所谓基于状态的 API，不太好解释，前面已经说过，在每个函数前面加上 plt，剩下的就和写 MATLAB 几乎完全一样。\n\n看[官网给出的教程](https://matplotlib.org/tutorials/introductory/pyplot.html#sphx-glr-tutorials-introductory-pyplot-py)，可以观察到两个有趣的现象：\n\n- 几乎没有赋值运算符 `=`\n- 几乎所有的 `.` 前面都是 `plt`\n\n也就是说，与 matplotlib 相关的命令都是函数，而且不需要将返回值赋给任何变量。`figure` 和 `axis` 的概念被隐藏起来了，`plt.figure()` 建立一个 figure；`plt.subplot()`建立多个 axes，并且将程序的注意力放到函数参数指定的子图上；紧跟着的设定各种元素的函数都会作用到之前最新一个 `plt.subplot()` 所指定的子图上。\n\n没有赋值说明函数的返回值并不重要，这些函数都会作用在后台维护的 figure 和 axis 的状态机上面，也就是说这些函数都有副作用，不是纯函数。\n\n## 面向对象 (object-oriented)\n\n[作为对比](https://matplotlib.org/gallery/showcase/anatomy.html#anatomy-of-a-figure)：\n\n- 头几句会有赋值运算符 `=`，被赋值的变量名一般就是 `fig` 和 `ax`。\n- `.` 前面都是 `fig` 和 `ax`，其中 `ax` 居多。\n\n`fig` 和 `ax` 分别是 `matplotlib.figure.Figure` 和 `matplotlib.axes.Axes` 两种对象的实例，画图和调整都是在调用两种对象的方法，主要是 `ax` 的方法。\n\n## 不同之处 Cheat Sheet\n\n绝大多数命令，在两种 API 之下的名字都一样，差别就在于开头究竟是 `plt.` 还是 `ax.`，但是少数命令不同，下面做了一个表格，进行一个不完全的列举：\n\n| State-Based | 任务 | Object-Oriented |\n|---|---|---|\n|`plt.figure(**args)`|__新建 figure__|`fig = plt.figure(**args)`|\n|`plt.subplot(**args)`|__新建 axis__|`ax = fig.add_subplot(**args)`|\n|好像没有|__同时新建 figure 和复数 axes__|`fig,axes = plt.subplots(**args)`|\n|`plt.title(**args)`|__设置 figrue 标题__|`ax.set_title(**args)`|\n|`plt.xlabel(**args)`|__设置 x 轴名称__|`ax.set_xlabel(**args)`|\n|`plt.ylabel(**args)`|__设置 y 轴名称__|`ax.set_ylabel(**args)`|\n|`plt.xlim(**args)`|__设置 x 轴范围__|`ax.set_xlim(**args)`|\n|`plt.ylim(**args)`|__设置 y 轴范围__|`ax.set_ylim(**args)`|\n\n其他不同的命令，以后用到的时候会随手更新。\n"},{"slug":"measure-david-with-imagej","filename":"2020-04-29-measure-david-with-imagej.md","date":"2020-04-29","title":".ijm | 用 ImageJ 给大卫量尺寸","layout":"post","keywords":["md"],"excerpt":"\u003cs\u003e用 ImageJ 测量大卫雕像的丁丁长度\u003c/s\u003e","content":"\n前两天看果壳，推送的头条是《古代雕塑的丁丁真的都（像大卫）那么小吗？》，为了立论，作者根据图片测量了大卫像的丁丁长度，虽不十分精确，但是好歹有个定量的结果——“4厘米不到”，还给出了使用的工具——ImageJ。\n\n![](/photos/2020-04-25_guokr-quote.png)\n\n怎么做到的，咱也来试试？\n\n## `ImageJ` 是啥？\n\n上一篇文章（[《“你这是不是原图直出啊？”》](raw-image-or-not)）我们提到了，专业相机可以记录 RAW 格式的图片，这类图片包含的信息比平时常见的图片更多，也需要专门的软件进行处理。不只是消费者水平的相机，实验室里的显微镜、CT机都可以看作是特殊的照相机，它们产生的图像自然也需要专业的软件来读取和处理。\n\nImageJ 就是这样一款软件。相比于直接使用编程语言（比如 MATLAB，python 的 scikit-image 模块），它提供的方框、多边形、椭圆选区工具，直接用编程语言来替代的话要麻烦许多；而且各种操作的结果都可以几乎实时地反馈在画面上，不需要一遍又一遍地 `imshow()`。\n\nImageJ 用 Java 写成，所以跨平台的表现一致，~~用户界面有一股浓郁的 Windows 95 风味，而且在 MacOS 上也一样，Windows 用户幸灾乐祸中~~。代码开源在 GitHub，免费，能让用户知道自己的每个操作究竟在干啥，而且可以自己开发拓展功能，打包成第三方的发行版。我们今天要用的 Fiji，就是一个集成了很多常见拓展功能的 ImageJ 发行版。\n\n## 具体怎么量？\n\n先简单列举一下步骤，详细介绍在后面：\n\n- 下载大卫像的正面照。\n- 运行 `ImageJ`，打开图片。\n- 复制图片，防止我们的操作改变原始数据。\n- 用矩形选择框选定大卫像从头到脚的区域，记录选择框的高度。\n- 用 `Analyze -\u003e Set Scale` 工具确定像素和厘米的换算关系。\n- 用直线工具画出要测量的距离，从主面板读取长度。\n- 用 `Analyze -\u003e Tools -\u003e Scale Bar...` 绘制比例尺。\n\n如果你看到这么简略的介绍就能脑补出如何操作，那么就可以 ~~（关掉这篇文章）~~ 跳过下面的详细介绍了。\n\n我们使用的照片来自维基百科的“大卫像”汉语词条，图片作者是 Jörg Bittner Unna，根据 CC-BY-3.0 协议共享。我们下载的是中等尺寸（480×720）的图片：\n\n![](/photos/2020-04-25-david.jpg)\n\n鼠标右键单击画中的任意一点，在弹出的菜单中选择 `Duplicate`，在对话框中选确定，这样我们就得到一张原图的副本。之后的所有操作都在这个副本上进行，这样即便有任何操作失误，对副本做出了不可逆转的伤害，都不会影响到我们的原始数据。如果数据的安全和完整得不到保证，无意之失叫做学术错误，有意为之叫做学术造假。\n\n选择工具栏中的矩形选择框（图中主面板左一的阴影按钮），在图中画出一个矩形，上下边分别是大卫像的头顶和脚底，**画完后鼠标不要乱动**，然后在主面板的底部读出高度 `h=595`，此处的单位是像素：\n\n![](/photos/2020-04-25_find-height.png)\n\n点击主面板的 `Analyze` 按钮，在下拉菜单中找到 `Set Scale`，在弹出的对话框中，`Distance in pixels` 填入我们读出的 595 像素，`Known distance` 和 `Unit of length` 填入作者假设的 150 cm：\n\n![](/photos/2020-04-25_set-scale.png)\n\n然后就可以开始正式的测量了。再次使用矩形选择工具，**画完后鼠标不要乱动**，主面板底端的 `length=20.93` 就是以 cm 为单位的距离了：\n\n![](/photos/2020-04-25_measure-head.png)\n\n丁丁可以选中直线工具（左起第五个），用鼠标拖拽的方法画线，主面版的底端也会显示结果。\n\n量完之后，要想方便他人，可以在图上画出比例尺。再次点击主面板的 `Analyze` 按钮，在下拉菜单中找到 `Tools`，然后找到 `Set Scale`，在弹出的对话框里选择合适的选项，然后点击确定，就可以在画面中添加一个比例尺：\n\n![](/photos/2020-04-25_menu-scale-bar.png)\n\n如果对操作满意的话，就可以保存图片了。~~（我对这个结果不满意，所以直接没有保存就退出了。）~~ 原图没有改动，可以直接关闭，软件应该也不会发表反对 ~~（通知书）~~ 对话框。\n\n## 量出来个几？\n\n我们的截图显示，按照 150 厘米的身高，大卫的头颅对应的长度是 20.92 厘米。\n\n对于丁丁，由于图片中的阴影部分对起止点的认定有很大的干扰作用，几次测量的结果都不相同，最小值是 3.91 厘米，最大值是 4.45 厘米。\n\n## 这么量对吗？\n\n我们的结果和原文有一定不同，但处于同一数量级 ~~（废话）~~。由于原文并没有介绍自己使用的数据来源，原文中的图片本身并不适合测量这个数据（下面会讨论），而且还给关键区域加了遮挡，所以我们无从比较两个结果的差异。\n\n对于我们自己的测量，我们可以对如下几个误差来源进行讨论：\n\n- 相机视差\n- 深度误差\n- 关于大卫身高的假设\n\n### 相机视差\n\n我们在几何光学里学的相机成的是倒立的实像，物高和像高之间的关系按照牛顿公式取决于物距、像距、透镜的焦距等等知识，都用到了“傍轴条件”这一假设。换句话说，考虑的都是理想状态，要想满足这种理想状态，基本相当于要求镜片的直径无限大，厚度无限小，焦距还可以是任意值。\n\n我们的相机显然不满足这种理想状态（简单证明，理想状态下大卫像和后面的墙壁显然不可能同时被同一个透镜组严格地在同一个平面上成像）。景深范围内，不同深度的物体都可以在图中成像，但是存在着透视关系。同样长度的物体，在不同的深度下，在图片上的成像的长度不同；在画面中央的长度，和在画面边缘时的成像长度也不同。B 站里的摄影师们拍小姐姐的时候，脸尽量靠近画面中间，腿一般出现在画面边缘，就是利用广角镜头的透视效应。\n\n我们的照片目测是用中长焦镜头拍摄的，透视变形不是很明显，但是在测量雕像身高的时候还是遇到了困难，我们用的是脚尖到头顶的距离，如果取脚的中间的话结果就会短一些。\n\n### 深度误差\n\n我们的照片是二维的，所以之前的测量，相当于假设被测距离的起点和终点在同一深度上。如果两点之间有一个深度差，那么测量线、深度差、实际距离三条线会构成一个直角三角形，实际距离需要按照勾股定理进行计算。我们这里得不到深度差，所以这一误差就成了一个系统误差，而且是有偏 (biased) 的，真实结果不小于测量值。\n\n我们选取的照片几乎平视着整座雕像，尤其是我们比较关注的部位，所以深度差几乎可以忽略；果壳提供的图片是仰视的，所以如果这就是测量所用的照片的话，误差应该比我们更大。当然了，还是由于作者没有公布数据和方法，以及原文中图片有马赛克，这种比较没有意义。\n\n### 关于大卫身高的假设\n\n开头的文章截图已经给出了将大卫像对应的身高定为 150 cm 的理由，我们来看一下，这个理由成立吗？\n\n文中说“这相当于现代12岁男童的平均身高”，但是米开朗基罗真的是以 12 岁的人体为原型来创作的吗？我们为什么量了一下大卫的头高呢？是为了算头身比。大卫像头身比是 1:7.5，这已经几乎是一个成年人的比例了。艺术作品为了凸显对象的某些特点和气质，某些特点不符合原型的设定，这在艺术上是完全可能而且可以接受的。《红楼梦》书中的绣像，后来的电视剧中演员的服化道，几乎都比原书的年龄设定更成熟。\n\n像是某一器官的大小，其衡量标准应该是相对于某个基准的（比如体长）的比值，也就是一个无量纲的量。像是4厘米这种带有长度量纲的量，虽然的确是能比一个比例更容易让人有直观的感受，但是结论很容易因为对身高的质疑而动摇。\n\n最后，我觉得最致命的一个问题是，大卫像其实是文艺复兴时期的作品，和罗马仿希腊的艺术品一样，是一个其他文明模仿希腊的产物，而且模仿的过程中融入了很多近代人文主义的精神。这一题材也并非来自于希腊文化，大卫击杀歌利亚是犹太教-基督教文化中的故事。在这种情况下，作者应该额外论证文艺复兴对丁丁的描写照搬了希腊文化的习俗。既然如此，为什么不直接找一个古希腊时期的古希腊作品呢？\n\n而且原文中有“你也许会说大卫像也许只是一个个例，万一只是米开朗基罗的恶趣味呢？一个例子不能说明古希腊雕塑里的小丁丁都很小”字样，不好意思，米开朗琪罗的作品不是古希腊雕塑的“一个例子”。\n\n## 课后作业\n\n![](/photos/2020-04-25_horseman.jpg)\n\n上图是法国画家雅克-路易·大卫的作品《跨越阿尔卑斯山圣伯纳隘道的拿破仑》，请根据该作品完成下列题目：\n\n1. 请寻找资料估测马的体长，并据此估测拿破仑的身高。\n2. 请寻找拿破仑身高相关的史料，并据此估测马的体长。\n3. 比较前两题的结果。\n\n啥？你说拿破仑当时骑的是一头驴？哦，那没事了，下课！\n"},{"slug":"Arch-Linux-in-VirtualBox","filename":"2019-09-03-Arch-Linux-in-VirtualBox.md","date":"2019-09-03","title":".sh | 在 VirutalBox 中安装 Arch Linux","layout":"post","keywords":["md"],"excerpt":"这是一篇速记，相当于实验的原始记录。日后有可能根据这些记录，整理出一些心得体会，或者全流程的教程。","content":"\n\u003e 这是一篇速记，相当于实验的原始记录。日后有可能根据这些记录，整理出一些心得体会，或者全流程的教程。\n\n第四代树莓派（[Raspberry Pi 4](https://www.raspberrypi.org/products/raspberry-pi-4-model-b/)）刚刚推出的时候，脑子一热买了一台。作为一台计算机，只用原装的操作系统有点咸鱼了，所以打算安装 Linux 的一款发行版。既然要追求刺激，那就贯彻到底咯，于是就决定挑战一下 Arch Linux。 ~~（反正早晚也要吃灰）~~\n\n既然要挑战一个很有挑战性的操作系统，那么先在虚拟机里试试水就很有必要了。（后来才发现用这个虚拟机往树莓派里写操作系统，也是官方比较推荐的一种安装方式。）于是就开始了这篇速记中的一系列折腾。\n\n## 我的硬件和软件配置\n\n* **硬件**：蓝厂 CPU、绿厂显卡、2*8 GiB 内存、小 SSD + 大 HDD 硬盘、iTX 主板，机龄不到两年，日常可以流畅使用。\n* **物理机操作系统**：Windows 10 Pro\n* **虚拟机控制软件**：VirtualBox 6.10，短暂用过 5.12 版本\n* **虚拟机镜像文件**：Arch Linux 2019.08.01, Windows 10, Fedora 30 Workstation\n\n## 虚拟机托管软件 VirtualBox\n\n可以看一下编程随想的博客里的 [系列文章](https://program-think.blogspot.com/2012/10/system-vm-0.html)。\n\n我的手头一直有虚拟机托管软件，但是没有编程随想那样的需求，平时几乎用不到。（用虚拟机学 Linux？你可拉倒吧）不过之前很轻松地装过一些 Linux 的发行版，主要是 Fedora，所以没觉得这部分会有什么问题，直接开始了主线任务：下载 Arch Linux 的安装 ISO 镜像、检查校验和（FCIV，教程可以看 [这里](https://program-think.blogspot.com/2013/02/file-integrity-check.html)）、按照官网 [安装指南](https://wiki.archlinux.org/index.php/Installation_guide)（[中文](https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))）操作，然后发现虚拟机连不上网 :-(\n\n### 问题：虚拟机无法通过 NAT 或 NAT Network 模式联网\n\n具体表现为 `ping www.google.com` 报错：\n\n``` bash\n\u003e ping archlinux.org\n# Temporary failure in name resolution\n```\n\n此时的网络设置没有修改过，就是几乎没有可选参数的 NAT 模式。\n\n第一反应当然是把报错的信息直接复制粘贴到 Google 里，然后看到了 [这个帖子](https://bbs.archlinux.org/viewtopic.php?id=237461)。\n\n回答用一种很有礼貌的方式表述了 RTFM，并给出了官方的 [Network Configuration 页面](https://wiki.archlinux.org/index.php/Network_configuration)。\n\n按照这个页面的步骤，因为我的 ISP 给的是动态的 IP，需要用DHCP，DHCP 是啥我都不知道，搞得我跪着下载了编程随想书单里的《Richard Stevens TCP-IP 详解》，解压后看着 3 卷一百多个 PDF 文件，默默关上了资源管理器……\n\n继续变换关键词搜索解决方案，在这期间改动过防火墙设置，又重置了一次；重装了两次旧版本 VirtualBox，因为第一次重装忘记删除配置信息（Windows 10 Pro 在 `%userprofile%\\.virtualbox`，见[这个帖子](https://superuser.com/a/1429931)）；另外装了 Windows 10 和 Fedora 30 两个虚拟机；找来一个玩过 VirtualBox 而且打包票能解决问题的同学。确定了和虚拟机中的操作系统无关，VirtualBox 的 Bridge 桥接模式是可以联网的，但是总不能放任虚拟机的重要联网功能残废着啊 ~~（何况 NAT 模式在多重代理中不可或缺）~~，还是一筹莫展。\n\n就在折腾了这么几天之后，Windows 推送了一次更新，神奇的一幕发生了！更新之后，不论是 NAT 还是 NAT Network 模式，虚拟机都能正常上网，所以，可能真的是“天下本无事，庸人自扰之”吧……\n\n**解决方法：~~吃饭睡觉打豆豆~~**\n\n## 安装 Arch Linux\n\n继续按照官方指南进行安装，不得不说这份指南写的真的不好，至少对于新手是不友好的。一个典型的例子就是下面这句：\n\n\u003e 你需要安装 Linux 引导程序以在安装后启动系统，你可以使用的的引导程序在 [启动加载器]() 中，请选择一个并且安装并配置它，比如 [GRUB]()。\n\n你该怎么办？公布一下正确答案：点击 `GRUB` 那个链接，在一众分类中找到适用于你的计算机配置的那一节，目力忽略各种介绍，找到那一两行有用的命令。ε=( o｀ω′)ノ\n\n反正单看这一句，以我的理解能力，我是没办法正常通关，于是就有了下面硬盘格式化的问题。\n\n### 问题：硬盘格式化不正确\n\n我是用 fdisk 进行的硬盘分区，在正常模式之下似乎找不到选择分区类型的选项，所以我的 EFI 分区也被当作了 Linux 文件系统，所以在很多个步骤之后报错，具体的报错信息已经不记得了。\n\n还好在编程随想的博客的评论区里见到过萌狼，一个 Arch Linux 用户，顺手去他家的博客逛了逛，知道他写过一系列关于 Arch 的博客。所以找到了《给 GNU/Linux 萌新的 Arch Linux 安装指南》，于是直接重建了一个空白虚拟机，按照新教程的流程走了一遍。\n\n**解决方法：看[萌狼的安装教程](https://blog.yoitsu.moe/arch-linux/installing_arch_linux_for_complete_newbies.html)，用 cgdisk 分区**\n\n### 问题：开机后显示 UEFI interactive shell\n\n本以为万事大吉，结果卸载掉安装 ISO 之后开机，总是会进入 UEFI interactive shell。输入 `exit` 之后重新开始倒计时，然后再次进入这个 shell……\n\n就在写这篇速记的时候，我找到了官方 wiki 的 [这个条目](https://wiki.archlinux.org/index.php/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%90%AF%E5%8A%A8%E6%97%B6%E8%BF%9B%E5%85%A5%E4%BA%86%E6%95%91%E6%80%A5%E6%8E%A7%E5%88%B6%E5%8F%B0)，理论上应该是针对这个问题的，但是看一下就知道，并没有提供可操作的解决方案。\n\n通过 STFW，找到了这篇文章：《[如何在 VirtualBox 内安装 Arch Linux](https://cli.ee/archlinux-virtualbox)》，里面提到这个问题是由 VirtualBox 的 UEFI 引起的，同时提供了解决方法：\n\n```bash\n\nShell\u003e bcfg boot dump -v              # 查看启动的菜单\nShell\u003e bcfg boot rm 0                 # 删除光驱启动目录\nShell\u003e fs0:                           # 进入 EFI 分区\nFS0:\\\u003e ls                             # 查看目录，可以看到 EFI 目录\nFS0:\\\u003e mkdir EFI\\boot                 # 在 EFI 目录下创建子目录\nFS0:\\\u003e ls EFI                         # 查看 EFI 目录，确认是否已创建子目录 boot\nFS0:\\\u003e cp EFI\\grub\\grubx64.efi EFI\\boot\\bootx64.efi # 复制 efi 文件并重命名\nFS0:\\\u003e exit                           # 退出\n```\n\n执行完这一步，开机之后就可以看到 GRUB 的选择操作系统的界面了，因为只安装了 Arch Linux，我们只能看到两个选项，一个 `Arch Linux` 正常启动，一个 `Advanced Options for Arch Linux`。\n\n### 问题：开机后无法进入图形界面\n\n本以为万事大吉，结果开机之后选择 `*Arch Linux` 选项，屏幕上只剩下两行字，然后没有其他反应。\n\n同样是上网搜了一下，发现如果按下 `Ctrl + Atl + F2` 是可以进入命令行模式的，随便执行了几个命令，发现系统工作正常。用 `journalctl` 看一下系统日志，发现在最后一段里经常出现高亮的几行里面，都有 `drm` 这个关键词，再次搜索，发现是和显卡相关的。因为是在虚拟机里，所以就去 VirtualBox 里康康有啥可能会导致问题的选项。\n\n**解决方法：在 VirtualBox 的虚拟机显示设置界面，禁用3D加速**\n\n\u003chr class=\"slender\"\u003e\n\n至此，所有的坑都已经踩完了，开机之后可以看到正常的登录界面，Duang~Duang~~~\n\n![](/photos/arch.png)"}]],["ai",[{"slug":"notes-on-pytorch-autograd","filename":"2024-11-10-notes-on-pytorch-autograd.md","date":"2024-11-10","title":".ai | PyTorch 中的自动微分 autograd","layout":"post","keywords":["md","py","ai"],"excerpt":"我对 PyTorch 中的自动微分还是一知半解，停留在知道计算图和反向传播的概念，以及能看懂和小改别人写好的代码的水平。之所以存在这样的认知断层，是因为介绍自动微分的时候一般是手动计算张量，然后给读者画个计算图；而真正干活的时候一般是写一个神经网络的类，这个类继承自 `torch.nn.Module`。","content":"\n\u003e 装了这么久的 ML/AI 爱好者，我发现我对 PyTorch 中的自动微分还是一知半解，停留在知道计算图和反向传播的概念，以及能看懂和小改别人写好的代码的水平。所以自觉还得再补补课。\n\u003e \n\u003e ~~真实动机是前女友找到了国内的研发工作，马上要回国赚大钱了，我破防了~~\n\u003e \n\u003e 之所以存在这样的认知断层，是因为介绍自动微分的时候一般是手动计算张量，然后给读者画个计算图；而真正干活的时候一般是写一个神经网络的类，这个类继承自 `torch.nn.Module`。\n\u003e \n\u003e 这样一包装，承载微分的张量很少被点名取用；而计算过程被一刀两段，绝大多数计算包装在了这个类的 `forward()` 方法中，但是最后一步计算模型预测和训练目标的差异 (loss)，往往留在了训练的控制流中，让人以为两者之间有什么本质区别。\n\u003e \n\u003e 其实不然——自动微分只针对 PyTorch 张量，`torch.nn.Module` 的实例是一个包含若干参数的函数，其参数要么是 `torch.nn.Parameter`，要么是其他含参的 `torch.nn.Module` 实例的参数，（用 `.parameters()` 方法取得，常见于 optimizer 的首个参数）。每次把训练输入张量带入这个函数，中间的数学计算就会被自动微分机制记录。对于自动微分来说，这些计算和最后对 loss 的计算没什么不同。\n\u003e \n\u003e 这个道理其实在做《[**一个 PyTorch 机器学习项目长什么样**](what-a-PyTorch-project-looks-like)》这篇笔记的时候就应该理解，而实际上没有理解，说明——\n\u003e \n\u003e - 一来信息和知识不是同一层面的概念，相同的信息嵌入在不同元信息中，可以给出不同深度的知识；\n\u003e - 再者费曼学习法虽然像实验记录一样有让人快速恢复学习进度的好处，但也有让人沉溺于流量，忘记学习本心的危险，戒之在躁。\n\n一个机器学习项目的过程包括：准备数据、定义模型、训练、评估效果。先来个简单例子：\n\n```python\nimport torch\nfrom torch import data,nn,optim\n# Data Preparation\ndataset = data.Dataset(...)\ntrainloader = data.DataLoader(dataset,...)\n# Model Definition\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        # ...\n    def forward(self, x):\n        # forward calculation ...\n        return x\nnet = Net()\ncriterion = nn.CrossEntropyLoss()\noptimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9)\n# Training\nfor epoch in range(2):\n    running_loss = 0.0\n    for i, data in enumerate(trainloader, 0):\n        # get the inputs\n        inputs, labels = data\n        # zero the parameter gradients\n        optimizer.zero_grad()\n        # forward + backward + optimize\n        outputs = net(inputs)\n        loss = criterion(outputs, labels)\n        loss.backward()\n        optimizer.step()\n        # print statistics\n        # ...\nprint('Finished Training')\n# Validation\ncorrect = 0\ntotal = 0\nwith torch.no_grad():\n    for data in testloader:\n        images, labels = data\n        outputs = net(images)\n```\n\n## 张量——自动微分的对象\n\n\u003e https://pytorch.org/tutorials/beginner/introyt/tensors_deeper_tutorial.html\n\n对于基本数据结构——张量，~~不应该~~ 也可以用大写的 `torch.Tensor(data)` 来创建；官方推荐的方法是小写的 `torch.tensor(data)`，产生的张量是 `data` 的拷贝，对一方的改动不反映到另一方。\n\n如果数据已经是 `numpy.ndarray` 了，可以用 `x_tensor = torch.from_numpy(x_array)` 和 `x_array = x_tensor.numpy()` 互相转化，他们使用同一片内存，对一方的改动会反映到另一方。\n\n更推荐的方法是用各种工厂函数，比如 \n\n- `torch.empty()`\n- `torch.zeros()`, `torch.zeros_like()`\n- `torch.ones()`, `torch.ones_like()`\n- `torch.eye()`\n- `torch.rand()`, `torch.rand_like()`\n\n其中在声明随机张量之前使用 `torch.manual_seed(seed)`，可以让距离该函数相同执行距离的随机数代码总是产生相同的数值：\n\n\u003e [https://pytorch.org/docs/stable/notes/randomness.html](https://pytorch.org/docs/stable/notes/randomness.html)\n\u003e \n\n### 尺寸相关\n\n张量的尺寸是一个它本身的一个性质 `x.shape`, 属于 `torch.Size` 类。\n\n张量之间的计算，在尺寸不同时，遵循类似 NumPy 的 broadcasting 规则。\n\n`x.item()` 从一个单元素张量（不一定是标量）里取出它的值，返回值的数据类型不再是 PyTorch 自己的类型，而是 python 原生类型。\n\n`x.unsqueeze(dim)` 在第 dim 个维度增加一个长度为 1 的维度。\n\n更一般的改变形状需要 `x.reshape(*new_shape)` 和 `torch.reshape(x,new_shape)`\n\n### 物理设备相关\n\n一般数学函数也有 `out` 参数，可以原位写入已存在的张量，不改变原张量的 id。\n\n原位计算是在一般数学函数名字后面加一下划线，如 `torch.sin_(x)`, `x1.add_(x2)`\n\n张量的赋值是传递指针，而不是传递数值。数值拷贝需要 `x2 = x1.clone()`. 克隆产物会保持和之前一样的 `requires_grad` 参数值。如果原张量在计算图里，新张量不需要的话应该 `c = a.detach().clone()`\n\n参与运算的两个张量需要在同一设备 (CPU/GPU). 创建张量的时候可以用 `device` 参数声明设备，已经创建的张量可以用 `x.to(device)` 改变设备。\n\n### 自动微分和神经网络相关\n\nPyTorch 中的张量都有 `requires_grad` 参数，默认为 False。\n\n对于带有 `requires_grad=True` 参数的张量，都受到自动微分机制 autograd 的控制。\n\n前面每个每个创建张量的函数都接受这个参数，也自动传染给对自动微分的张量进行数学计算的结果。\n\n神经网络，也就是继承自 `torch.nn.Module` 的对象（假设实例化为 `net`），内部有两个方法`net.parameters()` 和 `net.buffers()`，它们取到的是张量的 iterator，其中前者里面的张量（绝大多数）受 autograd 控制，后者不然。\n\n要想取得某个神经网络的单个参数，需要知道 `__init__()` 方法中的变量名，以及官网文档中的参数名（一般在 Variables 小节，比如[这个例子](https://pytorch.org/docs/stable/generated/torch.nn.Linear.html)）\n\n```python\nclass MyNetwork(torch.nn.Module):\n    def __init__(self):\n        super().__init__()\n        self.param1 = torch.nn.Parameter(torch.zeros((5,)),requires_grad=True)\n        self.linear = torch.nn.Linear(in_features=5,out_features=1,bias=True)\n    def forward(self,x):\n        return self.linear(x * self.param1)\nnet = MyNetwork()\nwith torch.no_grad():\n    print(net.param1)\n    print(net.linear.weight)\n    print(net.linear.bias)\n```\n\n## 自动微分\n\n\u003e https://pytorch.org/tutorials/beginner/introyt/autogradyt_tutorial.html\n\nautograd 自动根据代码动态构建计算图：\n\n```python\na = torch.linspace(0., 2. * math.pi, steps=25, requires_grad=True)\nb = torch.sin(a)\nc = 2 * b\nd = c + 1\nout = d.sum()\n```\n\n![上述代码构成的计算图](/photos/2024-11-10-computation-graph.png)\n\n对于数学函数 `b = f(a,*args)` 计算出来的张量 `b` ——\n\n### `.grad_fn` 是一个函数\n\n- 输入只有一个，尺寸需要和 `a` 的尺寸对齐 ~~（我感觉很奇怪）~~\n- 输出的数量等于计算出这个张量的函数的输入的数量。\n- ~~直接运行这个函数 ，基本就是把输入张量重复输出~~。从[这个问答](https://stackoverflow.com/questions/66402331/in-pytorch-what-exactly-does-the-grad-fn-attribute-store-and-how-is-it-used)来看，直接运行这个函数几乎没有意义，因为自动微分是用其他编程语言实现的，`SinBackward0` 并不是 Python 对象。\n- `t.grad_fn.next_functions` 是一个 tuple，成员是 `x1` 等参数的 `.grad_fn`, 可以继续递推到工厂函数创建的张量，也就是这个计算图的叶节点。叶节点的 `.grad_fn` 为 `None`\n\n```python\nprint(a.grad_fn)   # None\nprint(b.grad_fn)   # \u003cSinBackward0 object at 0x000001C8E240F400\u003e\nprint(c.grad_fn)   # \u003cMulBackward0 object at 0x000001C8E240EB30\u003e\nprint(d.grad_fn)   # \u003cAddBackward0 object at 0x000001C8E240F400\u003e\nprint(out.grad_fn) # \u003cSumBackward0 object at 0x000001C8E240F190\u003e\n```\n\n### `.backward()`\n\n- 默认状态下，计算图的最终节点 `out` 是一个标量，也就是 0 阶张量。\n    - 要想让计算图的最终节点是一个高阶张量，需要指定 `out.backward(gradient)` 参数。`gradient`和 `out` 尺寸相同，两者对应元素相乘后求和，从而成为一个标量。\n    - 这种设定可以让一个张量的梯度 `.grad` 的尺寸只和自身的尺寸相等；如果允许计算从 `out` 到自身的 Jacobian 矩阵，会导致计算规模按多项式（一般是平方）增长。\n- 默认状态下，一个计算图只能有一个`.backward()`，且只能执行一次。多次执行会报 `RuntimeError`: “Trying to backward through the graph a second time”。\n    - 要想对完全相同的计算图做多次 `.backward()`, 需指定 `out.backward(retain_graph-True)` 参数。\n\n### `t.grad`\n\n- 偏导数张量 $$\\partial\\mathrm {out}/\\partial \\mathrm t$$，在最终节点运行 `.backward()` 之后，计算图中各节点的 `.grad` 会自动被 autograd 赋值\n- 默认情况下，只有计算图的叶节点可以访问其 `.grad`\n- 要取得中间节点的 `.grad`，需要在 `.backward()` 之前对相应张量执行 `.retain_grad()`\n\n```python\nb.retain_grad()\nout.backward()\n\nprint(a.grad)   # tensor([...],...), 约等于 2 * torch.cos(a)\nprint(b.grad)   # tensor([2.,2.,2.,...2.],...)\nprint(c.grad)   # None，不是计算图的叶节点，也没有 .retain_grad()\nprint(d.grad)   # None，不是计算图的叶节点，也没有 .retain_grad()\nprint(out.grad) # None，不是计算图的叶节点，也没有 .retain_grad()\n```\n\n以上各个操作基本上符合数学的习惯。\n\n## 张量及其微分的更新\n\n以下设定更多的是为了工程上方便：\n\n`.grad` 是一个张量的性质，不是最终节点和该张量两者之间的性质，也不是计算图整体的性质。\n\n不论是 `.backward(retain_graph=True)`，还是另外构建了新的计算图并运行 `.backward()`（比如训练时加载了训练集的新一轮 batch），当一个已有 `.grad` 的张量被新的 `.backward()` 波及时，`.grad` 的新值会是旧值和本轮偏导数的相加。\n\n如果不想要这种累加，需要主动提前将张量 `.grad` 改成 0 或者 None。\n\n除了梯度张量的置 0，\n\n### 手动\n\n正常情况下，`requires_grad=True` 的张量，对其做的所有操作都会被 autograd 记录，包括赋值操作，这就导致正常情况下，不论是清空梯度，还是根据梯度更新模型的参数，会导致 auto grad 的混乱。\n\n所以需要特殊操作，通知 autograd 某些对受控张量的改动，不需要成为计算图的一部分。\n\n所谓的特殊操作就是 `torch.no_grad()`\n\n```python\na = torch.arange(5.,requires_grad=True)\nb = torch.sin(a)\nb.backward(gradient=torch.ones_like(b))\nwith torch.no_grad():\n    a[1] = 10\n    a.grad.zero_()  # a.grad = 0\nprint(a)  # tensor([0,10,2,3,4], requires_grad=True)\n```\n\n在完全不涉及训练，只需要推理的环境，`with torch.inference():` 比 `with torch.no_grad():` 更节省计算资源。\n\n### 自动\n\nPyTorch 提供了上述操作的接口。\n\n神经网络的参数的更新有一整个 `torch.optim` [模块](https://pytorch.org/docs/stable/optim.html#algorithms) 提供的更新参数的方式（`Optimizer` 的子类）。里面的优化器都实现了两个方法：`.step()` 和 `.zero_grad()`，前者修改参数本身的值，后者将各参数的梯度归零。\n\n```python\nclass MyModel(torch.nn.Module):\n    def __init__():\n        # ...\n    def forward(x):\n        # ...\n        return x\nnet = MyModel()\nopt = torch.optim.SGD(net.parameters(),lr=0.01)\nfor e in range(epoch):\n    # ...\n    opt.step()\n    opt.zero_grad()\n```\n\n如果只需要将梯度归零的话，nn.Module 也有一个 `.zero_grad()` 方法。\n\n### `tensor` vs. `tensor.data`\n\n看 SGD 优化器的源码的时候，看到更新权重的时候不是 `with torch.no_grad():`，而是用到了张量的 `a.data` 和 `a.grad.data`\n\n`a` vs. `a.data`, `b.grad` vs. `b.grad.data` 的区别今天不需要知道，不应该知道。这是旧的 Variable 对象的残留，新的接口将 Variable 合并进了 Tensor，`.data` 只是为了兼容旧代码而存在的，不再推荐这种用法。\n"},{"slug":"afaik-generative-ai","filename":"2023-09-11-afaik-generative-ai.md","date":"2023-09-11","title":"·如是我闻 | 生成式人工智能","layout":"post","keywords":["md","ai","rss"],"excerpt":"","content":"\n## 生成式语言模型\n\n### 模型\n\n- OpenAI/GPT\n- Claude\n- `bloomchat`, 可以商用 [[GitHub](https://github.com/sambanova/bloomchat)]\n- `falcon40B`\n    - apache 2.0 许可证，可商用[[huggingface](http://huggingface.co/tiiuae)]\n    - gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [[推特](https://twitter.com/rickawsb/status/1666148546285043714)]\n- `TigerBot`: 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [[GitHub](https://github.com/TigerResearch/TigerBot)]\n- `QLoRA`: 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [[论文](https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21)] [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- `MBT 30B`: 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [[Twitter](https://twitter.com/fi56622380/status/1672137540281974784)]\n- `GLM-6B` \u0026 `GLM2-6B`: 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[[Twitter](https://twitter.com/GanymedeNil/status/1679892021807550465)][[微信公众号@GLM大模型](https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==\u0026mid=2247484214\u0026idx=1\u0026sn=e42153f987a74d1ffc7882f7cc09670d)]\n- `Llama 2`: Meta开源大语言模型Llama 2，可免费商用. [[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)介绍]\n    - Jim Fan 评论 [[推特，翻译](https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves)]\n    - 很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[[推特](https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves)]\n    - `LLaMA-2-7B-32K`, context为32K的模型 [[推特](https://twitter.com/JefferyTatsuya/status/1685423475979325440)][[Twitter](https://twitter.com/togethercompute/status/1685048832168714240)]\n\n### 基于模型，直接可用的产品\n\n- OpenAI/GPT\n    - ChatGPT\n        - 2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[[Twitter](https://twitter.com/cryptonerdcn/status/1668733300070924288)][[OpenAI](https://openai.com/blog/function-calling-and-other-api-updates)][[用法 Twitter@宝玉](https://twitter.com/dotey/status/1668728109376450566)]\n    - ChatGPT - Code Interpreter\n        - 介绍 [[推特](https://twitter.com/fuyufjh/status/1684191835210809344)][[YouTube](https://www.youtube.com/watch?v=4wGlRrir_u4)]\n        - 《ChatGPT 探索：Code Interpreter 高级指南》[[微信@浮之静](https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves)]\n        - 源码可能被套出。[[Twitter](https://twitter.com/fuergaosi/status/1679457847237820416)]\n        - 对 code interpreter 的逆向工程 [[Twitter](https://twitter.com/Yampeleg/status/1678045605527003136)][[Mem](https://mem.ai/p/xyy8ULiAce1BecTxnU0M)]\n    - OpenAI API\n        - 2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [[推特](https://twitter.com/dotey/status/1694207797351616703)]\n    - OpenAI on Azure 内置了一个内容过滤器 [[推特1](https://twitter.com/jw1dev/status/1666613728106938368)][[推特2](https://twitter.com/jw1dev/status/1666622878962548740)]\n    - `forefront`: 完全免费 GPT-4 的工具 [[登录](https://accounts.forefront.ai/)]，大概基于 `gptfree-ts` [[GitHub](https://github.com/xiangsx/gpt4free-ts)]\n    - `BratGPT`: ChatGPT的激进版本。[[官网](https://bratgpt.com/)]\n    - `SmartStudy`: 提供文本文档，创建10个问题的小测验。[[官网](https://smartstudy.streamlit.app/)]\n    - `XrayGPT`: 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[[GitHub](https://twitter.com/CarsonYangk8s/status/1661588037892198401)]\n    - `FinGPT`: 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [[Twitter](https://twitter.com/JefferyTatsuya/status/1668433680887615488)]\n- 微软\n    - BingAI\n        - 本地部署方案 [[推特](https://twitter.com/geekbb/status/1665692703055552513)][[GitHub](https://github.com/adams549659584/go-proxy-bingai)]\n    - VsCode Copilot\n    - Office 365 Copilot: 每月每名用户30美元. [[verge](https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise)][[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)]\n- Claude+\n    - 例子：阅读多份行业报告 [[推特](https://twitter.com/iamshaynez/status/1684398211958730753)]\n- `Llama`\n    - llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[[网站](https://llama2.ai/)]\n    - WizardCoder 34B based on Code Llama 写代码 [[推特](https://twitter.com/dotey/status/1696202647269785875)]\n- WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- mendable: 根据开发文档进行问答 [[官网](https://www.mendable.ai/usecases/documentation)]\n- 阅读 PDF 文档\n    - Humata.ai\n    - explainpaper\n    - ChatPDF\n    - [[对比](https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves)] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。\n- Obsidian-copliot: 快速获取文字的核心观点\n- 视频内容梗概\n    - Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n    - summarize-tech: 5分钟了解长视频的要点. [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n- webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [[chrome](https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link)]\n\n### 模型教程、评论、二次开发\n\n- 一般性原理\n    - 《Prompt 编写模式》[[phodal](https://prompt-patterns.phodal.com)]\n    - 《LLM+Embedding构建问答系统的局限性及优化方案》[[知乎](https://zhuanlan.zhihu.com/p/641132245)]\n    - 基于检索的 LM，外挂一个数据库用来检索。[[推特](https://twitter.com/cosmtrek/status/1678077835418955781)][[GitHub.io](https://acl2023-retrieval-lm.github.io/)]\n    - 一篇泼冷水的论文 [[ACL Anthology](https://aclanthology.org/2023.findings-acl.426/)]\n    - 即刻出的Prompt调试工具。[[Twitter](https://twitter.com/vista8/status/1678784460786135040)][[官网](https://promptknit.com/)]\n- GPT\n    - GPT best practice [[OpenAI](https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves)]\n    - Andrew Ng 吴恩达 \u0026 Isa Fulford from OpenAI 《Build system with [#ChatGPT](https://twitter.com/hashtag/ChatGPT?src=hashtag_click) API》[推特@**[金田達也](https://twitter.com/JefferyTatsuya)**]\n        - 借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [[推特](https://twitter.com/dotey/status/1665476562219573249)]\n        - 同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [[Twitter](https://twitter.com/dotey/status/1668736426286915590)1][[Twitter2](https://twitter.com/dotey/status/1664335473500626946)]\n    - 熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论\n        - [Twitter@威力狈](https://twitter.com/waylybaye/status/1664253928970788864)：尝试了下用 ChatGPT 自动标注数据，效果太差了。\n        - [Twitter@宝玉](https://twitter.com/dotey/status/1669028955842650139)：通常如果我写的话，会做一些小调整\n        - [Twitter@IIInoki](https://twitter.com/IIInoki)：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错\n    - 《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[[橘子汽水铺](https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions)]\n- `LangChain`:\n    - 官方教程 [[推特](https://twitter.com/LangChainAI/status/1665009694627250176)][[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/)]\n    - 一个使用 LangChain 和 GPT Index 的教程 [[leanpub, 收费](https://leanpub.com/langchain)][[Pocket](https://getpocket.com/read/3839490971)]\n    - LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [[YouTube](https://t.co/JXV1SBI2OA)]\n        - 基于Embedding的文档问答。stuff, map reduce, refine, map rerank [[Twitter@宝玉](https://twitter.com/dotey/status/1667790801420558342)]\n    - Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves)]\n    - 把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问\n        - 纯 JS 开源工具推荐 [[推特](https://twitter.com/Barret_China/status/1638119945749037056)]\n        - 用 `LangChain` 六七行代码就可以搞定了 [[LangChain](https://js.langchain.com/docs/get_started/introduction)]\n- `AutoChain`\n    - 介绍 [[推特](https://twitter.com/zhangjintao9020/status/1683996172980199429)][[GitHub](https://github.com/Forethought-Technologies/AutoChain)]\n    - 《我为什么放弃了 LangChain》[[推特](https://twitter.com/Barret_China/status/1683135367862718465)][[微信](https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A)] 推友提出的 AutoChain 替代方案 [[推特](https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves)]\n- `OpenDAN`: 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [[GitHub](https://twitter.com/Barret_China/status/1666455683758161920)]\n- “视频语音↔文字”任务相关\n    - 指定视频URL，识别文字，翻译 [[GitHub](https://github.com/lewangdev/autotranslate)]\n    - `WhisperX`: 按照单词对齐时间戳，生成的字幕都是完整的句子 [[GitHub](https://github.com/m-bain/whisperX)]。[[Twitter@宝玉](https://twitter.com/dotey/status/1667394662628204546)] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 [Jupyter Notebook](https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb)\n    - `audiocraft`: audio processing and generation with deep learning. [[GitHub](https://github.com/facebookresearch/audiocraft)]\n    - [[推特]](https://twitter.com/Barret_China/status/1684218981639413760) 小作文\n    - `yt-dlp` 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [[推特](https://twitter.com/Barret_China/status/1684228477644570624)][[GitHub](https://github.com/yt-dlp/yt-dlp)]\n- ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [[链接失效](https://t.co/eqVc2LIfSz)]\n- `MusicGen`: 将文本和旋律转化为完整乐曲 [[Twitter](https://twitter.com/Fenng/status/1668141100610248705)][[ReadHub](https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21)]\n- `MMS`: 一个声音模型 [[HuggingFace](https://huggingface.co/docs/transformers/main/en/model_doc/mms)]\n- `FRVR Forge`: AI-Powered End-to-End Game Creation [[Twitter](https://twitter.com/FRVRGames/status/1669758477789540365)][[官网](https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21)]\n\n### 开发平台\n\nRunpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[[官网](http://runpod.io)]\n\n### 杂项\n\n- 2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：\n    - 路由器 Clash 规则 [[推特](https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves)]\n    - 改用 Azure OpenAI service [[推特](https://twitter.com/zhangjintao9020/status/1662865819041402880)]\n    - Cloudflare WARP [[左耳朵](https://haoel.github.io/)]\n\n## 生成式图像模型\n\n2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[[推特](https://twitter.com/CodeByPoonam/status/1663824055164887040)]\n\n- 配置要求极低，连Win掌机都能跑，但是不能断网。[[推特](https://twitter.com/OfflineHelper/status/1666042746866663424)]\n- 填充将横屏的视频转换为竖屏。[[推特](https://twitter.com/Alex_Cerrato/status/1681677307843432449)]\n\n`MidJourney`\n\n- 在提示词中添加相机镜头信息。[[推特](https://twitter.com/4rtofficial/status/1663310457854099458)]\n- zoom [[Twitter](https://twitter.com/jesselaunz/status/1674210886695923712)]\n\n`StableDiffusion`\n\n- Eric Fu: 训练指南. [[Coding Husky](https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader)]\n- 文字或者符号融合生成图片 [[Twitter](https://twitter.com/op7418/status/1680223090138316800)][[微信](https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw)]\n\n`StyleDrop`: Google 基于 MUSE 的样式迁移 transformer [[推特](https://twitter.com/recatm/status/1665056017107886080)][[GitHub.io](https://styledrop.github.io/)]\n\n`Redream`: 从视频到二次元动画 [[推特](https://twitter.com/heyBarsee/status/1665034805384290307)][[GitHub](https://github.com/Fictiverse/Redream)]\n\n`Runway` Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [[推特](https://twitter.com/op7418/status/1666461595818504192)][[需注册](https://app.runwayml.com/login)]\n\n一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [[Twitter](https://twitter.com/op7418/status/1669026494885285888)] [[GitHub.io](https://anonymous-31415926.github.io/)][[Twitter2](https://twitter.com/rickawsb/status/1672310994390126593)][[arxiv](https://arxiv.org/abs/2306.07954)]\n\n`AWPortrait1.1`: 图像生成 [[Twitter](https://twitter.com/dynamicwangs/status/1673730591462928385)][[LibLibai](https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8)] \n\n`Anything AI`: 可以取代照片中的任何物体。免费，不需要注册. [[官网](https://www.anything-ai.com/)]\n\n`PixelLab`: 草图创建2D图像. [[官网](https://www.pixellab.ai/)]\n"},{"slug":"what-is-intelligence-not-same-as-intelligence-is-what","filename":"2023-06-17-what-is-intelligence-not-same-as-intelligence-is-what.md","date":"2023-06-17","title":".tex | 什么是智能≠智能是什么","layout":"post","keywords":["tex","doc","md","ai"],"hasMath":true,"excerpt":"“什么是智能”的问题每每得不到回答，是因为它的逆问题“智能是什么”没有答案。","content":"\n## 0\n\n这是一篇酬和之作。\n\n徵文标题说的是：\n\n\u003e **機器會製造「內涵」嗎？**\n\u003e \n\n但是正文提出的问题是：\n\n\u003e AI透過程式組合出回答你問題的文字組合，有「涵義」嗎？\n\u003e \n\n可是，「內涵」和「涵義」两个词的——内涵/涵义——就不完全一样啊……\n\n“内涵”(connotation) 通常指词语或表达方式所隐含的情感、态度、暗示或附加的意义。它涉及到词语或表达方式所引起的情感、联想或隐含的观点。也就是弦外之音。\n\n而“涵义”(meaning) 一般指词语、表达方式或行为所传达的字面意义或字面上的定义。它强调的是直接的、明确的意义。\n\n看热闹不嫌事大，那我们再把问题搞复杂一点——在逻辑学里也有一个“内涵”(intension)，和“外延”(extension) 相对应。用**面向对象编程**的说法来理解，一个类里面定义的所有状态量和内部方法的集合，就构成这个类的“**内涵**”；所有（已经和将来能够）从这个类实例化出来的对象的集合，就构成这个类的“**外延**”。\n\n所以看起来，征文者想问的是日常“内涵”也就是言外之意，但是怕杠精（比如我）用有严格定义的逻辑“内涵”解构掉，所以换了“涵义”一词。\n\n这个问题很显然是因应最近大语言模型掀起的这一波 AI 浪潮。这个问题往前再问一句，就是“大语言模型是智能体/有智能吗？”\n\n- 前两年 DeepMind 的 AlphaGo/AlphaZero 系列 AI 在围棋中击败人类棋手时，人们也在问这个问题。\n- 上世纪四五十年代专家系统 (expert system) 刚刚开发的时候，人们也在问这个问题。\n- 从电子计算机往前追溯到机械计算机，甚至是巴比奇的差分机的时候，人们就已经开始问这样的问题了。\n\n这些问题求并集，然后在问题数量趋近于无穷下的极限，就是“什么是智能”。\n\n这样的问题每每得不到回答，是因为它的逆问题“智能是什么”没有答案。我们并没有智能的准确定义，只能一事一论。而之前的智能和非智能体的区别太明显，以至于作出判断也不能对智能的定义有所启发。\n\n## 1\n\n而对“智能是什么”的探究，哲学、逻辑学、计算机科学、生物学、管理学，不同领域的研究者有着不同的思路。\n\n### 古哲学·洞穴之壁与理念世界\n\n古希腊哲学家柏拉图在《理想国》里提到了“洞穴之壁”的寓言故事。\n\n有一群被囚禁在一个深洞的囚徒，从出生开始就被束缚在这个洞穴里，脖子和腿都被铁链锁住，没办法转身或离开。囚徒身后的洞穴入口处有一道火焰，火焰后有人持物体走过，物体的投射在洞穴内的墙壁上形成了影子。囚徒们就以为这些影子就是唯一的存在。\n\n这里的囚徒代表着人类，洞穴代表着世界，影子则代表着我们对于现象世界的感知和观念。人们的知识和信念往往受限于自己的经验和感知，就像囚徒们只看到了洞穴墙壁上的影子，而在影子之外还存在一个理想的理性世界。柏拉图用这个寓言故事表达了他对于人类认识和智慧的理解。所谓智慧，就是从洞穴的影子反过去推测火把前物体的能力。\n\n当然，这种思想被 Marx 主义定性为一种客观唯心主义、唯理论，是受其批判的。\n\n### 逻辑学·从命题到希尔伯特算符\n\n柏拉图的学生亚里士多德，今天在低年级的物理教科书里基本是个反面典型，但他对逻辑学进行了系统化和全面的研究，提出了许多逻辑学的基本概念和原理。这些成果后来成为了欧洲哲学和逻辑学的基石，对西方哲学和科学的发展产生了深远影响。\n\n所谓逻辑，就是研究命题的对错，以及如何判断命题对错的学问。而命题，就是能被判断对错的句子。但是句子显然可以再分成不同成分，于是就发明/发现了主体、客体、谓词、谓词的量词……等等概念，以及用这些概念构造命题的方法。\n\n但是要注意，虽然逻辑主要由语言来表达，但是逻辑还是和语言不同，主体、客体也不等于句子的主语、宾语。这两者的区别，基本可以类比于之前洞穴之壁寓言里的实体和影子。\n\n这种努力到目前为止的巅峰，基本上要数希尔伯特形式化逻辑系统了。感兴趣的朋友可以自行查阅戈得门特《代数学教程》的第一章，这玩意相当于思想界的引体向上，反正我是一个也拉不上去……\n\n### 计算机·从半导体到抽象语法树\n\n希尔伯特是德国的数学家，《代数学教程》也是数学而不是哲学教材。显而易见，逻辑虽然由哲学家奠基，但是主导权很快落到数学家，至少是哲学家兼数学家手里了。\n\n命题的“真”与“非真”同构于 {1, 0}，各种逻辑运算都可以分解成“或”与“非”两种基本逻辑运算的组合，这就是以数学家乔治·布尔 (George Boole) 命名的布尔代数。因为 {1, 0} 又可以同构于半导体电路的高低电位，和各种类似继电器的门电路组合，所以很容易用计算机在物理世界表示出这些逻辑运算。\n\n我们的电脑由上亿个这样的电位和逻辑门组成，一般的科普文章应该会去介绍芯片啊光刻机之类的东西，本文关注的是另一个方面：虽然生产电脑配件的厂商很多，不同的型号的元器件设计不同，组装出的成品应该千差万别，但是他们可以运行同样的程序，理想条件下（虽然实际工程中常常不理想）我们也可以期望他们跑出同样的结果。\n\n这说明所谓计算机科学，并不等同于研究计算机元件的电子科学和工程，这里电科和电子工程相当于洞穴岩壁上的影子，而计算机科学就相当于火光前的物体。这种超越物理的计算本质，一般用一种叫做“抽象语法树”的数据结构来表示。\n\n### 生物学·从神经元到神经网络\n\n人们发明计算机的时候，基本上还是把它当作工具，就没期望它有什么主体性和智慧。\n\n而随着生物学逐渐发现了神经系统及其作用，也随着物理学在二十世纪初的大发展之后的相对平静，很多物理学家开始插手其他学科。既然生命和非生命体的背后都服从同一套物理规律，既然物理学的众多成功经验说明，搞清楚构成系统的所有微观组成就可以理解宏观的系统，那么搞清楚人类的智力器官的基本单元以及相互作用，按理说也就能够理解什么是智慧。\n\n![a cartoon illustrating a neuron](/photos/2023-06-17-neuron.png)\n\n上图是一个神经细胞的结构示意图。从其他神经细胞释放出来的名为神经递质的化学物质，到达神经元左侧短且密集的树突之后，激活细胞膜表面的离子泵，主动运输离子跨过细胞膜，从而产生电信号。电信号沿细胞膜传导到右侧的树突，刺激凸触释放神经递质给下一个细胞。\n\n![a handdrawing style illustration of perceptron](/photos/2023-06-17-perceptron.png)\n\n上图就是根据神经元的工作原理抽象出的数学模型，名为 perceptron。一个 perceptron 就是一个函数，接受多个输入的自变量，加权求和之后套一个非线性的激活函数，得到一个输出。很多个这样的 perceptron 并连和串联，就构成下图，计算机算法中的神经网络。\n\n![a handdrawing style illustration of a neural network](/photos/2023-06-17-neural-network.png)\n\n而从实验方向研究神经系统，我们隔壁系就有，经常来我们系招人。基本上就是在小鼠的天灵盖上锯开一个天窗，然后给它带上个头盔，头盔上有能从天窗伸进去的电极，采集脑神经的电信号。以前头盔有网线伸到实验室天花板，实时传到数据中心的超算。现在好像进步了，改用 Wi-Fi 了。\n\n这实验怎么通过的伦理审查，咱也不知道，咱也不敢问……\n\n### 管理学·DIKW “数据-信息-知识-智慧”模型\n\n![a pyramid of DIKW model](/photos/2023-06-17-DIKW.png)\n\nDIKW 四个字母分别代表 data, information, knowledge, wisdom，即数据、信息、知识、智慧，是一种知识管理中的心智模型。\n\n四个层次，前一层都是后一层的基础，后一层都是对前一层的理解。\n\n如果是书面文字，数据就是笔画和字母；如果是语言，数据就是人声的响度、频率和音色。由笔画/字母/声音组成的有含义的字词就是信息。表示信息之间的关系的，可以判断对错的命题就是知识。包含和统摄各条知识的思想体系，就是智慧。\n\n反过来说，虽然智慧高于思想，但它仍需要通过把各条知识的表达汇总起来，才能被人感知。对知识的命题的理解依赖于构成名字的各个概念的涵义，属于信息水平的内容。而每个字都有不考虑其涵义的笔画字母构成。\n\n这层与层之间**看似**并没有插入额外的内容，智慧可以直接由笔画构成。但是我们一层层理解的深入，其实是不自觉地借用了我们当前社会约定俗成的解读方式。\n\n比如下面这个图片里的符号，对于现代人就只是数据，无法解读成信息。但是对于苏美尔人，这是用楔形文字表示的数字，是等腰直角三角形的腰和直角边的比值，也就是 $$\\sqrt{2}$$ 的近似值。\n\n![sumerian numerical approximation to square root of two](/photos/2023-06-17-ancient-root-2.png)\n\n约定俗成的数据解读方式，也就是关于**数据的数据**，根据西方的构词法，可以叫做“**元**数据”(meta-data)。\n\n数据和元数据一起构成信息，信息和元信息一起构成知识，知识和元知识一起构成智慧。俺坚持写博客的动机，就是用费曼学习法，把无意间使用的元知识显式地表达出来，而且记录下来，争取学而不退转。\n\n## 2\n\n回顾了这些，再来看大语言模型，就会发现它落在了各方努力的延长线的交点。\n\n大语言模型里有一个重要概念叫做“嵌入”(embedding)，就是把语言的基本字元 (token) 可逆地映射到一个超多维度的向量空间里。本来“国王”和“儿子”之间没办法加减乘除，但是嵌入后的向量空间里有加法和数乘，如果嵌入函数选得好，“国王”的向量 + “儿子”的向量，结果向量就约等于“王子”的向量。\n\n![illustration of vector addition from wikipedia](/photos/2023-06-17-vector-addition.png)\n\n生成式语言模型的核心就是一个超多元函数，接受前一个字嵌入后的向量作为输入，给出另一个向量作为输出，用嵌入函数的逆映射翻译成字元；再把旧的输出作为新的输入，直到输出结果是“语段结束”这样一个特殊字元为止。模型训练的过程，主要就是通过现成的语料，拟合这个超多元函数的参数。\n\n从 DIKW 模型来看，语言模型操作的是最基本的数据，它的输出究竟是什么信息，是不是正确的知识，体现了多少智慧，是人根据当下的社会文化来解读的。\n\n而实现 AI 的电子计算机，或是复杂生命的大脑，他们和智能之间的关系，应该就类似于具体的计算机电路和抽象语法树之间的关系。以此类比，未来的智能科学应该会成为一门独立的专业，它和计算机科学和神经生物学的区别，就像今天的电子科学与工程，和计算机科学之间的区别一样。当下神经生物学的热度，将来恐怕多半会被分流。\n\n这种对字符的计算不同于逻辑运算，语言模型不判断输出结果在逻辑上的正确与错误，这既给了他啥都能说几句的 feature，又给了它经常编假消息的 bug。\n\n想要改掉这种错误，引入对 AI 的纠错机制，治本之道恐怕还是诉诸于对世界的正确描述，与理论相关的还是要靠逻辑，与现实相关的还是要靠科学。\n\n只不过，大语言模型提供了一种数据结构，有希望把人类已知的真理储存在一起。对这种数据结构本身的研究，有可能反过来启发科学的发展。柏拉图的洞穴之壁可能不再是一个比喻，未来更大的语言模型的，亿万维度的参数空间有希望成为洞穴门口的那团火。\n\n只不过这一切都是“可能”，现在还只是 AI 的萌芽阶段，还没有足够的证据来证实或者证伪这种畅想。而且 AI 的参数量再大也是有限的，它所能表达的信息也就有限，而真理应当是无限的，就像科学一样，总要训练更新更大的模型，总要发现已知的未知，然后欣然接受更多未知的未知之存在。\n\n如果电子计算机实现的 AI 独立于人类产生了意识和超出人类的智慧，很难想象他们会继续用人类语言这种对他们来说很不方便的方式来交流。\n\n所以，哪怕是做个 AI 生成内容的质检员，科学家依然有事可做。这算是科学的堕落吗？当然不算，如果算的话，那从计算物理也被当作理论物理的那天起，人类就已经投降了（逃）\n\n## 3\n\n现在正面来回答问题：AI透過程式組合出回答你問題的文字組合，有「涵義」嗎？\n\n答：有。\n\n因为语言的「涵義」来自于语言的内容，和整个社会的文化，并不来自于这句话的作者的身份。即便是人与人之间的交流，诉诸身份也是一种非形式逻辑谬误，是理性不足的表现。只有在信息不足仍不得不下结论的时候才该使用，比如法律判决时的自由心证主义和/或法定证据主义。\n\n而鹿妈眼里真人鹿酱与 AI 鹿酱的区别，如果有的话，好像主要体现在动机的区别。动机这种东西，很多智慧不高的生物，比如小猫小狗都会有；而现在的 AI，似乎还没有展现出超出编程者设计的动机。编程写入的信息有限，现有 AI 的动机也就有限，鹿酱的赢面还是很大的。\n\n而动机是生物与非生物的区别吗？而什么是生物 ≠ 生物是什么，那就是另一个含混而复杂的问题了。\n\n## 4\n\n这篇博文发布的时候，高考应该已经结束了，马上该填报志愿了。\n\n那么，西元 2023 年，AI 来袭的当下，该选个啥专业在 AI 浪潮中幸存，或者选个啥专业给 AI 老爷带路呢？\n\n![a screenshot of a quotation from Three Body about attitudes towards aliens](/photos/2023-06-17-three-body-quotation.png)\n\n我的建议是，不要听别人的建议，按自己的兴趣来就好了。\n\n刚刚改开的时候，有一个超级热门的专业，叫科技英语。科技落下了好多年，对外开放需要语言交流，两者一结合应该是热门又稀缺了。结果呢，你现在还听说过这个专业吗？\n\n科技很重要是不错，语言很重要也不错，但是搞科技的人自己可以学英语，学英语的有几个搞得了科技？社会的进步主要靠创新，而创新的方向难以预测，不论这种预测分析听起来多有道理。\n\n如果真的找不到兴趣，那就在能力范围之内，找个难度最高的。如果想从事智力劳动，那数学含量是个不错的衡量标准；如果不排斥体力劳动，那训练时间越长越值得考虑。\n\n但这只是填志愿来不及时的权宜之计，发掘兴趣是人一生的课题。\n\n兴趣不是为了让你成功的时候更得意，毕竟成功的话不论做什么都很得意；\n\n兴趣是为了你不成功时也可以不失意，毕竟平凡才是人生的真谛。\n"},{"slug":"physics-based-neural-network-review-note","filename":"2023-03-20-physics-based-neural-network-review-note.md","date":"2023-03-20","title":".tex | 基于物理的神经网络 (PINN) 综述笔记","layout":"post","keywords":["tex","phy","md","ai"],"hasMath":true,"excerpt":"本文是《Scientific Machine Learning Through Physics–Informed Neural Networks: Where we are and What’s Next》这篇综述的读书笔记。","content":"\n\u003e 本文是《[Scientific Machine Learning Through Physics–Informed Neural Networks: Where we are and What’s Next](https://link.springer.com/article/10.1007/s10915-022-01939-z)》这篇综述的读书笔记。\n\u003e \n\n年前，今年新入职的天文学方面的一位老师给我们群发邮件，宣传某国家实验室超算的 GPU 编程马拉松活动，他可以担任指导老师。于是毫不意外地，我报了名。该编程马拉松项目还需要专门申请，申请材料里要写清楚打算干什么，于是报名的五六个人七嘴八舌地想创意。基于物理的神经网络 PINN 就是天文老师的点子。\n\n~~写到这里，我才意识到，老哥是不是想拿我们当免费劳动力啊~~~\n\n神经网络可以看作是一个复杂的非线性函数，接受一个（一般来说维度很高的）向量作为输入，一番计算后输出另一个向量。训练神经网络，就是找到这个函数的参数，绝大多数找参数的方法涉及计算网络输出对参数的偏导数，因此神经网络计算框架的核心功能就是自动微分 (auto-differentiation)。\n\n而很多物理问题，都可以用（偏）微分方程来描述，微分方程的解不是变量，而是函数，而且往往是复杂的非线性函数。所以基于物理的神经网络 (PINN) 就是以神经网络来表达这个函数，然后把这个函数带入到物理的微分方程中，把神经网络输出和真正的物理解之间的差距当作损失函数，反向传播回去来优化神经网络的参数。代入方程时的微分计算，正好可以利用现成框架的自动微分功能。\n\n在以 GPT 为代表的 transformer 类神经网络模型出现之前，自然语言处理类的机器学习项目，往往要在网络之外，利用人类的语法知识，对语段进行语义分割等等“中间任务”。Transformer 一出，算力出奇迹，中间任务逐渐变得没有必要了。\n\n在 GPT 崭露头角，并且越来越有迹象表明其将会涌现出通用人工智能的今天，这些基于物理的神经网络，会不会还未成熟就已过时？这种心情，就和《三体》第二卷开始，章北海和吴岳面对焊渍未漆的“唐”号航空母舰时差不多吧……\n\n\u003chr class=\"slender\"\u003e\n\n- Abstract\n    - PINNs are neural networks that encode model equations. a NN must fit observed data while reducing a PDE residual.\n\n1. Introduction\n    - The “curse of dimensionality” was first described by Bellman in the context of optimal control problems. (Bellman R.: Dynamic Programming. Sci. 153(3731), 34-37 (1966))\n    - Early work: MLP ([multilayer perceptron](https://en.wikipedia.org/wiki/Multilayer_perceptron)) with few hidden layers to solve PDEs. ([https://doi.org/10.1109/72.712178](https://doi.org/10.1109/72.712178))\n    - 感觉可能更全面的一篇综述：[https://doi.org/10.1007/s12206-021-0342-5](https://doi.org/10.1007/s12206-021-0342-5)。该文关注 what deep NN is used, how physical knowledge is represented, how physical information is integrated，本文只关于 PINN, a 2017 framework。\n\n    1. What the PINNs are\n        - PINNs solve problems involving PDEs:\n            - approximates PDE solutions by training a NN to minimize a loss function\n            - includes terms reflecting the initial and boundary conditions\n            - and PDE residual at selected points in the domain (called **collocation points**)\n            - given an input point in the integration domain, returns an estimated solution at that point.\n            - incorporates a [residual network](https://en.wikipedia.org/wiki/Residual_neural_network) that encodes the governing physical equations\n            - can be thought of as an **unsupervised strategy** when they are trained solely with physical equations in forward problems, but **supervised learning** when some properties are derived from data\n        - Advantages:\n            - [mesh-free](https://en.wikipedia.org/wiki/Meshfree_methods)? 但是我们给模型喂训练数据的时候往往已经暗含了 mesh 了吧\n            - on-demand computation after training\n            - forward and inverse problem using the same optimization, with minimal modification\n    2. What this Review is About\n        - 提到了一个做综述找文章的方法：本文涉及的文章可以在 Scopus 上进行高级搜索：`((physic* OR physical)) W/2 (informed OR constrained) W/2 “neural network”)`\n2. The Building Blocks of a PINN\n    - question:\n    \n    $$\n    F(u(z);\\gamma)=f(z),\\quad z\\ \\in\\ \\Omega \\\\ B(u(z))=g(z), \\quad z\\ \\in\\ \\partial \\Omega\n    $$\n    \n    - solution:\n    \n    $$\n    \\hat u_{\\theta}(z)\\approx u(z)\\\\ \\theta^* = \\arg\\min_{\\theta}\\left(\\omega_F L_F(\\theta)+\\omega_BL_B(\\theta)+\\omega_{data}L_{data}(\\theta)\\right)\n    $$\n    \n    1. Neural Network Architecture\n        - DNN (deep neural network) is an artificial neural network that is deeper than 2 layers.\n        \n        1. Feed-Forward Neural Network: \n            - $$u_{\\theta}(x) = C_{K} \\circ C_{k-1} ...\\alpha \\circ C_1(x),\\quad C_k(x) = W_k x_k + b_k$$\n            - Just change CNN from convolution to fully connected.\n            - Also known as multi-layer perceptrons (MLP)\n            \n            1. FFNN architectures \n                - Tartakovsky et al used 3 hidden layers, 50 units per layer,  and a hyperbolic tangent activation function. Other people use different numbers but of the same order of magnitude.\n                - A comparison paper: *Blechschmidt, J., Ernst, O.G.: Three ways to solve partial differential equations with neural networks –A review. GAMM-Mitteilungen 44(2), e202100,006 (2021).*\n            2. multiple FFNN: 2 phase [Stephan problem](https://en.wikipedia.org/wiki/Stefan_problem).\n            3. shallow networks: for training costs\n            4. activation function: the swish function in the paper has a learnable parameter, so — [how to add a learnable parameter in PyTorch](https://discuss.pytorch.org/t/how-could-i-create-a-module-with-learnable-parameters/28115)\n        2. Convolutional Neural Networks: \n            - I am most familiar with this one.\n            - $$f_i(x_i;W_i)=\\Phi_i(\\alpha_i(C_i(W_i,x_i)))$$\n            - performs well with multidimensional data such as images and speeches\n            \n            1. CNN architectures: \n                - `PhyGeoNet`: a physics-informed geometry-adaptive convolutional neural network. It uses a coordinate transformation to convert solution fields from irregular physical domains to rectangular reference domains.\n                - According to Fang ([https://doi.org/10.1109/TNNLS.2021.3070878](https://doi.org/10.1109/TNNLS.2021.3070878)), a Laplacian operator can be discretized using the finite volume approach, and the procedures are equivalent to convolution. Padding data can serve as boundary conditions.\n            2. convolutional encoder-decoder network\n        3. Recurrent Neural Network\n            - $$f_i(h_{i-1})=\\alpha\\left(W\\cdot h_{i-1}+U\\cdot x_i+b\\right)$$, where f is the layer-wise function, x is the input, h is the hidden vector state, W is a hidden-to-hidden weight matrix, U is an input-to-hidden matrix and b is a bias vector. 我认为等号左边的 $$h_{i-1}$$ 应当作为下标\n            - 感觉有点像 hidden Markov model，只不过 Markov 中间的 hidden layers 好像与序号无关（记不清了），~~RNN 看起来各个 W 和 H 似乎不同~~。**RNN cell is actually the exact same one and reused throughout.** (from [https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/](https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/)). Cartoon from Wikipedia:\n                \n                ![RNN 的构成单元](/photos/2023-03-20-rnn-unit.png)\n                \n            - From [https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/](https://blog.floydhub.com/a-beginners-guide-on-recurrent-neural-networks-with-pytorch/):\n                \n                ![RNN 的种类](/photos/2023-03-20-rnn-types.png)\n                \n            1. RNN architectures\n                - can be used to perform numerical Euler integration\n                - 基本上输出的第 i 项只与输入的第 i 和 i-1 项相关。\n            2. LSTM architectures\n                - 比 RNN 多更多中间隐变量，至于怎么做到整合长期记忆的，技术细节现在可以先略过\n        4. other architectures for PINN\n            1. Bayesian neural network: weights are distributions rather than deterministic values, and these distributions are learned using Bayesian inference. 只介绍了[一篇文章](https://doi.org/10.1016/j.jcp.2020.109913)\n            2. GAN architectures: \n                - two neural networks compete in a zero-sum game to deceive each other\n                - physics-informed GAN uses automatic differentiation to embed the governing physical laws in stochastic differential equations. The discriminator in PI–GAN is represented by a basic FFNN, while the generators are a combination of FFNNs and a NN induced by the SDE\n            3. multiple PINNs\n    2. Injection of Physical Laws\n        - 既然是要解常/偏微分方程，那么微分计算必不可少。四种方法：hand-coded, symbolic, numerical, auto-differentiation，最后一种显著胜出。所谓 auto-differentiation, 就是利用现成框架，框架自动给出原函数的导数的算法。\n        - Differential equation residual:\n            - $$r_F[\\hat u_\\theta](z)=r_\\theta(z):=F(\\hat u_\\theta(z);\\gamma)-f$$\n            - $$r_F[\\hat u_\\theta](z)=r_\\theta(x,t)=\\frac{\\partial}{\\partial t}\\hat u_\\theta(x,t)+F_x(\\hat u_\\theta(x,t))$$: 原文给出了来源，但是从字面上看不出来与前式的等价性\n        - Boundary condition residual: $$r_B[\\hat u_\\theta](z):=B(\\hat u_\\theta(z))-g(z)$$\n    3. Model Estimation by Learning Approaches\n        1. Observations about the Loss\n            - $$\\omega_F$$ accounts for the fidelity of the PDE model. Setting it to 0 trains the network without knowledge of underlying physics.\n            - In general, the number of $$\\theta$$ is more than the measurements, so regularization is needed.\n            - The number and position of residual points matter a lot.\n        2. Soft and Hard Constraints\n            - Soft: penalty terms. Bad:\n                - satisfying BC is not guaranteed\n                - assignment of the weight of BC affects learning efficiency, no theory for this.\n            - Hard: encoded into the network design. [Zhu et. al](https://doi.org/10.1007/s00466-020-01952-9)\n        3. Optimization methods\n            - minibatch sampling using the Adam algorithm\n            - increased sample size with L-BFGS (limited-memory Broyden-Fletcher-Goldfarb-Shanno)\n    4. Learning theory of PINN: roughly in DE, consistency + stability → convergence\n        1. convergence aspects: related to the number of parameters in NN\n        2. statistical learning error analysis: use *risk* to define *error*\n            - Empirical risk: $$\\hat R[u_\\theta]:=\\frac{1}{N}\\sum_{i=1}^N \\left\\|\\hat u_{\\theta}(z_i)-h_i\\right\\|^2$$\n            - Risk of using approximator: $$R[\\hat u_{\\theta}]:=\\int_{\\bar \\Omega}(\\hat u_{\\theta}(z)-u(z))^2dz$$\n            - Optimization error: the difference between the local and global minimum, is still an open question for PINN. $$E_O:=\\hat R[\\hat u_{\\theta}^*]-\\inf_{\\theta \\in \\Theta}\\hat R[u_\\theta]$$\n            - Generalization error: error when applied to unseen data. $$E_G:=\\sup_{\\theta \\in \\Theta}\\left\\|R[u_\\theta]-\\hat R[u_\\theta]\\right\\|$$\n            - Approximation error: $$E_A:=\\inf_{\\theta \\in \\Theta}R[u_\\theta]$$\n            - Global error between trained deep NN $$u^*_\\theta$$ and the correct solution is bounded: $$R[u^*_\\theta]\\le E_O+2E_G+E_A$$\n            - 有点乱，本来说 error 是误差，结果最后还是用 risk 作为误差\n        3. error analysis results for PINN\n3. Differential Problems Dealt with PINNs：读来感觉这一部分意义不大，将来遇到需要解决的问题时，回来看看之前有没有人做过就行了——另一方面看，一类方程就需要一类特殊构造的神经网络来解，那么说明神经网络解方程的通用性并不好~\n    1. Ordinary differential equations: \n        - Neural ODE as learners, a continuous representation of **ResNet**. [[Lai et al](https://doi.org/10.1016/j.jsv.2021.116196)], into 2 parts: a physics-informed term and an unknown discrepancy\n        - LSTM [[Zhang et al](https://doi.org/10.1016/j.cma.2020.113226)]\n        - [Directed graph models](https://doi.org/10.1016/j.compstruc.2020.106458) to implement ODE, and Euler RNN for numerical integration\n        - Symplectic Taylor neural networks in [Tong et al](https://doi.org/10.1016/j.jcp.2021.110325) use symplectic integrators\n    2. Partial differential equations: steady/unsteady的区别就是是否含时\n        1. steady-state PDEs\n        2. unsteady PDEs\n            1. Advection-diffusion-reaction problems\n                1. diffusion problems\n                2. advection problems\n            2. Flow problems\n                1. Navier-Stokes equations\n                2. hyperbolic equations\n            3. quantum problems\n    3. Other problems\n        1. Differential equations of fractional order\n            - automatic differentiation not applicable to fractional order → [L1 scheme](https://doi.org/10.1515/fca-2019-0086)\n            - [numerical discretization for fractional operators](https://doi.org/10.1137/18M1229845)\n            - [separate network to represent each fractional order](https://doi.org/10.1038/s43588-021-00158-0)\n        2. Uncertainty Estimation: [Bayesian](https://doi.org/10.1016/j.jcp.2020.109913)\n    4.  Solving a Differential Problem with PINN\n        - 1d non-linear Schrödinger equation\n        - dataset by simulation with MATLAB-based Chebfun open-source(?) software\n4. PINNs: Data, Applications, and Software\n    1. Data\n    2. Applications\n        1. Hemodynamics\n        2. Flows Problems\n        3. Optics and Electromagnetic Applications\n        4. Molecular Dynamics and Materials-Related Applications\n        5. Geoscience and Elastiostatic Problems\n        6. Industrial Application\n    3. Software\n        1. `DeepXDE`: initial library by one of the vanilla PINN authors\n        2. `NeuroDiffEq`: PyTorch based used at Harvard IACS\n        3. `Modulus`: previously known as Nvidia SimNet\n        4. `SciANN`: implementation of PINN as Keras wrapper\n        5. `PyDENs`: heat and wave equations\n        6. `NeuralPDE.jl`: part of SciML\n        7. `ADCME`: extending TensorFlow\n        8. `Nangs`: stopped updates, but faster than PyDENs\n        9. `TensorDiffEq`: TensorFlow for multi-worker distributed computing\n        10. `IDRLnet`: a python toolbox inspired by Nvidia SimNet\n        11. `Elvet`: coupled ODEs or PDEs, and variational problems about the minimization of a functional\n        12. Other Packages\n5. PINN Future Challenges and Directions\n    1. Overcoming Theoretical Difficulties in PINN\n    2. Improving Implementation Aspects in PINN\n    3. PINN in the SciML Framework\n    4. PINN in the AI Framework\n6. Conclusion\n"},{"slug":"parameters-in-convolution-in-neural-network-and-transposeconv","filename":"2022-12-29-parameters-in-convolution-in-neural-network-and-transposeconv.md","date":"2022-12-29","title":".ai | 神经网络中的卷积及其参数","layout":"post","keywords":["ai","py","md","m"],"hasMath":true,"excerpt":"在读 PyTorch 的文档和源码的时候，发现写文档的人也不怎么解释啥是卷积，卷积的各个参数是什么意思，只在文档里扔了个链接就完事了……","content":"\n在读 PyTorch 的文档和源码的时候，发现写文档的人也不怎么解释啥是卷积，卷积的各个参数是什么意思，只在文档里扔了个链接就完事了，链接那头是一个 GitHub 上的动图演示仓库，是一篇论文《A guide to convolution arithmetic for deep learning》（链接在文末）的附件。于是这篇文章，基本上就是论文的读书笔记了。\n\n## 数学的卷积：连续 vs. 离散\n\n### 定义\n\n连续的情况，两个单变量函数 $$f(\\cdot)$$ 和 $$g(\\cdot)$$ 的卷积，定义为：\n\n$$\n\\left(f*g\\right)(x):=\\int_{-\\infty}^{\\infty}f(\\tau)g(x-\\tau)d\\tau\n$$\n\n离散的情况，两个向量（也就是一阶张量） $$\\vec f$$ 和 $$\\vec g$$ 的卷积，定义为：\n\n$$\n\\left(\\vec f * \\vec g\\right)_i := \\sum_{j=-\\infty}^{\\infty} f_j g_{i-j}\n$$\n\n多变量函数/高阶张量的情况，只需要多加几重积分/求和号就可以类推了。\n\n看这两个定义——\n\n只看等号左边的话，可以把卷积看作是一种特殊的乘法，也就是一种**运算。**f 和 g 的地位是平等的，卷积甚至还满足交换律，你甚至可以把两者的顺序变一变；\n\n但是看等号右边的话，卷积就应该被看作是一种**变换**。f 和 g 的地位不再平等，f 是被变换的函数/向量，g 是变换的核 (kernel)。函数的情况里，g 把定义在 $$\\tau$$ 空间里的函数 f 变换成了 x 空间里的另一个函数；向量的情况里，g 把一个 J (j 所有可能取值的数量) 维向量 f 变换成了一个 I (i 所有可能取值的数量) 维向量。\n\n神经网络中的卷积，**借用**的主要是第二种**理解**。\n\n### 手算一个例子\n\n例如 $$\\vec f = (1,2,3,4)$$, $$\\vec g = (1,2,3)$$，而且约定下标从 0 开始的话——\n\n\u0026nbsp; $$(\\vec f*\\vec g)_0 = f_0g_0 = 1$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_1 = f_0g_1 + f_1g_0  = 4$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_2 = f_0g_2 + f_1g_1 + f_2g_0 = 10$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_3 = f_1g_2 + f_2g_1 + f_3g_0 = 16$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_4 = f_2g_2 + f_3g_1 = 17$$\n\n\u0026nbsp; $$(\\vec f*\\vec g)_5 = f_3g_2 = 12$$\n\n不想手算？\n\n```python\nimport numpy as np\nfrom scipy import signal\nsignal.convolve(np.array([1,2,3,4]),np.array([1,2,3]))\n```\n\n### 形象化表示\n\n上面的计算过程，可以看作是——\n\n1. 把 g 向量的**顺序反过来；**\n2. 把 g 的最右一个元素和 f 的最左元素对齐，\n3. 上下两行都有数字的列相乘（也就是把没有数字的地方看作 0），然后把所有乘积相加，得到 f*g 的第一项；\n4. 把 g 向右移动一格\n5. 重复第3、4步\n6. 直到 g 的最左项移动到 f 的最右一个元素。\n\n形如下列各表：\n\n| --- | --- | --- | --- | --- | --- | --- |\n| f |  |  | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |  |  |\n| (f*g)(0) = 1 |  |  | 1 |  |  |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- |\n| f |  | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |  |\n| (f*g)(1) = 4 |  | 2 | 2 |  |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |\n| g | 3 | 2 | 1 |  |\n| (f*g)(2) = 10 | 3 | 4 | 3 |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |\n| g |  | 3 | 2 | 1 |\n| (f*g)(3) = 16 |  | 6 | 6 | 4 |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |  |\n| g |  |  | 3 | 2 | 1 |\n| (f*g)(4) = 17 |  |  | 9 | 8 |  |\n\n\u003chr class=\"slender\"\u003e\n\n| --- | --- | --- | --- | --- | --- | --- |\n| f | 1 | 2 | 3 | 4 |  |  |\n| g |  |  |  | 3 | 2 | 1 |\n| (f*g)(5) = 12 |  |  |  | 12 |  |  |\n\n## 机器学习的卷积，是卷积吗？\n\n看论文给出的图 Figure 1.1，在卷积核是灰色 3\\*3 矩阵的情况下，对蓝色 5\\*5 矩阵的卷积就是直接把核对齐到蓝色矩阵上，**并没有把核的元素顺序颠倒过来**。\n\n这玩意能叫卷积吗？\n\n![convolution](/photos/2022-12-29-convolution.png)\n\n有人强行挽尊，说我们画图示的时候已经把核给颠倒过来了，想知道卷积核就把灰色小矩阵再颠倒回去——\n\n但是，不颠倒就对齐相乘的运算也是有名字的，叫 cross correlation。核有没有颠倒，convolution 还是 cross correlation 一组合，可以带来升维打击般的混乱，堪比高中化学的“还原剂被氧化，氧化剂被还原”……所以，对于计算机专业的数学水平，不予置评～\n\n\n## 卷积`torch.nn.Conv` 及其各个参数\n\n### `in_channels` \u0026 `out_channels`\n\n“卷积”的意义在于用一种比较省内存的方式，考虑输入张量中各个元素，和空间上相近的邻居元素之间的关系。所以只需要在真的存在空间关系的维度做卷积，其他维度可以留着不动。\n\n比如一张彩色图片，是一个 (颜色*高度*宽度) 的 3 阶张量，我们只需要对高度和宽度两个维度做卷积，颜色就是不参与“卷积”的 channel。\n\n`in_channel` 就是被“卷积”的张量的 channel 数，`out_channel` 是“卷积”结果的 channel 数。比如我们想从一张 RGB 三色图片中分辨出前景和背景两种不同区域，`in_channel=3`, `out_channel=2`。\n\n而 `in_channel` 如何能够与 `out_channel` 取值不同，原理见 Figure 1.3。我们使用 `out_channel` 个不含 channel 维度的“卷积”核，每一个核都与每一个 in channel 做卷积，得到图中的蓝、紫色小矩阵，然后直接把不同的 in channel 暴力求和，得到的结果分别作为卷积结果的 out channel。（这个暴力求和与我以前想得不一样，我以为是什么每一元素都做了一个`in_channel`*`out_channel` 的全联通层）\n\n![channels](/photos/2022-12-29-channels.png)\n\n PyTorch 的习惯，对于一个 N 阶“卷积”，参与卷积的是张量的最后 N 阶，`in_channel` 和 `out_channel` 也就是被卷张量和卷积结果的 `Tensor.shape[-(N+1)]`\n\n后面图示的例子都没有考虑 `in_channel` 和 `out_channel` 的数量，也就是都当作 1 了。\n\n### `kernel_size`\n\n就是灰色矩阵“卷积”核，每边有几个数字。如果不同方向的边长不一，该参数就需要用一个 tuple 来表示。Figure 1.1 的灰色卷积核，`kernel_size=(3,3)`\n\n![kernel](/photos/2022-12-29-kernel.png)\n\n### `padding` \u0026 `padding_mode`\n\n前面手算例子的时候很鸡贼地把 0 作为向量下标的起点。如果采用日常 1 开头的下标来算，第 1 项结果为零，整个卷积结果的长度会长很多，而且多出来的后面几项也都是零。\n\n而且在这个过程中，我们实际上是把一个有限长度的向量，看作了一个以所有整数 $$\\Z$$ 为定义域的函数，除了那有限的几项之外，其余地方都定义函数值为 0。\n\n用计算机计算的话显然没法如此奢侈地谈“无限多个”，例子中实际用到的，在 $$\\vec f$$ 左右两边各需要 2 个 0，也就是说 `padding=2`, `padding_mode='zeros'`\n\nFigure 1.2 表示的就是 `padding=(1,1)` 的情况（蓝色是被卷张量，白色是 padding，灰色是卷积核，绿色是卷积结果）：\n\n![padding](/photos/2022-12-29-padding.png)\n\n既然神经网络中的卷积并不是真正的卷积，所以他们索性不装了——\n\n正常卷积的结果往往比被卷张量大一圈（具体大多少取决于  `kernel_size`, `padding`, `stride` 多个参数），但是图像处理的时候经常希望输出图片和输入图片一样大，此时可以用字符串 `“same”` 作为 `padding` 的参数，自动计算 padding 的大小。`“strict”` 则表示 `padding=0`, 这样输出图片尺寸会变小，但是没有 padding，也就没有往图片里掺杂研究者对图片边缘以外信息的臆测。\n\n同时 `padding_mode` 参数表示往被卷张量四周填充的数字也不一定是 0。比如对于图片，0 往往表示纯黑，而绝大多数图片的视野之外，往往是和图片边缘像素值相差不大的值。所以 `padding_mode` 除了 `zeros` 之外，还接受以下取值：\n\n- `reflect`: 以图片边缘为镜面，把边缘附近的像素值对陈反射出去；\n- `replicate`: 只取边缘的像素值作为常数，直接向外延拓；\n- `circular`: 类似于物理中的周期性边界条件，取对边附近的像素值作为 padding 内容。\n\n### `stride`\n\n前面手算卷积的第4步，把卷积核向右移动了1格，如果每次移动超过1格，就需要这个参数指定移动步长。如果不同方向的步长不同，也是用 tuple 来表示。\n\nFigure 1.4 表示的就是 `stride=(2,2)` 的情况（蓝色是被卷张量，蓝色中的深色块是卷积核，绿色是卷积结果）：\n\n![stride](/photos/2022-12-29-stride.png)\n\n### `dilation`\n\n这个参数把“卷积”核撑开，也就相当于在“卷积”核的相邻元素之间加 0。Figure 1.5 表示的就是 `dilation=(1,1)` 的情况（蓝色是被卷张量，蓝色中的深色块是卷积核，绿色是卷积结果）：\n\n![dilation](/photos/2022-12-29-dilation.png)\n\n比如 `dilation=1` 时，(1,2,3) 的卷积核就相当于 (1,0,2,0,3)\n\n比如 `dilation=2` 时，(1,2,3) 的卷积核就相当于 (1,0,0,2,0,0,3)\n\n这样可以让卷积核在尺寸比较小的情况下，覆盖到更大面积的被卷张量。当然具体实现时，不可能直接补 0 这么浪费内存。\n\n### `groups`\n\n该参数必须是 `in_channel` 和 `out_channel` 的公约数，当其不为 1 时，就相当于同时做 `groups` 个卷积，其中每个卷积的 `in_channel=in_channel/groups`, `out_channel=out_channel/groups`\n\n### `bias`\n\n该参数是一个布尔值，卷积类似于一种高维空间里的乘法，这个参数就决定是否要拟合 `y=kx+b` 中的 `b`\n\n## “卷积”的“逆运算”： `TransposeConv`\n\n卷积的结果比 padding 之后的被卷张量要小。尤其当“卷积”的 `stride` 约等于 `kernel_size` 时，卷积的就变成了某些池化 (pooling)（求最大值不是一种线性算子，所以最大值池化不能用卷积表示，但是平均值池化可以）。\n\n那么在类似 U-net 这样的模型里，右半边的数据升维（下图中的绿箭头），就需要一种“卷积”的“逆运算”。有人把这种运算叫做 deconvolution，有人叫做 transposed convolution，还有人叫做 convolution with fractional strides。\n\n![Unet](/photos/2022-12-29-unet.png)\n\nPyTorch 取的是第二种名字。论文解释了为什么这么取名字，笔记以后有时间再补上把……\n\n因为这个与运算本身就是作为“卷积”的逆运算出现的，所以 PyTorch 的文档里这么说：\n\n\u003e This is set so that when a `Conv2d` and a `ConvTranspose2d` are initialized with same parameters, they are inverses of each other in regard to the input and output shapes.\n\u003e \n\n也就是说，把 `ConvTranspose` 的输入和输出反过来，然后按照 `Conv` 的规则确定各个参数，填入 `ConvTranspose` 的括号里就可以了，除了 `output_padding`\n\n### `output_padding`\n\n`ConvTranspose` 的输出就是对应 `Conv` 的输入。看 Figure 2.7：\n\n![padding_output](/photos/2022-12-29-output-padding.png)\n\n当 $$(input+2*padding)/stride$$ 不能整除的时候，最右的几列最下的几行就被卷积核忽略掉了。那么在逆运算 `TransposeConv` 中，这就意味着同一个输入可能对应着 $$stride-1$$ 种可能的输出。`output_padding`参数就可以消除这种歧义，调整 `TransposeConv` 输出张量的尺寸。\n\n## 参考链接\n\n- 给卷积正名: [https://www.kaggle.com/general/225375](https://www.kaggle.com/general/225375)\n- PyTorch Conv2d 源码: [https://pytorch.org/docs/stable/_modules/torch/nn/modules/conv.html#_ConvNd](https://pytorch.org/docs/stable/_modules/torch/nn/modules/conv.html#_ConvNd)\n- 论文: [https://arxiv.org/abs/1603.07285](https://arxiv.org/abs/1603.07285)\n- 动图演示: [https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md](https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md)\n- U-net: [https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/](https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/)\n- PyTorch TransposeConv 文档: [https://pytorch.org/docs/stable/generated/torch.nn.ConvTranspose2d.html](https://pytorch.org/docs/stable/generated/torch.nn.ConvTranspose2d.html)\n"},{"slug":"pytorch-dataset-dataloader-sampler","filename":"2022-09-01-pytorch-dataset-dataloader-sampler.md","date":"2022-09-01","title":".py | PyTorch 数据处理方面的封装","layout":"post","keywords":["md","py","ai"],"excerpt":"一般监督学习的数据结构和处理过程，以及 PyTorch 对上述结构和处理过程的封装","content":"\n## 一般监督学习的数据结构和处理过程\n\n### 训练集、验证集、测试集\n\n所有数据整体构成一个大集合，这个集合的每一个元素都包含一个输入和一个目标，分别记作 x 和 y。\n\n把这个大集合分成互相没有交集的三个子集，分别是训练集 (training set)、验证集 (validation set)、测试集 (test set)。\n\n- 训练集和验证集在训练过程中使用。\n    - 训练集的数据带入模型时，模型处于训练模式，模型输出对参数的导数被记录。通过比较把“模型输出”和“训练目标 y”代入**损失函数**的损失，更新模型的参数。同时记录“模型输出”和“训练目标 y”带入验证函数的结果，和验证集比较。\n    - 验证集的数据代入模型时，模型处于求值模式，模型只根据输入计算输出，对参数的导数不记录。通过观察“模型输出”和“训练目标 y”带入**验证函数**的结果，观察训练是否陷入“过拟合”。当训练集的验证函数结果不断下降，但是验证集的验证函数结果几乎不变时，可以认为模型过拟合。\n- 测试集在训练完成之后使用，代入模型时，模型处于求值模式。用于评价训练结果的好坏。\n\n### epoch vs. batch\n\n如果把所有数据同时进行训练，所需要的空间一般都大于电脑内存。所以一般会将训练集随机分成若干批次 (batch)，一个批次的数据同时塞入模型进行训练，在一个 batch 里每一个模型输出对参数的导数累加在一起，整个 batch 结束后更新模型参数，同时导数清零。因为 batch 这个概念和内存有关，所以数值一般选择为 2 的指数。\n\n将训练集所有的 batches 跑完一次称为而一个 epoch。一次训练一般需要很多 epochs，直到损失函数结果足够低，或验证集显示出现过拟合。\n\n## PyTorch 对上述结构和处理过程的封装\n\n### `Dataset`\n\n前面已经说了，数据集包括输入和目标两部分，`Dateset` 及其子类的作用就是\n\n如果在把数据装入 `Dataset` 之前就已经是规整的两个张量了的话——\n\n```python\nimport torch\nfrom torch.utils import data\n\n# ...\n\nfor x,y in zip(train_x,train_y):\n    # do something with x and y\n\ntrainset = TensorDataset(train_x,train_y)\nfor x,y in trainset:\n    # do something with x and y\n```\n\n——这一步确实没什么意思。\n\n有意思的地方在于可以自己写一个数据集类，继承 `Dataset`，然后重载 `__getitem__()` 和 `__len__()` 方法，这样可以把一些不适合用张量表示的数据塞进 `Dataset` 里面，对图像进行学习的话可以在此处加入图像增强的步骤，并进一步用于 `DataLoader`\n\n### `DataLoader`\n\n`DataLoader` = `Dataset` + `Sampler`，因为一般的教程里只需要讲数据集进行简单随机划分，也就只用到了 `batch_size` 等等参数，用到 Sampler 的地方很少。\n\n最常见的用例就是 `WeightedRandomSampler` 。训练分类器的时候，有时其中一个类别的数据远少于其他，那么训练器就更难判断出这一分类（因为只要无脑排除这个类别就能获得不错的正确率），所以需要平衡不同组别之间的权重。\n\n```python\nlist(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True))\n# [4, 4, 1, 4, 5]\nlist(WeightedRandomSampler(weights=[0.9, 0.4, 0.5, 0.2, 0.3, 0.1], num_samples=5, replacement=False))\n# [0, 1, 4, 3, 2]\n```\n\n平衡完之后转化为 batch，搭配 `BatchSampler`：\n\n```python\nlist(BatchSampler(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True), batch_size=2, drop_last=False))\n# [[4, 4], [1, 4], 5]\nlist(BatchSampler(WeightedRandomSampler(weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], num_samples=5, replacement=True), batch_size=2, drop_last=True))\n# [[0, 1], [4, 3]]\n```\n\n### 汇总一下\n\n```python\nimport torch\nfrom torch.utils import data\n\ntrain_x = torch.rand((100,5))\ntrain_y = torch.rand((100,2))\ntrainset = data.TensorDataset(train_x,train_y)\n\n# either:\ntrainloader = data.DataLoader(\n    trainset,\n    batch_size=2,\n    drop_last=True,\n    sampler=data.WeightedRandomSampler(\n        weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], \n        num_samples=5, \n        replacement=True))\n# or:\ntrainloader = data.DataLoader(\n    trainset,\n    batch_sampler=data.BatchSampler(\n        data.WeightedRandomSampler(\n            weights=[0.1, 0.9, 0.4, 0.7, 3.0, 0.6], \n            num_samples=5, \n            replacement=True), \n        batch_size=2, \n        drop_last=True))\n\nfor epoch in range(100):\n    for x,y in trainloader:\n        train(model,x,y,loss_function)\n```\n\n需要注意的是，`for x,y in trainset` 的 x 和 y 的维度是单个数据的维度，最简单的情况就是是 P 和 Q 维向量，而此时如果把 batch_size 记作 B，`for x,y in trainloader` 中的 x 和 y 是维度分别为 (B,P) 和 (B,Q) 的矩阵。`train()` 函数里面的计算要考虑到多出的这一个维度。\n\n## 参考链接：\n\n- [https://pytorch.org/tutorials/beginner/basics/data_tutorial.html](https://pytorch.org/tutorials/beginner/basics/data_tutorial.html)\n- [https://pytorch.org/tutorials/beginner/nn_tutorial.html](https://pytorch.org/tutorials/beginner/nn_tutorial.html)\n- [https://pytorch.org/tutorials/beginner/ptcheat.html](https://pytorch.org/tutorials/beginner/ptcheat.html)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataset#torch.utils.data.Dataset](https://pytorch.org/docs/stable/data.html?highlight=dataset#torch.utils.data.Dataset)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.DataLoader](https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.DataLoader)\n- [https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.Sampler](https://pytorch.org/docs/stable/data.html?highlight=dataloader#torch.utils.data.Sampler)\n- [https://pytorch.org/docs/stable/_modules/torch/utils/data/dataset.html#Dataset](https://pytorch.org/docs/stable/_modules/torch/utils/data/dataset.html#Dataset)\n"},{"slug":"knowledge-structure-machine-learning-image-processing-summer-school","filename":"2022-08-17-knowledge-structure-machine-learning-image-processing-summer-school.md","date":"2022-08-17","title":".py | 深度学习暑期学校知识点","layout":"post","keywords":["md","py","ai"],"excerpt":"机器学习在图像处理当中的应用，知识结构树","content":"\n- 电脑设置、python 入门\n    - NoMachine, ssh, python, conda, jupyter\n    - 文件夹操作 `pathlib`, 图片操作 `skimage`\n    - 数据增强 (data augmentation): `imgaug`\n    - TensorBoard\n- 机器学习简介\n    - Linear Classifier\n    - `sklearn**.**model_selection**.**train_test_split()`\n    - Stochastic gradient descent\n    - TensorFlow:\n        - `tensorflow_addons as tfa`\n        - `tfa.image.rotate()`, `tf.image.random_flip_left_right()`\n        - **`from** tensorflow.keras **import** Model`, **`from** tensorflow.keras.models **import** Sequential`, **`from** tensorflow.keras.layers **import** Input, Flatten, Dense, Activation, BatchNormalization, Conv2D, MaxPool2D, Softmax`\n        - `tf**.**keras**.**losses**.**CategoricalCrossentropy()`, `tf**.**keras**.**optimizers**.**Adam(lr**=**1e-3, clipnorm**=**0.001)`\n        - `linear_classifier **=**``Model(...)`, `linear_classifier.compile()`, `linear_classifier.fit()`, `linear_classifier.predict()`\n- 深度学习简介\n    - Perceptron\n    - Perceptron-based XOR gate\n    - **decision boundary** of your model: `np.meshgrid`\n- 图像恢复 (image restoration)\n    - CARE network\n    - Noise2Nosie, Noise2Void\n- 图像翻译 (image translation)\n    - micro-DL: a tool to generate and train U-net from config files.\n- 图像语义分割 (image semantic segmentation): 比较详细，前两节有点水了。\n    - **`from** PIL **import** Image`, **`import** imageio`, **`from** torchvision **import** transforms`\n    - **`from** torch.utils.data **import** Dataset, DataLoader`, **`import** torch.nn **as** nn`, **`from** torch.nn **import** functional **as** F`,  **`from** torch.utils.tensorboard **import** SummaryWriter`,\n    - U-net on PyTorch\n- 图像实例分割 (instance segmentation)\n    1. Foreground segmentation: \n        - **Receptive Field of View**: The term is borrowed from biology where it describes the \"portion of sensory space that can elicit neuronal responses when stimulated\" (wikipedia). Each output pixel can look at/depends on an input patch with that diameter centered at its position. Based on this patch, the network has to be able to make a decision about the prediction for the respective pixel.\n        - **Early Stopping** to avoid overfitting: define an `EarlyStopping` class\n    2. Instance Segmentation:\n        - Ideas:\n            - Three-class model (foreground, background, boundary),\n            - Distance transform (label for each pixel is the distance to the closest boundary),\n            - Edge affinity (consider not just the pixel but also its direct neighbors, predicts the probability that there is an edge, this is called affinity.) 听的时候懂了，回来看的时候没太看懂\n            - Metric learning (learns to predict an embedding vector for each pixel.)\n    3. **Tile and Stitch：**\n        - 当需要处理的图片过大时，将图片切分成多个小图，分别预测之后拼接在一起。\n        - 文中说图片尺寸不是 某个参数的整数倍的时候拼贴结果会不连续，但是代码注释中说等于这个整数倍的时候会不连续，晕。\n        - [https://arxiv.org/pdf/2101.05846.pdf](https://arxiv.org/pdf/2101.05846.pdf)\n    4. 一个实例，epithelia cells\n- 失败模式：极其之水，就是科普了一下训练参数错误的后果，以及一点对抗学习的内容\n- 追踪：比较水，因为机器学习追踪的运算量极大，且主讲人感觉就是来做广告的，所以就直接用 CoLab 体验了一下就完事了。（就这还加州理工呢~）\n- 知识提取：\n    - 前面的基本上是从像素到像素的映射，这里的知识提取是从图片到标签的映射。\n    - CycleGAN\n    - **Create a balanced Dataloader**\n    "},{"slug":"what-a-PyTorch-project-looks-like","filename":"2022-08-17-what-a-PyTorch-project-looks-like.md","date":"2022-08-17","title":".py | 一个 PyTorch 机器学习项目长什么样","layout":"post","keywords":["md","py","ai"],"excerpt":"官网的一个pytorch教程的笔记，原文先按照第一性原理，尽量用原生 python 写了一遍，然后一步一步重构成接近生产环境的代码。这里我把顺序反过来，先放出重构之后的最终结果","content":"\n自学，或者说一切学习和教学，本质就是在已经掌握的知识和未知的目标知识之间修路。路有两种修法，一是理论或者说是第一性原理路线，从不证自明的公理或者已经掌握的知识出发，通过逻辑推理一步步得到新的知识；另一种是实践或者说工程师路线，拿到一个已经可以工作的产品，划分成各个子系统，通过输入的改变来观察输出的不同，直到子系统简化到自己可以理解的地步，不再是黑箱，借此了解整个系统的功能。\n\n但是当学习的对象复杂到一定程度之后，凭借一个人的自学能力，只用其中一种方法往往难以钻透。又或者两种方法学到的路线并非同一条路。对于机器学习，理论路线就是“让输入数据通过一个带有超多参数的函数，根据函数返回值和输出数据之间的差别修正参数，直到函数能够近似输入数据和输出数据之间的关系”；实践中代码往往会使用很多库作者封装好的函数，只读源码往往一头雾水。\n\n所以，看到 PyTorch 官网的这篇教程 **WHAT IS TORCH.NN *REALLY*?:** [https://pytorch.org/tutorials/beginner/nn_tutorial.html](https://pytorch.org/tutorials/beginner/nn_tutorial.html) 可以说是喜出望外，把两种路线写出的代码都给了出来，对于自学者来说，就像罗塞塔石碑一样可以互相对照。这里我把 CNN 相关的部分抽掉了，毕竟 CNN 只是深度学习的一个子集，深度学习只是机器学习的一个子集，和这篇文章的主题关系不大。\n\n原文先按照第一性原理，尽量用原生 python 写了一遍，然后一步一步重构成接近生产环境的代码。这里我把顺序反过来，先放出重构之后的最终结果：\n\n```python\nfrom pathlib import Path\nimport requests\nimport pickle\nimport gzip\nimport numpy as np\nimport torch\nimport torch.nn.functional as F\nfrom torch import nn\nfrom torch import optim\nfrom torch.utils.data import TensorDataset,DataLoader\n\n# Using GPU\n\nprint(torch.cuda.is_available())\ndev = torch.device(\"cuda\") if torch.cuda.is_available() else torch.device(\"cpu\")\n\n# Wrapping DataLoader\n# https://pytorch.org/tutorials/beginner/basics/data_tutorial.html?highlight=dataloader\n# https://pytorch.org/tutorials/beginner/data_loading_tutorial.html?highlight=dataloader\n\ndef preprocess(x, y):\n    return x.view(-1, 1, 28, 28).to(dev), y.to(dev)\n\ndef get_data(train_ds, valid_ds, bs):\n    return (\n        DataLoader(train_ds, batch_size=bs, shuffle=True),\n        DataLoader(valid_ds, batch_size=bs * 2),\n    )\n\nclass WrappedDataLoader:\n    def __init__(self, dl, func):\n        self.dl = dl\n        self.func = func\n\n    def __len__(self):\n        return len(self.dl)\n\n    def __iter__(self):\n        batches = iter(self.dl)\n        for b in batches:\n            yield (self.func(*b))\n\n# Define the neural network model to be trained\n\n# # If the model is simple:\n# model = nn.Sequential(nn.Linear(784, 10))\n\n# generally the model is a class that inherites nn.Module and implements forward()\nclass Mnist_Logistic(nn.Module):\n    def __init__(self):\n        super().__init__()\n        # self.weights = nn.Parameter(torch.randn(784, 10) / math.sqrt(784))\n        # self.bias = nn.Parameter(torch.zeros(10))\n        self.lin = nn.Linear(784, 10)\n\n    def forward(self, xb):\n        # return xb @ self.weights + self.bias\n        return self.lin(xb)\n\n# Define the training pipeline in fit()\n\ndef loss_batch(model, loss_func, xb, yb, opt=None):\n    loss = loss_func(model(xb), yb)\n\n    if opt is not None:\n        loss.backward()\n        opt.step()\n        opt.zero_grad()\n\n    return loss.item(), len(xb)\n\ndef fit(epochs, model, loss_func, opt, train_dl, valid_dl):\n    for epoch in range(epochs):\n        model.train()\n        for xb, yb in train_dl:\n            loss_batch(model, loss_func, xb, yb, opt)\n\n        model.eval()\n        with torch.no_grad():\n            losses, nums = zip(\n                *[loss_batch(model, loss_func, xb, yb) for xb, yb in valid_dl]\n            )\n        val_loss = np.sum(np.multiply(losses, nums)) / np.sum(nums)\n\n        print(epoch, val_loss)\n    return None\n\n# __main()__:\n\n# data\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\n\ntrain_dataset = TensorDataset(x_train, y_train)\nvalid_dataset = TensorDataset(x_valid, y_valid)\ntrain_dataloader, valid_dataloader = get_data(train_ds, valid_ds, bs)\ntrain_dataloader = WrappedDataLoader(train_dataloader, preprocess)\nvalid_dataloader = WrappedDataLoader(valid_dataloader, preprocess)\n\n# hyperparameters/model\nlearning_rate = 0.1\nepochs = 2\nloss_function = F.cross_entropy # loss function\nmodel = Mnist_CNN()\nmodel.to(dev)\noptimizer = optim.SGD(model.parameters(), lr=learning_rate , momentum=0.9)\n\n# training\nfit(epochs, model, loss_function, optimizer, train_dataloader, valid_dataloader)\n```\n\n可以看到，一个项目主干可以分成4部分：\n\n1. 准备数据\n2. 定义模型\n3. 描述流程\n4. 实际运行\n\n下面把各部分拆分开来，把两种思路的代码进行对比。\n\n## 1. 准备数据\n\n### 重构之前\n\n```python\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\nn, c = x_train.shape\n```\n\n### 重构以后：\n\n```python\n# Wrapping DataLoader\n# https://pytorch.org/tutorials/beginner/basics/data_tutorial.html?highlight=dataloader\n# https://pytorch.org/tutorials/beginner/data_loading_tutorial.html?highlight=dataloader\n\ndef preprocess(x, y):\n    return x.view(-1, 1, 28, 28).to(dev), y.to(dev)\n\ndef get_data(train_ds, valid_ds, bs):\n    return (\n        DataLoader(train_ds, batch_size=bs, shuffle=True),\n        DataLoader(valid_ds, batch_size=bs * 2),\n    )\n\nclass WrappedDataLoader:\n    def __init__(self, dl, func):\n        self.dl = dl\n        self.func = func\n\n    def __len__(self):\n        return len(self.dl)\n\n    def __iter__(self):\n        batches = iter(self.dl)\n        for b in batches:\n            yield (self.func(*b))\n```\n\n## 2. 定义模型\n\n### 重构之前\n\n```python\nweights = torch.randn(784, 10) / math.sqrt(784)\nweights.requires_grad_()\nbias = torch.zeros(10, requires_grad=True)\n\ndef log_softmax(x):\n    return x - x.exp().sum(-1).log().unsqueeze(-1)\n\ndef model(xb):\n    return log_softmax(xb @ weights + bias)\n\ndef nll(input, target):\n    return -input[range(target.shape[0]), target].mean()\nloss_func = nll\n\ndef accuracy(out, yb):\n    preds = torch.argmax(out, dim=1)\n    return (preds == yb).float().mean()\n```\n\n### 重构以后\n\n```python\n# If the model is simple:\nmodel = nn.Sequential(nn.Linear(784, 10))\n\n# generally the model is a class that inherites nn.Module and implements forward()\nclass Mnist_Logistic(nn.Module):\n    def __init__(self):\n        super().__init__()\n        # self.weights = nn.Parameter(torch.randn(784, 10) / math.sqrt(784))\n        # self.bias = nn.Parameter(torch.zeros(10))\n        self.lin = nn.Linear(784, 10)\n\n    def forward(self, xb):\n        # return xb @ self.weights + self.bias\n        return self.lin(xb)\n\n```\n\n## 3. 描述流程\n\n### 重构之前\n\n```python\nlr = 0.5  # learning rate\nepochs = 2  # how many epochs to train for\n\nfor epoch in range(epochs):\n    for i in range((n - 1) // bs + 1):\n        #         set_trace()\n        start_i = i * bs\n        end_i = start_i + bs\n        xb = x_train[start_i:end_i]\n        yb = y_train[start_i:end_i]\n        pred = model(xb)\n        loss = loss_func(pred, yb)\n\n        loss.backward()\n        with torch.no_grad():\n            weights -= weights.grad * lr\n            bias -= bias.grad * lr\n            weights.grad.zero_()\n            bias.grad.zero_()\n```\n\n### 重构以后\n\n```python\n\ndef loss_batch(model, loss_func, xb, yb, opt=None):\n    loss = loss_func(model(xb), yb)\n\n    if opt is not None:\n        loss.backward()\n        opt.step()\n        opt.zero_grad()\n\n    return loss.item(), len(xb)\n\ndef fit(epochs, model, loss_func, opt, train_dl, valid_dl):\n    for epoch in range(epochs):\n        model.train()\n        for xb, yb in train_dl:\n            loss_batch(model, loss_func, xb, yb, opt)\n\n        model.eval()\n        with torch.no_grad():\n            losses, nums = zip(\n                *[loss_batch(model, loss_func, xb, yb) for xb, yb in valid_dl]\n            )\n        val_loss = np.sum(np.multiply(losses, nums)) / np.sum(nums)\n\n        print(epoch, val_loss)\n    return None\n```\n\n## 4. 实际运行\n\n### 重构之前\n\n```python\n# __main()__:\nprint(loss_func(model(xb), yb), accuracy(model(xb), yb))\n```\n\n### 重构以后\n\n```python\n# __main()__:\n\n# data\nDATA_PATH = Path(\"data\")\nPATH = DATA_PATH / \"mnist\"\n\nPATH.mkdir(parents=True, exist_ok=True)\n\nURL = \"https://github.com/pytorch/tutorials/raw/master/_static/\"\nFILENAME = \"mnist.pkl.gz\"\n\nif not (PATH / FILENAME).exists():\n        content = requests.get(URL + FILENAME).content\n        (PATH / FILENAME).open(\"wb\").write(content)\nwith gzip.open((PATH / FILENAME).as_posix(), \"rb\") as f:\n        ((x_train, y_train), (x_valid, y_valid), _) = pickle.load(f, encoding=\"latin-1\")\n\nx_train, y_train, x_valid, y_valid = map(\n    torch.tensor, (x_train, y_train, x_valid, y_valid)\n)\n\ntrain_dataset = TensorDataset(x_train, y_train)\nvalid_dataset = TensorDataset(x_valid, y_valid)\ntrain_dataloader, valid_dataloader = get_data(train_ds, valid_ds, bs)\ntrain_dataloader = WrappedDataLoader(train_dataloader, preprocess)\nvalid_dataloader = WrappedDataLoader(valid_dataloader, preprocess)\n\n# hyperparameters/model\nlearning_rate = 0.1\nepochs = 2\nloss_function = F.cross_entropy # loss function\nmodel = Mnist_CNN()\nmodel.to(dev)\noptimizer = optim.SGD(model.parameters(), lr=learning_rate , momentum=0.9)\n\n# training\nfit(epochs, model, loss_function, optimizer, train_dataloader, valid_dataloader)\n```"},{"slug":"tensorboard-on-pytorch","filename":"2022-04-08-tensorboard-on-pytorch.md","date":"2022-04-08","title":".py | TensorBoard 笔记（PyTorch 版）","layout":"post","keywords":["md","py","ai"],"excerpt":"TensorBoard 是 TensorFlow 团队开发的一款可视化工具，方便观察和调整机器学习的数据集、模型、超参数和训练结果等等。但是不知道为什么，PyTorch 调用 TensorBoard，要比 TensorFlow 方便简单得多，\u003cdel\u003e这何尝不是一种 NTR\u003c/del\u003e……","content":"\n- 官网教程：[https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html](https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html)\n- 官方文档：[https://pytorch.org/docs/stable/tensorboard.html](https://pytorch.org/docs/stable/tensorboard.html)\n\nTensorBoard 是 TensorFlow 团队开发的一款可视化工具，方便观察和调整机器学习的数据集、模型、超参数和训练结果等等。但是不知道为什么，PyTorch 调用 TensorBoard，要比 TensorFlow 方便简单得多，~~这何尝不是一种 NTR~~……\n\n---\n\n## 用法和效果\n\n一个使用了 TensorBoard 的 torch 项目的主文件一般是这样的（把和 TensorBoard 无关的部分都注释掉了）：\n\n```python\n# imports\n# import matplotlib.pyplot as plt\n# import numpy as np\n\n# import torch\n# import torchvision\n# import torchvision.transforms as transforms\n\n# import torch.nn as nn\n# import torch.nn.functional as F\n# import torch.optim as optim\n\nfrom torch.utils.tensorboard import SummaryWriter\n\n# # transforms\n# transform = transforms.Compose(\n#     [transforms.ToTensor(),\n#     transforms.Normalize((0.5,), (0.5,))])\n\n# # datasets\n# trainset = torchvision.datasets.FashionMNIST('./data',\n#     download=True,\n#     train=True,\n#     transform=transform)\n# testset = torchvision.datasets.FashionMNIST('./data',\n#     download=True,\n#     train=False,\n#     transform=transform)\n\n# # dataloaders\n# trainloader = torch.utils.data.DataLoader(trainset, batch_size=4,\n#                                         shuffle=True, num_workers=2)\n# testloader = torch.utils.data.DataLoader(testset, batch_size=4,\n#                                         shuffle=False, num_workers=2)\n\n# # constant for classes\n# classes = ('T-shirt/top', 'Trouser', 'Pullover', 'Dress', 'Coat',\n#         'Sandal', 'Shirt', 'Sneaker', 'Bag', 'Ankle Boot')\n\n# class Net(nn.Module):\n#     def __init__(self):\n#         super(Net, self).__init__()\n#         self.conv1 = nn.Conv2d(1, 6, 5)\n#         self.pool = nn.MaxPool2d(2, 2)\n#         self.conv2 = nn.Conv2d(6, 16, 5)\n#         self.fc1 = nn.Linear(16 * 4 * 4, 120)\n#         self.fc2 = nn.Linear(120, 84)\n#         self.fc3 = nn.Linear(84, 10)\n#     def forward(self, x):\n#         x = self.pool(F.relu(self.conv1(x)))\n#         x = self.pool(F.relu(self.conv2(x)))\n#         x = x.view(-1, 16 * 4 * 4)\n#         x = F.relu(self.fc1(x))\n#         x = F.relu(self.fc2(x))\n#         x = self.fc3(x)\n#         return x\n# net = Net()\n\n# criterion = nn.CrossEntropyLoss()\n# optimizer = optim.SGD(net.parameters(), lr=0.001, momentum=0.9)\n\n# default `log_dir` is \"runs\" - we'll be more specific here\nwriter = SummaryWriter('runs/fashion_mnist_experiment_1')\n\nrunning_loss = 0.0\nfor epoch in range(1):  # loop over the dataset multiple times\n    for i, data in enumerate(trainloader, 0):\n        # # get the inputs; data is a list of [inputs, labels]\n        # inputs, labels = data\n\n        # # zero the parameter gradients\n        # optimizer.zero_grad()\n\n        # # forward + backward + optimize\n        # outputs = net(inputs)\n        # loss = criterion(outputs, labels)\n        # loss.backward()\n        # optimizer.step()\n\n        # running_loss += loss.item()\n        if i % 1000 == 999:    # every 1000 mini-batches...\n            # ...log the running loss\n            writer.add_scalar('training loss',\n                            running_loss / 1000,\n                            epoch * len(trainloader) + i) # 注意这一行！\n# print('Finished Training')\n```\n\n正常情况下，使用了tensorboard 的项目在训练的过程中，可以用网页浏览器打开网址 `localhost:6006`，应该可以看到和下图类似但不同的画面：\n\n![tensorboard](/photos/2022-04-08-tensorboard.png)\n\n下面来仔细分解。\n\n## 代码分解\n\n[引入](python-import-script-module-package) TensorBoard 需要下面一行代码：\n\n```python\nfrom torch.utils.tensorboard import SummaryWriter\n```\n\n从名字就能看出来，`SummaryWriter` 是一个 class。粗略用了一下文档页面的业内搜索，好像整个 `torch.utils.tensorboard` 就只有这一个 class。\n\n新建一个这个类的实例：\n\n```python\nwriter = SummaryWriter('runs/fashion_mnist_experiment_1')\n```\n\n这一步会在当前工作环境下新建一个 `/runs` 文件夹，\n\n要想显示导航栏上的“SCALARS”、“IMAGES”等等选项卡，并且让自己想观察的数据显示在各自类别的选项卡里，需要调用 `SummaryWriter` 下面的各种方法，比如 `add_scalar()`, `add_image()`.\n\n### 各种方法\n\n用法和效果举例如下：\n\n- `add_scalar()`: 在一张图中画出**一个标量**指标随学习迭代的**变化曲线**。\n    - `tag`: 图片的标题。\n    - `scalar_value`: 指标的值，也就是纵坐标。\n    - `global_step`: 全局迭代次数，也就是横坐标。\n- `add_scalars()`: 在一张图中同时画出**多个指标**随学习迭代的**变化曲线**。\n    - `main_tag`: 图片的标题\n    - `tag_scalar_dict`: 一个字典，字典的键是变量的名字，值是各个变量的纵坐标。\n    - `global_step`: 全局迭代次数，也就是横坐标。\n- `add_custome_scalars()`: 没有用过，也没见到例子，不太明白。根据描述像是把之前 `add_scalar()` 和 `add_scalars()` 的结果重新组合，对 SCALARS 选项卡重新排版。每个 `SummaryWriter` 只能运行一次，可以在训练开始前运行，也可以在之后。\n    - `layout`: 只有一个这参数，是一个字典，字典的键像是新图片/章节的名字，值是下一级字典或者是 `add_scalar()` 出现过/将要出现的 `tag` 参数。\n- `add_figure()`: 显示 `matplotlib` 画出的**图表**。\n    - `tag`: 标题\n    - `figure`: 图表，要求类型为 `matplotlib.pyplot.figure`\n    - `global_step`:迭代次数，效果如何 没试过。\n- `add_histogram()`: 在一张图中画出一个样本的**直方图**，以及这个直方图随迭代变化的规律。这是个三维图片，x 轴是直方图的取值范围，y 轴是迭代次数，z 轴是直方图的频率值。\n    - `tag`: 图片标题。\n    - `values`: 一个 `torch.Tensor` 或者 `numpy.array` ，用于绘制直方图的样本.\n    - `global_step`: 迭代次数，y 轴分量。\n    - `bins`: 取样间隔参数，`numpy.histogram()` 中用到的。 ****\n- `add_graph()`: 一般用于在训练前画出神经网络的**图状结构**。\n    - `model`: 要画的模型，类型是 `torch.nn.Module`\n    - `input_to_model=None`: （可选）输入模型的变量。\n- `add_mesh()`: **三维点云**。\n    - `tag`: 表格标题。\n    - `vertices`: 顶点三维坐标的列表。\n    - `colors`: 顶点的颜色。\n    - `faces`: （可选）没看懂 (Indices of vertices within each triangle.)\n    - `config_dict`: 用于画图的 ThreeJS 的参数。\n    - `global_step`: 迭代次数。\n- `add_embeddding()`: 神经网络的输入一般是高维向量，此工具将高维数据**投影到三维**空间，然后画出图像，方便我们感知训练集内样本之间的关系。\n    - `mat`: 一个矩阵，每一行都是一个要处理的向量。\n    - `metadata`: 标记文字，一般是列表。\n    - `label_img`: 标记图片，显示在每个数据点旁边的\n    - `global_step`: 迭代次数，一般没人用。\n    - `tag`: 图片标题。\n- `add_pr_curve()`: 准确率 (precision) -召回率 (call back) 曲线。准确率=真阳性/(真阳性+假阳性)，召回率=真阳性/(真阳性+假阴性)\n    - `tag`: 图片标题。\n    - `labels`: Ground truth 数据，每个数据点对应一个布尔值。\n    - `predictions`: 模型的输出，每个数据点对应一个 [0,1] 之间的实数。\n    - `global_step`: 迭代次数。\n    - `num_thresholds`:用于画出 PR 曲线的阈值的数目。\n- `add_hparams()`: 比较不同次运行之间的超参数。没太看懂。\n    - `hparam_dict`: 超参数的名称和取值\n    - `metric_dict`: metric （不知道怎么翻译）的名称和取值\n    - `hparam_domain_discrete`: （可选）字典，超参数的名称和有限个可能的取值。\n    - `run_name`: 运行的名称，将会成为 `logdir` 的一部分。\n- `add_image()`: 在 IMAGES 选项卡中显示**一张图片**。\n    - `tag`: 图片名称。\n    - `img_tensor`: 一个 `torch.Tensor` 或者 `numpy.array`，被显示的图片。对应于下面的 `dataformats` 参数。\n    - `global_step`: 迭代次数，没见有人在显示图片的时候用过。\n    - `dataformats=’CHW’`: 图片各维度的顺序。默认是“颜色-高度-宽度”。\n- `add_images()`: 并列显示**多张图片**。\n    - `tag`: 图片组的标题。\n    - `img_tensor`: 一个 `torch.Tensor` 或者 `numpy.array`，被显示的图片。图片个维度的含义由 `datadormats` 给出。\n    - `global_step`: 迭代次数，没见有人在显示图片的时候用过。\n    - `datadormats=’NCHW’`: 图片各维度的顺序。默认为“图片序号-颜色-高度-宽度”。\n- `add_video()`: 略\n- `add_audio()`: 略\n- `add_text()`: 略"},{"slug":"install-pytorch-cpu-on-fedora","filename":"2021-10-13-install-pytorch-cpu-on-fedora.md","date":"2021-10-13","title":".py | Fedora 上安装 CPU 版 pytorch","layout":"post","keywords":["md","py","ai"],"excerpt":"import torch (as tf)","content":"\n马上要参加一个暑期学校，关于深度学习在显微图像处理当中的应用。\n\n深度学习是机器学习的一个分支，机器学习中的绝大多数数据都可以抽象为向量（一阶张量），绝大多数的算法都可以分解为向量之间的运算，或者对向量的变换，表示为矩阵（二阶张量）。这就对张量计算相关算法的库函数产生了很大的需求。PyTorch 和 TensorFlow，还有其他的一些库，比如 Keras，Caffe 等等等等，都是为此而生。早期版本的 pytorch 和 tensorflow 有很大的区别，但是随着版本的迭代，两者逐渐兼并和挤掉了其他的竞争者，两者的相似之处也越来越多，“变成了自己曾经最讨厌的样子”。lol\n\n不知道课上究竟要使用哪种机器学习的框架，所以决定把 PyTorch 和 TensorFlow 全都安装了（摊手）。正好可以接着上一篇的 [python 教程](python-interpreter-editor-virtualenv) 往下写。\n\n先说一下自己的软硬件环境：Intel 家的 CPU 和集成显卡（玩不了《文明6》）。虽然不在官方支持 Linux 的名单上，但是自己安装了 Fedora，内核更新了几次之后已经没有了兼容性问题。python 版本 3.9.6，包管理器是 pip，编辑器是 vscode。\n\n## 建立虚拟环境\n\n为什么要建立虚拟环境的问题本系列的前一篇已经回答过了，这次直接开干。我给两个虚拟环境分别取名为 `torch` 和`tf` 。关于命令行部分的代码，为了表示各个虚拟环境，特别加上了命令提示符`(env)[me@mycomputer]$`，抄代码的时候注意去掉。\n\n```bash\n\n[me@mycomputer]$ mkvirtualenv torch\n(torch)[me@mycomputer]$\n```\n\n## 安装\n\n在 PyTorch 官网，找到自己的硬件配制对应的安装命令：[https://pytorch.org/get-started/locally/](https://pytorch.org/get-started/locally/)。比如我的就是 `Stable`\u003e`Linux`\u003e`Pip`\u003e`Python`\u003e`CPU`。把生成的命令复制到命令行：\n\n```bash\n\n(torch)[me@mycomputer]$ pip3 install torch==1.9.1+cpu torchvision==0.10.1+cpu torchaudio==0.9.1 -f https://download.pytorch.org/whl/torch_stable.html\n```\n\n等待各种提示信息显示安装完成。\n\n## 验证和退出\n\n按照 [官网给出的方法](https://pytorch.org/get-started/locally/#linux-verification)，验证安装是否成功：\n\n```python\n\nimport torch\nx = torch.rand(5, 3)\nprint(x)\n\n# tensor([[0.3799, 0.4494, 0.4296],\n#       [0.5800, 0.0180, 0.3110],\n#       [0.9847, 0.0125, 0.2648],\n#       [0.0296, 0.3142, 0.9266],\n#       [0.3192, 0.9645, 0.5545]])\n```\n\n为了下一步安装 tensorflow，先要退出到默认的虚拟环境：\n\n```bash\n\n(torch)[me@mycomputer]$ deactivate\n[me@mycomputer]$\n```\n\n## 说好的 TensorFlow 呢\n\n本来这篇文章是打算把  pytorch 和 tensorflow 一起写了，结果 tensorflow 实在是不给力。\n\n- 直接安装\n\n在 [TensorFlow 的官网](https://www.tensorflow.org/install)上方导航栏找到 install 按钮，然后在页面左侧找到 package/pip，[安装命令](https://www.tensorflow.org/install/pip#3.-install-the-tensorflow-pip-package)也是只有一句话\n\n```python\n\npip install --upgrade tensorflow\n```\n\n然而不行，虽然安装过程中没有报错，但是验证安装的时候报出一堆错误。\n\n报错信息里有一句 `Could not load dynamic library 'libcudart.so.11.0'`，怀疑上面命令安装的是 GPU 版本。\n\n- 安装 CPU 版本\n\n在网页正文的“Package Location”一节找到了 CPU 版本的安装文件：`https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow_cpu-2.6.0-cp39-cp39-manylinux2010_x86_64.whl`，于是删除虚拟环境、重建虚拟环境、重新安装。\n\n```bash\n\n(tf)[me@mycomputer]$ deactivate\n[me@mycomputer]$ rmvirtualenv tf\n[me@mycomputer]$ mkvirtualenv tf\n(tf)[me@mycomputer]$ pip install --upgrade pip\n(tf)[me@mycomputer]$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow_cpu-2.6.0-cp39-cp39-manylinux2010_x86_64.whl\n```\n\n运行官方提供的测试之后依然会有警告信息：\n\n```bash\n\n(tf) [shixing@yoga-laptop ~]$ python -c \"import tensorflow as tf;print(tf.reduce_sum(tf.random.normal([1000, 1000])))\"\n20XX-XX-XX XX:XX:XX.XXXXXX: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\ntf.Tensor(-1338.4773, shape=(), dtype=float32)\n```\n\n[stackoverflow 的这个回答](https://stackoverflow.com/questions/47068709/your-cpu-supports-instructions-that-this-tensorflow-binary-was-not-compiled-to-u) 说，需要从源码编译 tensorflow，具体的方法在[官网也有](https://www.tensorflow.org/install/source#linux)，但是实在是太麻烦了，~~（还是鸽了）~~ 下次单独写成一篇吧。"}]],["rss",[{"slug":"war-in-2023-between-hamas-and-israel","filename":"2023-11-19-war-in-2023-between-hamas-and-israel.md","date":"2023-11-19","title":"·如是我闻 | 2023年哈马斯-以色列战争","layout":"post","keywords":["rss"],"excerpt":"更新至 2023 年 10 月 27 日","content":"\n\u003e 更新至 2023 年 11 月 4 日，~~大约每周更新~~ 实在更新不动了，急需批量导出 Pocket 收藏夹的脚本~\n\n\n## 2023年10月7日·冲突爆发·哈马斯对以色列南部发动地面突击\n\n### 地面突击与暴行个案\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231007-%E5%93%88%E9%A9%AC%E6%96%AF%E5%87%BA%E5%85%B6%E4%B8%8D%E6%84%8F%E6%94%BB%E5%87%BB%E4%BB%A5%E8%89%B2%E5%88%97-%E5%8A%A0%E6%B2%99%E7%88%86%E5%8F%91%E5%85%A8%E9%9D%A2%E6%88%98%E4%BA%89)] （2023年10月7日）哈马斯出其不意攻击以色列 加沙陷入全面战争\n\n- 10月7日国际标准时间3时30分，巴黎时间6时30分，近至边境定居点远至特拉维夫和耶路撒冷近郊，密集发射5000多枚火箭弹。\n- 哈马斯枪手趁以色列措手不及，乘坐机动车，船只，甚至机动滑翔伞，利用 (?) 以色列在加沙地带周围设置的严密安全屏障，袭击军事阵地或街头平民。\n- 在靠近加沙边境的以色列小镇斯德洛特，一名法新社记者清点了街上散落的至少八具平民尸体。\n- 记者看到数十名武装的巴勒斯坦人围绕着一辆燃烧的坦克车庆祝胜利，其他人驾驶着以色列悍马车穿过加沙城的街道。\n- 哈马斯武装组织埃泽丁·卡萨姆旅声称在一段视频中声称“抓获了数名敌方士兵”，视频显示至少三名明显受到惊吓的便衣男子被一队面部模糊的武装人员拘留。\n- 巴勒斯坦伊斯兰圣战组织的军事组织圣城旅也宣称他们扣押了“许多”以色列士兵。\n\n`消息` [[NiKITa](https://twitter.com/NiKiTa_32156/status/1710611667514720683), [鏟蛇人IAN（依銀）](https://twitter.com/alinaworld1122/status/1711453922588844061), [清道夫](https://twitter.com/qingdaofu0/status/1710664381770633472), [ZrA2zumi](https://twitter.com/a2zumi/status/1710560184643547208)] 哈马斯无人机空投炸弹击毁以军梅卡瓦坦克，另有以军基地中的梅卡瓦坦克被俘获后击毁\n\n`消息` [[加拿大国际广播](https://twitter.com/RCIZhongwen/status/1711534572901450088)] 加籍和平组织人士恐被绑架，其子呼吁加拿大关注\n\n`消息` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1711533992313339923)] Adar 和 Itay Berdychivsky 來自 Kfar Aza，是以色列軍人，家中備有武器。當哈馬斯恐怖份子靠近他們家時，他們將10個月大的雙胞胎藏在一個安全密室中，並決定轉移恐怖份子們的注意力。他們成功地擊斃了7名恐怖份子，不幸的是，這對夫婦還是被殺害了。孩子們後來被親戚找到，他們倖免於難。\n\n`消息` [[AP](https://twitter.com/AP/status/1711448142762201431)] 以色列救援服务 Zaka 称，超过 100 具尸体在一处农业社区被发现。\n\n`传言` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1711498539040141358)] 以色列公布行车记录仪影像，以色列汽车司机行驶中被哈马斯民兵打死。\n\n`消息` [[唐丹鸿](https://twitter.com/DanHongTang/status/1711386366192300284)**,** [MonicaLMarks](https://twitter.com/MonicaLMarks/status/1711049323973140669)] 被哈马斯劫持的人质之一 Vivian Silver 是一位倡导和平的女性。她住在以色列最南端靠近加沙的一个基布兹，公认的以色列领土内，不是定居点。她被哈马斯绑架到了加沙。\n\n`传言` [**[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1712595685688631573),** i24news] 目擊者回憶哈馬斯對孕婦、兒童和無辜以色列平民的殘忍行為的可怕細節。[[视频](https://twitter.com/i/status/1712595685688631573)]\n\n`消息` [**[唐丹鸿](https://twitter.com/DanHongTang/status/1712843855937044711)**] 正在书桌前写“以色列-加沙战争手记”，突然警报响了。街上的路人跑来我们楼躲避。女儿昨天就去了好友家，在一幢建国前修的包豪斯建筑里，没有掩体。大卫给女儿打电话，说警报解除就去接她。新闻报道一枚火箭弹落在了Rehovot的一幢民房上。电视一直在采访人质和遇难者家属，再叙危情绝境令人焦灼颤栗。\n\n`观点` [**[唐丹鸿](https://twitter.com/DanHongTang/status/1713617001959084213?utm_source=pocket_saves)**] 共情巴勒斯坦人民和加沙平民，不必共情哈马斯吧，也不必将以色列媒体都说成骗子吧。[[截图](https://pbs.twimg.com/media/F8f9lMuXIAABzG7?format=jpg\u0026name=medium)]\n\n`传言` [[梅森DO](https://twitter.com/MASONDO_TW/status/1713928631880491070?utm_source=pocket_saves)] 隨著擊殺，俘虜，繳獲哈馬斯當日襲擊的人員，越來越多類Gopro的胸口攝影鏡頭出現。恐怖分子闖入奧法基姆市，挨家挨戶殺害平民，包括老人。\n\n`传言` [[Ignatius Lee](https://twitter.com/22HomoPoliticus/status/1713697428887503069)] [#哈马斯](https://twitter.com/hashtag/%E5%93%88%E9%A9%AC%E6%96%AF?src=hashtag_click) 成员在闯入一间房间前朝里面扔了一枚手榴弹，房间里有几名新入伍的女兵被吓得躲在桌子底下。[#哈马斯](https://twitter.com/hashtag/%E5%93%88%E9%A9%AC%E6%96%AF?src=hashtag_click) 成员闯入以后，发现了躲在桌子底下的几名女兵，并现场处决了她们。[#GoPro](https://twitter.com/hashtag/GoPro?src=hashtag_click) 记录下来了这可怕的一幕。\n\n`观点` [[QQ.FM Zhang Lei](https://twitter.com/music3club/status/1713785163350782003?s=20\u0026utm_source=pocket_reader)] 展示哈马斯的罪行，不是拉仇恨，而是声讨恐怖份子的罪行，让世间的人们知道恐怖份子是多么的残忍，那些阻止人们了解真相的，就是恐怖份子的同谋，是最邪恶的人。\n\n`消息` [[Israel Defense Forces](https://twitter.com/IDF/status/1714028835916652675?utm_source=pocket_reader)] Last week, Mia was abducted by Hamas. In the video published by Hamas, they try to portray themselves as humane. However, they are a horrorific terrorist organization responsible for the murder and abduction of babies, children, men, women and the elderly. At this time, we are deploying all intelligence and operational measures for the return of all hostages—including Mia.\n\n`消息` [[Yaxue Cao](https://twitter.com/YaxueCao/status/1714998921074815193?utm_source=pocket_reader), [Lance Forman](https://twitter.com/LanceForman/status/1714761685947298230)] “我們進的第一座房子，一對夫妻跪在地上，手被綁在身後。在餐室另一面，兩個小孩同樣姿勢，男孩大概7歲，女孩6歲的樣子。他們的身體遭到了酷刑。用一下你們的想像，孩子看著父母被酷刑，父母看著孩子被酷刑。這樣做是故意的。當我說酷刑，我是說眼睛被挖出，指頭[被剁掉]。到最後，他們全被射殺。這還不是全部。房間中央是餐桌，這些恐怖份子一邊酷刑這家人，一邊吃這家人為星期六準備的一頓飯。”\n\n`观点` [[约拿坦](https://twitter.com/jiongnasen/status/1714918783922610398?s=20\u0026utm_source=pocket_reader)] 我发自内心地希望他们说的是假的。我对人类已经足够失望了，不需要更多素材。但如果你看过1972年以色列运动员在慕尼黑的遭遇，尤其是发生在Yossef Romano身上的事情，恐怕就很难有足够的信心说这是假的了。[[视频](https://twitter.com/i/status/1714761685947298230)]\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231020-1444625)] 以色列军方说，在以色列被巴勒斯坦激进组织哈马斯绑架到加沙地带的人质，大多数都还活着。\n\n`观点` [[社長劉洋](https://twitter.com/xadr666/status/1715393771117174838?s=20\u0026utm_source=pocket_reader)] 强奸少女，把腿折断，裸体游街欢呼。就这一件事就够了，可以看出所有不同。还有什么好争的。\n\n`消息` [[朱韵和](https://twitter.com/zhu0588/status/1715777122781012397?s=20\u0026utm_source=pocket_reader), [每日邮报](https://www.dailymail.co.uk/news/article-12653435/Israeli-morgue-worker-says-horrors-inflicted-Hamass-victims-worse-Holocaust-including-decapitated-pregnant-woman-beheaded-unborn-child.html)] 以色列停尸间工人讲述的可怕现实\n\n`消息` 2023年10月22号: 《福克斯新闻》驻以色列的记者Trey Yingst\n\n- [[John Zhang](https://twitter.com/JohnZhangSV/status/1716106353469771958?s=20\u0026utm_source=pocket_reader), [Trey Yingst](https://twitter.com/TreyYingst/status/1715805284583551282)] 得以进入紧邻加沙边境的 Kissufim 社区，看到了在那里犹太平民遭屠杀的现场\n- [[John Zhang](https://twitter.com/JohnZhangSV/status/1716112429330186345?s=20\u0026utm_source=pocket_reader), [Trey Yingst](https://twitter.com/TreyYingst/status/1715769709914714336)] 口述哈马斯恐怖分子受审时讲述的经历\n\n`消息` [[王峭岭](https://twitter.com/709wangqiaoling/status/1717863231946097102?s=20\u0026utm_source=pocket_reader), [Israel](https://twitter.com/Israel/status/1717843238319505678)] Rachel Goldberg)这段令人心碎的演讲，她的儿子赫什 (Hersh) 被哈马斯恐怖分子劫持为人质。\n\n`消息` [[visegrad24](https://twitter.com/visegrad24/status/1716569838775103655?utm_source=pocket_reader)] Spokesman of the Israeli government, [@EylonALevy](https://twitter.com/EylonALevy), talking about what he and journalists from across the world saw today when they viewed unreleased videos of the Hamas Massacre of October 7. Some now deny what happened, but we all witnessed the massacre\n\n`观点` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1716948801741783166?utm_source=pocket_reader), [David Patrikarakos](https://twitter.com/dpatrikarakos/status/1716728667177390395)] （2023年10月24日）昨天以色列请了200名记者去观看了屠杀纪实影片。其中一个记者记了这么一段，很值得玩味：西方即便是主打残忍血腥变态的重口R级片，也很少有虐杀动物的镜头，可能是因为动保组织的施压，也可能是市场的要求或者技术原因。人随便虐。或许这就是为什么对杀人甚至杀孩子的反应，没有对杀狗的反应大\n\n`消息` [[朱韵和](https://twitter.com/zhu0588/status/1716741706006376622?s=20\u0026utm_source=pocket_reader), [visegrad24](https://twitter.com/visegrad24/status/1716737563749237030)] 一名负责查明哈马斯大屠杀女性受害者身份的以色列妇女证实，哈马斯恐怖分子强奸了儿童和老年妇女。\n\n`消息` [[visegrad24](https://twitter.com/visegrad24/status/1716874512292327809?s=20\u0026utm_source=pocket_reader)] A Hamas terrorist calls his father from Kibbutz Mefalsim to tell him that he has just killed an Israeli woman and her husband. He says he has killed 10 Jews with his bare hands. “May God protect you,” - his father answers\n\n`传言` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1718877313620930669?s=20\u0026utm_source=pocket_reader), [变态辣椒](https://twitter.com/remonwangxt/status/1719681044616520144?s=20\u0026utm_source=pocket_reader)] 下面的图片是一段关于暴行的描述文字，对暴力心理承受能力不强的请务必谨慎点开。好消息是，这个描述的真实性还需要佐证，而且也存在疑点，比如当初为什么没有公布这些信息，等了这么多天才有描述传出。坏消息是，据说施暴者拍摄了视频，并且从不知道什么时候起已在telegram上广为传播。以色列醫療志願者組織負責人哈扎拉透露，救援人員發現一名嬰兒被哈馬斯在烤箱中烤死。“我們看到烤箱裡有一個小嬰兒……他們把他放進了烤箱。”\n\n`消息` [[John Zhan](https://twitter.com/JohnZhangSV/status/1719377248003018975?utm_source=pocket_reader)g, [Israel](https://twitter.com/Israel/status/1717994285893595177), [visegrad24](https://twitter.com/visegrad24/status/1719310293673578510?utm_source=pocket_reader)] Naama Levy是一名在校大学生，主修外交和化学，她爱唱歌跳舞。10月7号那天，她在紧邻加沙地带的 Nahal Oz 定居点完成观测任务（她可能是一名志愿者或预备役），遭到哈马斯突然袭击而被绑架。\n\n`消息` [[唐丹鸿](https://twitter.com/DanHongTang/status/1719652959229718824?s=20\u0026utm_source=pocket_reader), [新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1719905104210665809?s=20\u0026utm_source=pocket_reader)] 哈马斯自拍的视频：东耶路撒冷的巴勒斯坦人Suhaib， 是一名公交车司机，运载人们参加和平音乐节。他被哈马斯抓住，问清了他是东耶路撒冷的巴勒斯坦人，同样杀了他。尸体十天后被确认。电台有人分享了他的善，他让一个刚下飞机身无分文的人免费乘车从机场到北方。\n\n`消息` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1720731349362081894?s=20\u0026utm_source=pocket_reader), [Sky News](https://twitter.com/SkyNews/status/1720697105025564955)] 哈马斯的创意禽兽行为，杀死一个犹太老人之后把她的尸体po到了她自己的脸书账号上。脸书也就相当于微信朋友圈\n\n`传言` [[John Zhang](https://twitter.com/JohnZhangSV/status/1720647907609858540?s=20\u0026utm_source=pocket_reader), [Israel War Room](https://twitter.com/IsraelWarRoom/status/1720382446506475889)] 10月7号清晨，哈马斯恐怖分子来袭。一家老小 9 口人从房顶的天窗逃脱，父亲 Ariel Livia 断后，最后一刻在天窗出口处被哈马斯击中，年仅 28 岁。英雄父亲 Ariel Livia 安息\n\n### 伤亡数字更新\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231009-1440890)]（2023年10月8日）路透社报道，“伊斯兰圣战组织”（Islamic Jihad）领袖纳哈拉（Ziad al-Nakhala）说，哈马斯向以色列发动袭击后，在加沙地带被掳走的30多名以色列人现由他的武装组织扣押。法新社同日引述德国外交部消息人士说，被哈马斯绑架的人包括几名德国公民，这些德国公民同时持有以色列公民身份。美国有线电视新闻网（CNN）报道，美国一份备忘录显示，至少三名美国人在哈马斯突袭行动中丧命。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/china/story20231009-1440901)]（2023年10月8日）以色列政府称，此次冲突已导致超过600名以色列人死亡、逾2000人受伤。哈马斯已俘虏超过100名以色列人。\n\n`消息` [[AP](https://twitter.com/AP/status/1711530777073316236)] Tribe of Nova 音乐节有 3500 人参加，至少 260 人被杀。\n\n`消息` [[stella沈](https://twitter.com/shokoshen/status/1711474488989339954)] NHK報導至昨天（10月9日）晚上九點為止雙方加起來已有1200人在攻擊和報復攻擊中死亡。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231009-1441178)] （2023年10月9日）加沙卫生部门说，此次冲突导致当地至少560人死亡、2900人受伤。以色列则有超过800人丧命，2300人受伤。此外，还有来自美国、英国、柬埔寨、加拿大、德国、法国等多国的数十名外国人在这场冲突中死伤、失踪或被挟持。\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1711674241521770850)] 泰国政府确认有18名泰国公民在哈马斯对以色列的突袭行动中遇难，尼泊尔亦表示，已有10名该国公民在冲突中丧生。\n\n`传言` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711504788699955704)] 以色列唐人街在脸书上公布了5名失踪中国工人的资料. 他们此前在以色列南部阿什凯隆和斯德罗特工作\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712068223720435718), [法广](https://twitter.com/RFI_Cn/status/1712418133452169603)] （2023年10月11日）文汇报消息，目前失踪中国人中有两人确定遇难。中国通报在以色列遭哈马斯袭击中3死2失踪 或未提中比混血公民\n\n`消息` [**[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711711180119519312?utm_source=pocket_saves)**] （2023年10月10日）目前，在哈马斯的恐怖袭击中至少3名中国人受伤。目前至少4名中国工人失踪。\n\n`传言` [**[章立凡](https://twitter.com/zhanglifan/status/1714078463139647537?s=20\u0026utm_source=pocket_reader)**] 【以色列外交部公布了被哈马斯打死的五名中国人】让中国驻以色列大使馆去认领，迟迟没有回应。\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715132921710075962?s=20\u0026utm_source=pocket_reader), [ItayBlumental](https://twitter.com/ItayBlumental/status/1715119930528477384)] 哈马斯恐怖分子谋杀了28名在以色列生活和工作的泰国公民。另有16人被枪击和手榴弹炸伤，17人被绑架到加沙\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231021-%E4%BB%A5%E8%89%B2%E5%88%97%E5%9B%BD%E9%98%B2%E5%86%9B%E8%AF%81%E5%AE%9E%E8%87%B3%E5%B0%91210%E4%BA%BA%E5%9C%A8%E5%8A%A0%E6%B2%99%E5%9C%B0%E5%B8%A6%E8%A2%AB%E5%8A%AB%E6%8C%81%E4%B8%BA%E4%BA%BA%E8%B4%A8?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月21日）以色列国防军证实至少210人在加沙地带被劫持为人质\n\n### 以色列南部音乐节遇袭\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1710662071501615607)] （北京时间2023年10月8日）巴勒斯坦武装组织哈马斯宣布向以色列发动“阿克萨洪水”行动，动用火炮和无人机发动袭击，并在街头向平民开枪。\n\n- 视频显示，攻入以色列后，哈马斯掠夺了大量妇女和物资运回加沙。\n- 视频中的女孩被确认，名叫Noa. 哈马斯发动袭击时，她正在当地举行的和平音乐节上\n- 另一名在音乐节上遇袭的女子来自德国，沙尼-卢克，30岁，是一位母亲。在今天一段广为流传的视频中，她的尸体被哈马斯赤裸着拖回了加沙，一个哈马斯用她的身体垫脚，另一个则拽着她的头发。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231030-%E8%A2%AB%E5%93%88%E9%A9%AC%E6%96%AF%E7%BB%91%E6%9E%B6%E6%B8%B8%E8%A1%97%E7%9A%84%E5%BE%B7%E4%BB%A5%E5%8F%8C%E5%9B%BD%E7%B1%8D%E5%A5%B3%E7%BA%B9%E8%BA%AB%E5%B8%88%E8%A2%AB%E8%AF%81%E5%AE%9E%E5%8E%BB%E4%B8%96?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty), [悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1718914664682451212?s=20\u0026utm_source=pocket_reader)] （2023年10月30日）被哈马斯绑架游街的德以双国籍女纹身师被证实去世\n\n`传言` [**[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712407448491897187?utm_source=pocket_saves)**] 10月7日哈马斯袭击当天的音乐节现场视频。【注意】视频中有极度血腥的画面，为防止内容警告失效，前6秒为空白。[[视频](https://twitter.com/i/status/1712407448491897187)]\n\n`消息` [[AP](https://twitter.com/AP/status/1711487269247594695)] 一名 Tribe of Nova 音乐节幸存者讲述其经历，包括灌木中藏身 8 小时 [[视频](https://twitter.com/i/status/1711487269247594695)]\n\n`消息` [[visegrad24](https://twitter.com/visegrad24/status/1716799161675178060?utm_source=pocket_reader)] 22-year-old Lynn Daphne and Zio Frankel were murdered by Hamas at the music festival\n\n`观点` [[夹边沟炊事员](https://twitter.com/larouhaochi/status/1720799540964634697?utm_source=pocket_reader)] 多么讽刺，一个宣扬和平的音乐节，去的都是世界各国同情加沙的小左，被恐怖分子突突完了。如果这些小左没被突突估计现在也在千里之外和其他小左一样，哭着喊着让以色列要停火。\n\n### **一名中以混血女子被哈马斯掳走**\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/china/story20231009-1440901)] 以色列驻港总领事馆向香港01证实，被掳女子名为阿伽玛尼（Noa Argamani），今年26岁，父亲是以色列人，母亲是中国人。她在以色列参加聚会期间被哈马斯分子绑架。\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711021331439817101)] 10月8日晚，以色列驻华大使馆证实，被哈马斯掠走的Noa是一名在北京出生的中以混血。她当时正在参加当地的一个和平音乐节。目前，在微博上无法直接搜索到以色列驻华使馆的账号。在关于中以混血儿Noa被绑架的新闻下方，有中国网友向Noa的父亲行纳粹礼\n\n`观点` [[自由亚洲电台](https://twitter.com/RFA_Chinese/status/1711471971001639074)] 中国该不该救诺雅？\n\n### 卡法-阿扎地区对未成年人的战争罪\n\n`传言` [[变态辣椒](https://twitter.com/remonwangxt/status/1711777333445640506?utm_source=pocket_saves)] （2032年10月10日）以色列報告發現了四十具嬰兒的屍體，其中一些被斬首\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1712322850844250227)[,](https://twitter.com/JohnZhangSV) [CNN](https://www.cnn.com/middleeast/live-news/israel-hamas-war-gaza-10-11-23/h_a63b0fd57f2df717147ea8e26a2f758c)] （2023年10月11日）Babies and toddlers were found with “heads decapitated” in Kfar Aza, Netanyahu spokesperson says\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1712347875752181957), FOX] 这是拜登总统谈到婴儿被斩首的事件，他说：\"我从来没想过我会看到、经过证实的恐怖分子将儿童斩首的照片......”\n\n`传言` [[Michael Anti,](https://twitter.com/mranti/status/1712301644346777723) [The Spectator Index](https://twitter.com/spectatorindex/status/1712286535050269124)] 白宫发言人表示，美国官员尚未看到或证实以色列发生暴行的照片，并表示拜登总统关于被斩首儿童的评论是基于以色列的声明和媒体报道。\n\n`观点` [[马聚](https://twitter.com/majuismail1122/status/1712317519145406643)] 这事儿白宫也能不慎重，太让人震惊啦. 多少人，义愤填膺的，这可把人害惨了\n\n`观点` [[说真话的徐某人](https://twitter.com/xumouren_yt/status/1712339678878195837?utm_source=pocket_saves)] 其实拜登原话说的是：children ，估计死者大于1岁了，不能算babies。但这事的关键其实在于：到底认不认为哈马斯有这么变态。我认为它有，而且这还不是它最变态的时刻。如果打算以哈马斯没杀婴儿/儿童，或许没杀那么多来减轻它的罪恶感。那么这变态已经传播到了全世界。\n\n## 以色列反击\n\n### 情报与溯源\n\n`观点` [[BBC](https://www.bbc.com/zhongwen/simp/world-67045776?at_campaign_type=owned\u0026at_ptr_name=twitter\u0026at_format=link\u0026at_medium=social\u0026at_bbc_team=editorial\u0026at_link_type=web_link\u0026at_campaign=Social_Flow\u0026at_link_id=03507548-65DA-11EE-91B8-D612D99D5CC3\u0026at_link_origin=bbcchinese)] 《分析：哈马斯袭击震惊以色列，但接下来会发生什么？》\n\n- 上个月，当数百名巴勒斯坦人开始加入加沙地带安全围栏旁的抗议活动，以提醒人们五年前开始的大规模示威活动时，人们认为这是哈马斯放行的活动，旨在迫使以色列做出更多让步，并获得来自卡塔尔（卡达）的金援。现在看来，这些小规模的集会似乎是为了转移注意力。一些人猜测他们实际上是否是在渗透之前，对安全围栏进行了解。\n- 透过这次最新的突击，哈马斯似乎热衷于再次提升其作为激进组织的名声——其纲领仍然致力于要摧毁以色列。\n- 毫无疑问，以色列认为这场战争可能会在多个前线上爆发。最糟糕的情况是，它可能会吸引强大的黎巴嫩激进组织真主党（Hezbollah）的参与。\n- 巴勒斯坦激进分子希望将捉拿的以色列士兵和平民，作人肉盾牌或交换筹码，这也是一个严重的麻烦。\n- 尽管对该地带的全面检视可能还有一段时间，但毫无疑问，以色列的情报和安全机构将审视自己，为什么他们没有预见到这一行动的到来，以及为什么没有设法阻止其巨大后果。\n\n`观点` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231010-%E5%93%88%E9%A9%AC%E6%96%AF%E5%A4%A7%E9%87%8F%E7%9A%84%E6%AD%A6%E5%99%A8%E6%98%AF%E6%80%8E%E4%B9%88%E6%9D%A5%E7%9A%84)] 哈马斯大量的武器是怎么来的\n\n`传言` [[Jacobson](https://twitter.com/jakobsonradical/status/1714096117707939891?s=20\u0026utm_source=pocket_reader)] 这最好是护栏，而不是别的什么东西。扬州江都诚德钢管、龙川钢管出口倍增\n\n`观点` [[德国之声](https://www.dw.com/zh/%E7%AD%96%E5%88%92%E8%A2%AD%E5%87%BB%E4%BB%A5%E8%89%B2%E5%88%97-%E5%93%88%E9%A9%AC%E6%96%AF%E6%8C%87%E6%8C%A5%E5%AE%98%E4%BD%95%E8%AE%B8%E4%BA%BA%E4%B9%9F/a-67079562)] 策划袭击以色列 哈马斯指挥官何许人也？穆罕默德·德伊夫（Mohammed Deif）\n\n- 迄今的德伊夫照片只有三张\n- 德伊夫的下落不明。以色列空袭加沙的一处房屋属于德伊夫的父亲。其兄弟和另外两名家庭成员丧生。\n- 德伊夫1965年出生于阿拉伯-以色列战争后建立的汗尤尼斯难民营（Khan Yunis Refugee Camp），原名穆罕默德·马斯里（Mohammed Masri）。在1987年开始的第一次[巴勒斯坦大起义](https://www.dw.com/zh/%E4%BD%A0%E5%BA%94%E8%AF%A5%E7%9F%A5%E9%81%93%E7%9A%84%E5%B7%B4%E5%8B%92%E6%96%AF%E5%9D%A6%E5%A4%A7%E8%B5%B7%E4%B9%89/a-41712830)（Intifada）期间加入哈马斯后，被称为穆罕默德·德伊夫。\n- 哈马斯消息人士表示，在以色列的暗杀行动中，德伊夫失去一只眼睛，一条腿受重伤。2014年，他的妻子、七个月大的儿子和三岁的女儿在以色列空袭中丧生。\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1711203691469189224)] 以色列这次情报到应变还是有点拉，和以往印象大相径庭，以至于产生“内塔养蛊”阴谋论…一是承平日久，二是以色列神话来源，梅厄贝京沙龙这些狠人，其实都是同一代东欧锻炼的阿什肯纳兹犹太人，背景环境不可复制。\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1711203691469189224)] 路透报道近年以色列提供大量工签允许加沙人去西岸/以色列工作-工资能翻10倍。哈马斯成功扮演被打怂形象，以色列以为缓和能释放善意，不料对方要干票大的，是此次误判根源。大家都习惯指责强势方咄咄逼人，幻想他们退让释放善意来解决问题。再次证明此仇已无法化解，指望跟哈马斯谈和解过于乡愿\n\n`消息` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1712256113276506311), [Inty热点新闻](https://twitter.com/__Inty__/status/1712490134204186940)] Ali Baraka是哈馬斯高級官員，海外國家關係主管。 在接受今日俄羅斯採訪時他表示：我們秘密計劃這次入侵已有兩年，只有不到 5 名哈馬斯高階領導人確切知道會發生什麼事以及何時發生。[[视频](https://twitter.com/i/status/1712256113276506311)]\n\n`传言` [[Michael Anti](https://twitter.com/mranti/status/1711725838293455280)] 伊朗最高领袖哈梅内伊在一次罕见的讲话中表示，虽然伊朗支持巴勒斯坦，但认为伊朗是袭击的幕后黑手是错误的。他表示，假设袭击者不是巴勒斯坦人，将是一个误判。所以西方和以色列判断是对的，伊朗不是影舞者。\n\n`传言` [**[三日月やよい](https://twitter.com/Willoug60125499/status/1712762793970290928)**] 刚看完NBC的节目，美国官方根据信息源，越来越倾向于，伊朗虽然一直支持并给哈马斯提供资金训练装备技术，但伊朗高级领袖此次并不知情，也被哈马斯惊到了。\n\n`消息` [[AP](https://apnews.com/article/israel-palestinians-hamas-north-korea-weapons-703e33663ea299f920d0d14039adfbb8?taid=6530b41ed1045700016ae3cc\u0026utm_campaign=TrueAnthem\u0026utm_medium=AP\u0026utm_source=Twitter)] 哈马斯可能在袭击中使用了北朝鲜的武器。\n\n### 以色列动员\n\n`消息` [[haivri](https://twitter.com/haivri/status/1710902846588166311)] 临时征召的以色列预备役士兵聚集在集合点，唱以色列国歌。[[视频](https://twitter.com/i/status/1710902846588166311)]\n\n`消息` [[War Mapper](https://twitter.com/War_Mapper/status/1711579273306206596)] 最初攻击 72 小时后，以军重夺南方各社区控制权。然少数敌民兵仍在境内，清剿工作仍在进行。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231010-%E4%BB%A5%E8%89%B2%E5%88%97%E5%8F%91%E6%9E%AA%E6%AD%A6%E8%A3%85%E8%BE%B9%E5%A2%83%E5%B1%85%E6%B0%91?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月10日）以色列发枪武装边境居民\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1711627475783135316)] 以色列友人清光美國軍品店商品，準備回國打仗（Source: 極光訓練）\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1711751012162183316?utm_source=pocket_saves)] （2023年10月10日）American Special Operations Forces trained in hostage situations have arrived in Israel. \n\n`传言` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1712225906494709963)] Footage of Israeli forces dropping a depth charge on a Hamas diver attempting to infiltrate via the coast. [[视频](https://twitter.com/Osinttechnical/status/1712225906494709963)]\n\n`传言` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1712608042447937841)] 一家位於約旦河西岸城鎮Huwara的比薩店店主認為使用一名在最近的恐怖突襲中被哈馬斯俘獲並目前被關押在加沙的以色列人質的形象製作比薩廣告是個有趣的點子；而以色列國防軍顯然不這麼認為，他們抓捕了店主並用推土機摧毀了這家餐廳。\n\n`传言` [[狗哥狗哥DogChinaShow](https://twitter.com/DogChinaShow/status/1712845036461740180)**,** [The Mossad: Satirical](https://twitter.com/TheMossadIL)] 以色列审问一名哈马斯恐怖分子，一名00后。Watch how he nonchalantly says \"we raped them\" and \"we cut off their heads\". [[视频](https://twitter.com/i/status/1712834788116050411)]\n\n`传言` [[Alex Chen](https://twitter.com/AlexChe31659937/status/1713920390651596986?s=20\u0026utm_source=pocket_reader)] 自哈马斯袭击以色列后已有超过16.5万以色列人从海外回国，绝大部分重新加入以色列国防军规模已从18万人急剧扩大到54万人。总统赫尔佐格展示以军缴获的一l哈马斯行动手册记录了如何闯入民宅找到平民以及如何绑架、折磨平民的具体指示有力反驳了哈马斯领导人阿鲁里关于哈马斯没有参与杀戮和绑架的谎言。\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1714996790334820600?s=20\u0026utm_source=pocket_reader)] Israeli Media is reporting that some of the roughly 360,000 IDF Reservists that were Called-Up to Active Service following the Hamas Surprise Attack have begun to be Released Home to their Families, but have been told to prepare for Immediate Reactivation in the coming Days and Weeks ahead.\n\n### 以色列封锁加沙地带\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711383989599056308), [联合早报](https://www.zaobao.com.sg/news/world/story20231009-1441178), [德国之声](https://twitter.com/dw_chinese/status/1711451209523982660), [BBC](https://twitter.com/bbcchinese/status/1711654019268001966?s=20)] （2023年10月7日）以色列国防部长表示已经对加沙进行了全面的围困，并将切断加沙地带的水，食物和电以及一切能源。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231009-1441178)] （2023年10月9日）过去两天，以色列已动员30万名预备役军人，这是以军可能很快会对加沙地带发动地面攻势的迹象。以色列官员未证实是否会对加沙展开地面攻势。\n\n`观点` [[文昭](https://www.youtube.com/watch?v=P_IItqtZRKk)] 以色列的復仇計劃：第六次中東戰爭為什麼是一場前所未有的「熬」戰？认为以军将对加沙地带围而不攻，且将一并处理约旦河西岸。\n\n`观点` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231010-%E4%BB%A5%E8%89%B2%E5%88%97%E5%89%8D%E6%83%85%E6%8A%A5%E9%AB%98%E5%AE%98-%E6%B6%88%E7%81%AD%E5%93%88%E9%A9%AC%E6%96%AF%E9%99%A4%E4%BA%86%E5%9C%B0%E9%9D%A2%E8%BF%9B%E6%94%BB%E5%88%AB%E6%97%A0%E9%80%89%E6%8B%A9?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 以色列前情报高官：消灭哈马斯除了地面进攻别无选择\n\n`传言` [[spectatorindex](https://twitter.com/spectatorindex/status/1712268428609036542)] BREAKING: Reuters reports that Egypt has rejected the setting up of safe corridors for refugees fleeing the Gaza Strip\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712807494378995733), [BBC](https://twitter.com/bbcchinese/status/1712673575608651852)] （2023年10月12日）联合国发言人表示，以色列军方已告知联合国，居住在瓦迪加沙（Wadi Gaza）以北的所有人都应在24小时内迁移到加沙南部。该警告是在加沙和耶路撒冷时间午夜（07:00 GMT+8）前发出的。\n\n`消息` [[NEXTA](https://twitter.com/nexta_tv/status/1712830961287631071)] （2023年10月13日）Bild shows footage of IDF work: the Israeli military has regained control of one of the Israeli bases seized by terrorists.\n\n`传言` [**[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712807494378995733)**] 哈马斯方面以“以方虚假政治宣传”为由促请巴勒斯坦平民不要离开。联合国批评称以色列要求民众24小时内南撤的行为是“强人所难”。此前，哈马斯方面就表示，哈马斯和巴勒斯坦人不会同意从人道走廊离开加沙。\n\n`传言` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1713267311061192930?utm_source=pocket_saves)] （2023年10月14日）以色列国防部画面，哈马斯设置路障阻止巴勒斯坦人南逃。\n\n`消息` [[德国之声](https://www.dw.com/zh/%E4%BB%A5%E8%89%B2%E5%88%97%E6%8E%A8%E8%BF%9F%E5%8F%91%E5%8A%A8%E5%9C%B0%E9%9D%A2%E8%BF%9B%E6%94%BB-%E4%B8%AD%E5%9B%BD%E7%89%B9%E4%BD%BF%E5%B0%86%E8%AE%BF%E4%B8%AD%E4%B8%9C/a-67102422), [法广](https://twitter.com/RFI_Cn/status/1713887793641136292?utm_source=pocket_saves)] （2023年10月15日）以色列军方原定于周末开始进攻，但由于多云天气，能见度差，令军机和无人机带难以给地面攻击提供空中支持，进攻被推迟。恢复对加沙南部供水 百万加沙人继续向南转移\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1713646764081721530?utm_source=pocket_saves)]（2023年10月15日）以色列驻美大使称以色列不打算占领加沙地带\n\n`消息` [[AP](https://twitter.com/AP/status/1713821413360959541?s=20\u0026utm_source=pocket_saves)]（2023年10月16日）All eyes are on Egypt's Rafah crossing, where international mediators appeared close to a deal for a cease-fire to allow aid in and foreigners to exit Gaza, but the Israeli prime minister's office said there was no cease-fire.\n\n`观点` [[BBC](https://www.bbc.com/zhongwen/simp/world-67155144?at_bbc_team=editorial\u0026at_campaign=Social_Flow\u0026at_campaign_type=owned\u0026at_format=link\u0026at_link_id=1F21CE1A-6E69-11EE-83DE-EAE8D89D5CC3\u0026at_link_origin=bbcchinese\u0026at_link_type=web_link\u0026at_medium=social\u0026at_ptr_name=twitter\u0026utm_source=pocket_reader)] 以色列步伐突然放缓 攻入加沙前有何盘算\n\n`观点` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231020-1444375)] 以色列国防部长加兰特说，以色列军队很快就会从巴勒斯坦飞地“里面”看到一切，这表明以色列旨在消灭巴勒斯坦激进组织哈马斯的地面战可能已箭在弦上。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231020-1444589)] 埃及安全人士透露，埃及已经拆除了与加沙地带交界处附近的混凝土块。这给被困在加沙的巴勒斯坦人带来了希望，他们亟需的救援物资或许很快就能开始进入加沙。\n\n`传言` [[John Zhang](https://twitter.com/JohnZhangSV/status/1715740142672208315?s=20\u0026utm_source=pocket_reader)]  （2023年10月21日）以色列空军今天再次在加沙地带北部投放传单，其中写道：“致加沙居民： 你们在瓦迪加沙以北的存在正在将你们的生命置于危险之中。任何选择不从加沙地带北部撤离到加沙地带南部的人都可能被认定为恐怖组织的合作伙伴。”\n\n`消息` [[联合早报](https://twitter.com/zaobaosg/status/1715639071698035009?s=20\u0026utm_source=pocket_reader)] 美国驻以大使馆在社交媒体平台贴文，称已“收到信息”，位于加沙地带和埃及边境的拉法过境点，将在星期六（10月21日）上午10时（新加坡时间星期六下午3时）开放。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231022-1444847)] （2023年10月21日）以色列首次开放位于埃及和加沙地带边境的拉法口岸，允许少量急需的援助物资进入加沙地带，但在20辆卡车物资进入加沙后迅速关闭口岸。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231022-1444925)] 联合国官员称，首批援助物资已在星期六（10月21日）运抵加沙南部，但关键的水资源仅够2万多加沙人使用一天，当地的人道危机依旧严峻。\n\n`消息` [[联合早报](https://twitter.com/zaobaosg/status/1716235028252799487?s=20\u0026utm_source=pocket_reader)] 以色列国防部长加兰特说，以军即将对加沙地带发动的地面攻势可能会持续数月。\n\n`消息` [[美国之音](https://twitter.com/VOAChinese/status/1718618605573582869)]（2023年10月29日）联合国近东巴勒斯坦难民救济和工程处 （ UNRWA ）说有数千名加沙居民闯入该机构的仓库和分发中心，拿取面粉和其他基本生活用品。路透社视频显示加沙民众28日在汗尤尼斯 Khan Younis从一个联合国仓库拿走食品等援助物品。\n\n`观点` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1718868895225065605?s=20\u0026utm_source=pocket_reader)] 这是好事，已经有多人反映联合国援助物资被哈马斯或者与哈马斯串通的联合国人员控制，或者高价倒卖赚取经费，或者直接为哈马斯所用。比如下面这个家人在加沙的女孩：我看很多搬物资的都是小孩子，这样分配总比被恐怖组织集中分配要强，这说明哈马斯的控制正在削弱，有救了！\n\n`错误` [[ABC](https://twitter.com/ABCChinese/status/1719285647754559828), [悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1719322514843976045?s=20\u0026utm_source=pocket_reader)] ~~救助儿童会和联合国儿童基金会等机构认为，自战争爆发三周以来，巴勒斯坦儿童接近3000名儿童死亡。想象一下，如果每周有1000名美国儿童被杀会怎样。世界的反应会完全不同。~~澳洲ABC中文部门翻译的这篇英文文章的作者，他援引save the children慈善机构和联合国儿童基金会的报告说，以色列过去三周打死了三千加沙儿童，一周一千，还写在标题里。一查， 这两个机构报告里援引的数据来源都是哈马斯的卫生部，而且援引得毫无保留。知道加沙医院的事为啥没人提了吧\n\n### 以色列空袭加沙地带\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711441464180281512)] 目前（10月9日），以色列军方提醒所有以色列公民储备在紧急情况下足够维持 72 小时的水和食物。\n\n`传言` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1711410842342735982)] 空袭视频 [[视频1](https://twitter.com/i/status/1711410842342735982)]\n\n`传言` [[Reddit](https://www.reddit.com/r/LOOK_CHINA/comments/172wj4z/2023%E5%B9%B410%E6%9C%888%E6%97%A5%E5%93%88%E9%A9%AC%E6%96%AF%E9%A2%86%E5%AF%BC%E4%BA%BA%E8%89%BE%E6%9B%BC%E5%B0%A4%E5%B0%BC%E6%96%AF%E8%A2%AB%E6%96%A9%E9%A6%96%E6%8D%AE%E6%8A%A5%E9%81%93%E4%BB%96%E7%9A%84%E5%B0%B8%E4%BD%93%E6%98%AF%E5%9C%A8%E4%B8%80%E5%BA%A7%E6%8D%AE%E7%A7%B0%E9%81%AD%E5%88%B0%E4%BB%A5%E8%89%B2%E5%88%97%E5%86%9B%E9%98%9F%E8%A2%AD%E5%87%BB%E7%9A%84%E6%88%BF%E5%B1%8B%E5%BA%9F/), [NiKITa](https://twitter.com/NiKiTa_32156/status/1710941202286289248), [TheMossadIL](https://twitter.com/TheMossadIL/status/1711274130320826692)] 2023年10月8日哈马斯领导人艾曼·尤尼斯被斩首\n\n`传言` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711443298764587454)] 10月9日，作为对哈马斯恐怖袭击的反击，以色列对加沙地带进行了多次轰炸，摧毁了多处主要建筑，同时造成了大量平民和儿童丧生。超过 680 人死，超过 3700 人伤 [[视频](https://twitter.com/i/status/1711443298764587454)]\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711443298764587454)] 9日稍晚间哈马斯称，针对以色列的轰炸，他们将处决一名人质。\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711389099574059210)] 10月9日，加沙居民控诉以色列对加沙地带进行的报复性轰炸。而在两天前，哈马斯在这条街上拖着珊妮·卢克的尸体庆祝着他们的胜利。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231010-%E4%BB%A5%E8%89%B2%E5%88%97%E6%8A%A5%E5%A4%8D-2%E5%90%8D%E5%93%88%E9%A9%AC%E6%96%AF%E9%AB%98%E5%B1%82%E8%A2%AB%E5%87%BB%E6%AF%99?utm_source=pocket_saves), [new27brigade](https://twitter.com/new27brigade/status/1712613238402343415), [OSINTdefender](https://twitter.com/sentdefender/status/1712537800833380455)] （2023年10月9日）哈马斯军事领导人之一的辛瓦尔（Yahya Sinwar），在以国空袭轰炸中身亡。巴勒斯坦媒體現已證實。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231010-%E4%BB%A5%E8%89%B2%E5%88%97%E6%8A%A5%E5%A4%8D-2%E5%90%8D%E5%93%88%E9%A9%AC%E6%96%AF%E9%AB%98%E5%B1%82%E8%A2%AB%E5%87%BB%E6%AF%99?utm_source=pocket_saves) ] （2023年10月10日）2名哈马斯高层被击毙，分别为沙马拉（Jawad Abu Shamala）和穆阿马尔（Zakaria Abu Muammar）。IDF指出\n\n- 沙马拉掌管哈马斯的资金，负责筹措并运用资金投入到加萨地区内外的恐怖行动\n- 穆阿马尔则是哈玛斯政治局成员，是该组织内部与其他加萨地区恐怖组织协调的负责人\n\n`传言` [[NiKITa](https://twitter.com/NiKiTa_32156/status/1712070154996380043)] 以色列「梅納特茨」改型M270多管火箭向加薩走廊哈馬斯組織開火。[[视频](https://twitter.com/i/status/1712070154996380043)]\n\n`传言` [[Ukrainian Front](https://twitter.com/front_ukrainian/status/1712830932850290912)] Allegedly, footage of the detonation of rockets hidden in underground tunnels by Hamas militants after another strike by the Israeli Air Force [[视频](https://twitter.com/i/status/1712830932850290912)]\n\n`传言` [[川和 koi iok](https://twitter.com/koiiok17/status/1713320181458735604?utm_source=pocket_saves), [OSINTtechnical](https://twitter.com/Osinttechnical/status/1713241560752533662)] Salah Al Deen Gaza Wadi bridge explosion tweet. 一个军事博主的分析，我也觉得这样的爆炸规模和以色列战机的武器完全不匹配，两千镑到五百磅的炸药至少能掀起一栋楼高的灰尘。\n\n`消息` [[昭明](https://twitter.com/ZhaoMingObserve/status/1714200869737246930?s=20\u0026utm_source=pocket_reader), [Israel Defense Forces](https://twitter.com/IDF), [Israeli Air Force](https://twitter.com/IAFsite/status/1714136061289300196)] （2023年10月16日）夜间以色列空军空袭了：1. 一个哈马斯军事总部；2. 一个金融支持哈马斯的银行\n\n`消息` [[Israel Defense Forces](https://twitter.com/IDF/status/1714289932842488024?s=20\u0026utm_source=pocket_reader)] （2023年10月17日）以色列空军消灭了 Ayman Nofal，哈马斯高级指战员\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714897746711433488?s=20\u0026utm_source=pocket_reader)] 迄今为止，以色列在加沙地带的空袭中打死了哈马斯中央政治局的四名委员\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714885841007661178?s=20\u0026utm_source=pocket_reader), [The Mossad: Satirical](https://twitter.com/TheMossadIL/status/1714947740822581331?s=20\u0026utm_source=pocket_reader)] （2023年10月19日）巴勒斯坦媒体报道，哈马斯中央政治局常委贾米拉·尚蒂今天上午在以色列的空袭中被炸死。 也是巴勒斯坦国会议员。\n\n`传言` [[蔡慎坤](https://twitter.com/cskun1989/status/1715098497761099887?utm_source=pocket_reader)] 以色列国防军消息，哈马斯最高领导人伊斯梅尔•哈尼亚的儿子哈兹姆•伊斯梅尔•哈尼亚在17日以色列国防军对加沙的袭击中丧生。至于哈尼亚本人有消息以色列并不打算击毙，而是从卡塔尔活捉回以色列受审，从而挖出这次哈马斯恐袭背后指示者。\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715048266805703095?s=20\u0026utm_source=pocket_reader)] 以色列空军打死了加沙地带巴勒斯坦安全部队指挥官吉哈德·穆海森少将。\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715131932517040621?utm_source=pocket_reader)**,** [川和 koi iok](https://twitter.com/koiiok17/status/1715352224321372560?s=20\u0026utm_source=pocket_reader), [OSINTdefender](https://twitter.com/sentdefender/status/1715339342124572745), [张平](https://twitter.com/pingzhang632/status/1715456107831754802?s=20\u0026utm_source=pocket_reader)] 昨天哈马斯又叫说自己的东正教堂被以色列空袭，又死了一百多人，这次没八百。结果天一亮 now appears to have only suffered Moderate Damage and was not the Actual Target of the Strike\n\n`传言` [[IDF](https://twitter.com/IDF/status/1715886726160204049?s=20\u0026utm_source=pocket_reader), [昭明](https://twitter.com/ZhaoMingObserve/status/1716369655491911729?s=20\u0026utm_source=pocket_reader)] 突袭了约旦河西岸安萨尔清真寺，从地道内缴获大量弹药，以空军随即轰炸了这座清真寺。以色列空军空袭 Jenin 的 Al-Ansar 清真寺，声称此处为武装分子指挥部\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231022-%E4%BB%A5%E8%89%B2%E5%88%97%E5%AF%B9%E5%8A%A0%E6%B2%99%E7%9A%84%E8%A2%AD%E5%87%BB%E9%80%A0%E6%88%90%E6%95%B0%E5%8D%81%E4%BA%BA%E6%AD%BB%E4%BA%A1?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 以色列对加沙的袭击造成数十人死亡\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1716453106534490355?s=20\u0026utm_source=pocket_reader)] “我们没有足够的裹尸布”——加沙撤离区儿童遭空袭，巴勒斯坦死者家属迁怒哈马斯\n\n`传言` [[极光](https://twitter.com/Aurora107E/status/1717835089726644559?s=20\u0026utm_source=pocket_reader)] 以色列国防军又击毙了哈马斯西汗尤尼斯营指挥官马德哈特·穆巴舍尔。\n\n`消息` [[IDF](https://twitter.com/IDF/status/1717623428935483740?s=20\u0026utm_source=pocket_reader)] IDF fighter jets struck 3 senior Hamas operatives in the Daraj Tuffah Battalion.\n\n`消息` [[昭明](https://twitter.com/ZhaoMingObserve/status/1717858396974784692?s=20\u0026utm_source=pocket_reader), [IDF](https://twitter.com/IDF/status/1717840051491541077)] 以色列空军播报最新前天轰炸哈马斯坑道视频，画面清晰可见引爆了坑道内弹药二次爆炸，火焰黑烟从通风口汹涌澎湃喷出，斩首西汗尤尼斯营指挥官迈达斯·穆巴沙尔，此外还袭击了 250 多个哈马斯战术操作指挥中心。\n\n`传言` [[极光](https://twitter.com/Aurora107E/status/1717567922179100694?s=20\u0026utm_source=pocket_saves)] 以色列军队，又把哈马斯情报部门的副局长沙迪·巴鲁德给炸死了。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231026-1446014)] （2023年10月26日）巴勒斯坦激进组织哈马斯声称，以色列对加沙地带进行的空袭至今已导致约50名人质死亡。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231025-1445725)] 加沙家庭佩戴手环 称遭遇不测时可凭此辨认亲属\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1716684578759520709?utm_source=pocket_reader), [Israel Air Force](https://twitter.com/IAFsite/status/1716673587187200049)] 以色列空軍襲擊加薩走廊400多個軍事目標，並殲滅恐怖組織哈馬斯的多名指揮官。其中，哈馬斯的努西拉特營副營長、沙蒂營副營長和阿爾富坎營副營長在當地晚間被擊斃\n\n### 加沙圣公会阿赫利医院被炸，与相关舆论战\n\n`错误` [[AP](https://twitter.com/AP/status/1714336328312144180?s=20\u0026utm_source=pocket_reader), [Twitter](https://twitter.com/i/birdwatch/n/1714697136280137768)]（2023年10月17日）~~BREAKING: The Gaza Health Ministry says at least 500 people killed in an explosion at a hospital that it says was caused by an Israeli airstrike.~~ The Gaza Health Ministry is under the control of Hamas, which has been designated as a terrorist organization by the US State Department. Other sources have claimed that the rocket explosion at the hospital was the result of a failed Hamas rocket launch.\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1714422773513072641?s=20\u0026utm_source=pocket_reader)] The death toll from the attack on a hospital in Gaza has now risen to 800 casualties, **according to Al Arabiya**\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1714380437299109906), [Inty热点新闻](https://twitter.com/__Inty__/status/1714396454318719478?s=20\u0026utm_source=pocket_reader)] （2023年10月17日）Growing street protests in the West Bank after the strike on the Al-Ahly hospital. \"the people want the regime to fall\". This is chanted against the Palestinian Authorities. 在阿赫利医院遭到袭击后，约旦河西岸的街头抗议活动愈演愈烈。\n\n`传言` [[Cheng-Wei Lai](https://twitter.com/ChengWeiLai2/status/1714437522506522978)] 我有看到以色列著名的記者一開始以為是以色列炸的，然後他使用「恐怖份子都躲在醫院、清真寺和學校」這個理由來為戰爭罪行開脫。[[截图](https://pbs.twimg.com/media/F8rn1aLbsAA6OB4?format=jpg\u0026name=900x900)]\n\n`消息` [[德国之声](https://twitter.com/dw_chinese/status/1714430445696229700?s=20\u0026utm_source=pocket_reader), [法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231017-%E5%8A%A0%E6%B2%99%E5%8C%BB%E9%99%A2%E9%81%AD%E8%A2%AD-%E5%93%88%E9%A9%AC%E6%96%AF%E8%B0%B4%E8%B4%A3%E4%BB%A5%E8%89%B2%E5%88%97-%E4%BB%A5%E5%86%9B%E6%8C%87%E4%BC%8A%E6%96%AF%E5%85%B0%E5%9C%A3%E6%88%98%E7%BB%84%E7%BB%87%E7%81%AB%E7%AE%AD%E5%BC%B9-%E8%AF%AF%E4%B8%AD-%E5%8A%A0%E6%B2%99%E5%8C%BB%E9%99%A2?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty), [BBC](https://twitter.com/bbcchinese/status/1714452677479043194?s=20\u0026utm_source=pocket_reader), [BBC](https://twitter.com/bbcchinese/status/1714588226223276316?s=20\u0026utm_source=pocket_reader), [BBC](https://twitter.com/bbcchinese/status/1714981437106204847?s=20\u0026utm_source=pocket_reader)] [加沙医院遭空袭酿500死](https://twitter.com/hashtag/%E5%8A%A0%E6%B2%99%E5%8C%BB%E9%99%A2%E9%81%AD%E7%A9%BA%E8%A2%AD%E9%85%BF500%E6%AD%BB?src=hashtag_click) 以巴互推责任。\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24)] 以色列提供的医院爆炸时的监控视频，声称哈马斯发射的系列火箭弹中的一个误击了医院。[[视频](https://twitter.com/i/status/1714379637839573451)]\n\n`观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1714388910997196862?s=20\u0026utm_source=pocket_saves)] 然后哈马斯控制媒体都说是以色列干的，然后穆斯林都信了，说实话只要看看医院废墟就知道了，JDAM因为巨大扬尘一般不会着火。可惜我估计哈马斯不会允许照，不然就被发现了。\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1714388439884279889)]（2023年10月17日）Footage has been released from Northern Gaza. this is Direct Evidence that the Explosion was indeed caused by a Misfired-Rocket and not by an Israeli Airstrike. The Building seen on Fire in the Footage is Confirmed to be the Hospital in Northern Gaza. [[视频1](https://twitter.com/i/status/1714383923881373908)]\n\n`消息` [[Israel Defense Forces](https://twitter.com/IDF/status/1714370853465387395?s=20\u0026utm_source=pocket_reader)] Following an analysis by the IDF's operational systems, a barrage of rockets was launched toward Israel, which passed in the vicinity of the hospital, when it was hit. Islamic Jihad terrorist organization is responsible for the failed rocket launch that hit the hospital.\n\n`消息` [[Al Jazeera](https://twitter.com/AJEnglish/status/1714348326412243119), [Imam of Peace](https://twitter.com/Imamofpeace/status/1714386149337104854?s=20\u0026utm_source=pocket_reader), [IDF](https://twitter.com/IDF/status/1714442617201586220?s=20\u0026utm_source=pocket_reader)] 根据阿拉伯媒体的视频进行的分析，仍得出爆炸来自火箭弹的结论。\n\n`消息` [[Israel Defense Forces](https://twitter.com/IDF/status/1714548529538953637?s=20\u0026utm_source=pocket_reader)] Islamic Jihad struck a Hospital in Gaza—the IDF did not. Listen to the terrorists as they realize this themselves: [[视频](https://twitter.com/i/status/1714548529538953637)]\n\n`消息` [[多伦多方脸](https://twitter.com/torontobigface), [The Spectator Index](https://twitter.com/spectatorindex/status/1714540546503631017), [以色列在中国](https://twitter.com/IsraelinChina/status/1714599486197203184?s=20\u0026utm_source=pocket_reader)] 以色列方面公布了窃听到的，两名恐怖组织成员的通话记录，他们在通话中谈到了该医院爆炸是因为自己的导弹出现问题导致的。并且以色列发布了数张照片，展示了导弹的轨迹。同时以色列称哈马斯夸大了爆炸造成的伤亡人数\n\n`观点` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1714509053588582774), [约拿坦](https://twitter.com/jiongnasen/status/1714563053315051560?s=20\u0026utm_source=pocket_reader)] The IDF released drone footage showing the Ahli Hospital in Gaza both before and after the explosion overnight. 从爆炸对医院建筑的破坏情况来看，我觉得基本上可以排除JDAM制导炸弹了。甚至连哈马斯方面公布的伤亡人数也显得非常可疑。以军公布的无人机照片跟医院现场照片里的车辆位置是一致的。\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1714528134198923697?s=20\u0026utm_source=pocket_reader)] 天亮之后的第一张现场照片。被炸处为停车场。[[照片](https://pbs.twimg.com/media/F8s553UWsAEAo08?format=jpg\u0026name=small)] \n\n`观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1714520531888914712?s=20\u0026utm_source=pocket_reader), [Israeli Air Force](https://twitter.com/IAFsite/status/1714516199059472884), [张平](https://twitter.com/pingzhang632/status/1714548151816773691?s=20\u0026utm_source=pocket_reader)] 非常清晰，这个毁伤不太可能是GBU或者JDAM，我现在怀疑有些视频是剪辑和加音轨的了。另外谁原因更清晰展现现场并且愿意允许第三方进场的更清白：以色列 1，哈马斯 0。以军轰炸后留下来的弹坑 vs 医院现场。[[照片](https://pbs.twimg.com/media/F8s_83nXkAA3P2p?format=jpg\u0026name=large)]\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1714598373230088346?s=20\u0026utm_source=pocket_reader)] 弹坑照片：[[照片](https://pbs.twimg.com/media/F8t52m5XcAAXniF?format=jpg\u0026name=small)]\n\n`观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1714601150673281031?s=20\u0026utm_source=pocket_reader)] 看得出来，昨天晚上哈马斯的道具组和舞美组真的用了很大力气，可惜有点力气用的太大了。他们也没办法一晚上修一座方舱医院然后炸了不是吗？找到穿帮细节了\n这男人提着两包他孩子，字幕是我孩子死了！然后还笑，你笑你🐎呢？一会儿才反应过来，开始悲伤。[[视频](https://twitter.com/i/status/1714402017223815437)]\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1714606810013811170?s=20\u0026utm_source=pocket_reader)] Channel 12 公布的新视频，展示了火箭弹发射点和医院。[[视频](https://twitter.com/i/status/1714606810013811170)]\n\n`传言` [[entropy](https://twitter.com/entropy_01/status/1714484385872044077?s=20\u0026utm_source=pocket_reader), [GeoConfirmed](https://twitter.com/GeoConfirmed/status/1714390254935851272)] 该贴分析之后确认了半岛电视台直播的爆炸地点就是医院。（注：无法确认是失败的火箭弹部件坠落导致爆炸还是两次独立爆炸，仅能证明半岛台直播画面捕捉到的加沙火箭发射后地面爆炸位置确为医院）\n\n`消息` [[AP](https://twitter.com/AP/status/1714675086484005168?s=20\u0026utm_source=pocket_reader)] The White House says its current assessment is that Israel is not responsible for the deadly Gaza hospital explosion, but the U.S. is still collecting evidence.\n\n`消息` [[AP](https://twitter.com/AP/status/1714647548328030428?s=20\u0026utm_source=pocket_reader)] Doctors in Gaza are rushing to save people badly wounded in the massive blast at a Gaza City hospital, performing surgery on hospital floors — often without anesthesia.\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1714941166603403327)] 以色列与哈马斯互相指责对方是加沙阿赫利医院爆炸事件的幕后黑手。我们能从事发后的现场殘骸发现什么？\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1714990241625629073?utm_source=pocket_reader)] 这条bbc的fact check，就是我前几条推说的，从火箭轨迹/爆炸规模强度/弹坑这些核心技术问题，都能证明之前对以色列的指责问题很大。而另一方没提供任何有力证据，包括他们自称拥有的弹头残骸。很多网民没有处理消化新闻的能力，不知道这种公案的point在哪里。左壬要把bbc打成挺以色列极右媒体吗？\n\n`观点` [[说真话的徐某人](https://www.youtube.com/channel/UCiL5EGUQfROCmRokN2q1LCg/community?lb=Ugkxh9OkcWIyPL_gEe9ofWD8GqffKORqH2ku)] 如果一个人真心支持巴勒斯坦民众，那么一定会对医院被炸刨根究底，并尊重事实谴责发动攻击的那一方。如果是一上来就咬定是以色列干的，那就说明其根本不在乎巴勒斯坦人的死活，只想消灭以色列，精神上和哈马斯无异。\n\n`观点` [[艾布拉姆斯](https://twitter.com/SuTNkwfrFkMhHsG/status/1714901614853750882?s=20\u0026utm_source=pocket_reader)] 那些洗空爆的差不多得了。注意看用的量，还有图3的那个30磅炸药对一架武直的最大毁伤半径（接近9米了）然后回看图4，真的，我十分支持你蝈各种自媒体大V公开真实身份，我想看看其中有多少是爆炸物专家\n\n`消息` [[约拿坦](https://twitter.com/jiongnasen/status/1714914664205922501?s=20\u0026utm_source=pocket_reader), [Sean](https://twitter.com/seannewbs/status/1714706735125197208)] CNN安德森在报道加沙医院爆炸事件时同步播放的画面是与医院完全无关的其他建筑。\n\n`传言` [[John Zhang](https://twitter.com/JohnZhangSV/status/1715084659628077558?utm_source=pocket_reader), [Le Point](https://twitter.com/LePoint/status/1714968013068230783)] 法国杂志Le Point援引欧洲情报机构的评估，加沙医院的死亡人数在15-50人之间。不是恐怖分子很聪明，而是我们自己太愚蠢！\n\n`观点` [[翻电Special](https://www.xiaoyuzhoufm.com/episode/65314b9c75608281a9c043f6?utm_source=pocket_reader)]  从加沙医院争议，再谈几个媒介素养的“真问题” VOL.126\n\n`传言` [**[方舟子](https://twitter.com/fangshimin/status/1715084107955466528?utm_source=pocket_reader)**] 以色列军方要人们去看半岛电视的视频，说它**证明了医院是加沙发射失败的火箭炸的。现在被狠狠打脸了。**半岛电视台的详细分析表明，当时加沙发射的火箭全部成功发射并被以色列铁穹拦截， 是在最后一枚火箭被拦截之后医院才发生爆炸。**半岛电视台很牛，基本证明是以色列炸了嫁祸于人**\n\n`传言` [[蔡慎坤](https://twitter.com/cskun1989/status/1714878239284642240?s=20\u0026utm_source=pocket_reader)] 连巴勒斯坦媒體也不得不澄清阿赫利 (Al-Ahli) 醫院停車場區域，出現火箭彈打擊的坑洞，事實証明是哈瑪斯的火箭彈發射失敗所為，并非以色列的 JDAM 导弹。\n\n`传言` [[约拿坦](https://twitter.com/jiongnasen/status/1715065906114769057?s=20\u0026utm_source=pocket_reader), [Jeryl Bier](https://twitter.com/JerylBier/status/1715016410185744884)] 纽约时报给加沙医院爆炸的报道追加了一条说明，说医院本身没有被炸，爆炸发生在停车场。报道中间还悄悄修改了一个细节，纽时引述医院工作人员的话时，形容她“穿过医院的残垣断壁”，现在把残垣断壁给去掉了。这几个字完全是纽时凭想象加进去的。\n\n`消息` [[CNN](https://www.cnn.com/2023/10/21/middleeast/cnn-investigates-forensic-analysis-gaza-hospital-blast/index.html?utm_source=pocket_saves)] 对图片和视频证据的分析认为加沙医院爆炸来自火箭弹而非以军空袭\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231025-1445557)] 美方“高度确信”加沙医院爆炸是巴勒斯坦火箭弹造成\n\n### 哈马斯发声\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231010-1441201), [李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711461525330796625), [The Spectator Index](https://twitter.com/spectatorindex/status/1711441351953572011)] （2023年10月9日）巴勒斯坦激进组织哈马斯一高级官员马祖克（Moussa Abu Marzouk）说，哈马斯“已经实现目标”，愿意就与以色列休战的可能性进行讨论。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231010-1441201), 彭博社, [BBC](https://twitter.com/bbcchinese/status/1711654019268001966?s=20)] 以色列星期一（10月7日）宣布[“全面封锁”加沙](https://www.zaobao.com/news/world/story20231009-1441178)后，哈马斯发言人乌拜达（Abu Obaida）告诉半岛电视台，如果以色列不加警告地袭击加沙地带民宅，哈马斯将每小时处死一名人质。还说哈马斯不会在“被轰炸”的情况下就释放以色列俘虏进行谈判。\n\n`传言` [[落日海盗](https://twitter.com/bright_hawkins/status/1713075648191926647)] 哈马斯头目萨利赫·阿鲁里表示：加沙人突击以色列定居点并俘虏平民并不是哈马斯的计划，是临时工的行为。\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714162323970207974?utm_source=pocket_reader)] 杨贝贝直接下哈马斯藏匿的加沙地道采访哈马斯恐怖组织成员！杨贝贝问：你们在平民区下面挖地道，发射火箭，不担心伤害无辜平民吗？哈马斯：我们别无选择，为了我们的未来，只能这样做，老百姓支持我们。\n\n`消息` [[喷嚏网-浮世绘802-存档](https://web.archive.org/web/20231021190359/https://www.dapenti.com/blog/more.asp?id=174430\u0026name=xilei)] 经济学人主编 Zanny Minton Beddoes 与Hamas的高级官员Moussa Abu Marzouk进行了一个小时的采访，播客是25分钟长。\n\n- Abu Marzouk完全不承认哈马斯杀害了无辜平民，还说死的1000+以色列人里面没有儿童。提起在音乐节上被枪杀的260名参加者，他说只是一个“巧合”；袭击的战士认为对方是“在休息的士兵”。\n- 即使是哈马斯的许多领导层也可能对袭击计划一无所知。由于进出加沙非常困难，哈马斯宁愿将其一些zz领导人留在国外。但内部和外部团体之间一直关系紧张。留在加沙的人看不起躲在多哈五星级酒店的。\n- 他无法解释屠杀数百名平民为什么会改善巴勒斯坦人的困境。对一些细节持明确态度：说哈马斯不会处决任何人质，也不会释放任何以色列平民。现在谈论囚犯交换还为时过早。\n- Abu Marzouk一度否认了以色列在加沙发动严重攻势的可能性。“我们知道他们是懦夫，”他说。“我们知道他们不能在地面上战斗。”\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1714277584022978780?utm_source=pocket_reader), [自由时报](https://news.ltn.com.tw/news/world/breakingnews/4461413)] 哈瑪斯稱把外國人質當「賓客」並有意釋放 喊話以色列滿足1要求\n\n`传言` [[John Zhang](https://twitter.com/JohnZhangSV/status/1715400182928679393?s=20\u0026utm_source=pocket_reader)] （2023年10月20号）沙特阿拉伯电视台Al Arabiya女记者对哈马斯领袖Khalid Marshaal发出了尖锐的拷问。\n\n- 她质问Khalid Marshaal：哈马斯突然发起对以色列的攻击，你考虑过加巴勒斯坦人民吗？因为你那么对待以色列平民，现在西方把哈马斯比做伊斯兰国，你的行为符合伊斯兰教义吗？你会为10月7号对以色列平民（的屠杀）道歉吗？你号召阿拉伯世界一起消灭以色列，你从伊朗、黎巴嫩那儿得到了你想要的支持吗？你会释放人质吗？\n- Khalid Marshaal的回答是：二战苏联死了三千万，越战时越南死了三百万，… 他们是烈士。他的意思非常清楚，巴勒斯坦人、阿拉伯人就得死几百万，只要能把以色列消干掉。哈马斯就是要绑架整个巴勒斯坦人，把阿拉伯世界拖下水，与以色列决战。至于死多少人，他不在乎！\n\n`观点` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1717504913071362082?s=20\u0026utm_source=pocket_reader), [Israelkicksass](https://twitter.com/Israelkicksass/status/1717295604680818762)] 为什么哈马斯一再通过联合国等流氓机构要求以色列解除燃料禁运呢？因为他们在加沙地底挖了1300条地道，深达70米，全长500公里，神出鬼没得不得了。但问题是...这些地道太深了需要用泵往里送氧气抽二氧化碳，不然人就得憋死\n\n`消息` [[美国之音](https://www.voachinese.com/a/hamas-vows-full-force-after-israel-steps-up-gaza-ground-operations-20231027/7330766.html?utm_source=twitter\u0026utm_medium=social\u0026utm_campaign=dlvr.it)] 以色列对加沙加强地面行动后 哈马斯誓言“全力反击\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1718881021750300750?s=20\u0026utm_source=pocket_reader), [IsraelWarRoom](https://twitter.com/IsraelWarRoom/status/1718861358186246192), [new27brigade](https://twitter.com/new27brigade/status/1718894447323496740?s=20\u0026utm_source=pocket_reader), [YosephHaddad](https://twitter.com/YosephHaddad/status/1718859336716353701)] 巴勒斯坦宣传部门放出的视频中，死者裹尸袋的头部在动\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1718562743073038407?s=20\u0026utm_source=pocket_reader), [visegrad24](https://twitter.com/visegrad24/status/1718559417958912403)] 哈马斯头目梅沙尔公开宣称中国和俄罗斯非常高兴看到哈马斯在以色列搞大屠杀，因为美国的注意力被从乌克兰引开了，而中国现在可以准备攻打台湾了。\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1718634374424604753?s=20\u0026utm_source=pocket_reader)] 認知戰專區 但很明顯的看得出AI輔助修圖痕跡，災民就算背後可以背三小孩，也不可能如此抱嬰兒，小孩手腳也不自然，其中腳趾也發現AI修圖的特產「多指症」，底下已經有讀者標明這是AI繪圖偽照片，現在連AI繪圖都已經運用在戰爭方面嗎? [[图片](https://pbs.twimg.com/media/F9nQiC2bAAA2zKm?format=jpg\u0026name=small)]\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1719994096499183868?s=20\u0026utm_source=pocket_reader), [Eretz Israel](https://twitter.com/EretzIsrael/status/1719851816932737109), [visegrad24](https://twitter.com/visegrad24/status/1720057376823234752?utm_source=pocket_reader)] 哈瑪斯的真面目被揭穿！BBC 新聞影片顯示搶救現場有一名巴勒斯坦婦女在鏡頭前哭喊：這一切都是因為哈馬斯害的！兩名便衣哈瑪斯男性成員竟立刻上前公然堵住她的嘴。\n\n`传言` [[Ignatius Lee](https://twitter.com/22HomoPoliticus/status/1720197559455539278?s=20\u0026utm_source=pocket_reader), [John Zhang](https://twitter.com/JohnZhangSV/status/1720801789782655413?s=20\u0026utm_source=pocket_reader)] （2023年11月4日）记者问：“你们能够修建五百多公里的地下隧道，为什么不能够为加沙平民修建地下避难所呢？”在哈马斯政治局中排名第二，曾在美国科罗拉多州立大学学习的 Mousa Abu Marzouk 回答：“加沙地下隧道的修建是为了保护哈马斯士兵，而不是保护平民的。保护加沙平民那是‘占领者’的事！”\n\n### 战事扩大之风险：以色列+美国 vs. 黎巴嫩真主党+也门胡塞武装+叙利亚+土耳其+伊朗\n\n`传言` [[Tendar](https://twitter.com/Tendar/status/1711435734551232996)] 以色列北部靠近黎巴嫩边境地区，一队 M109 自行火炮出动，在公路行驶。[[视频](https://twitter.com/i/status/1711435734551232996)]\n\n`传言` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1711544586726940965), [Moshe Schwartz](https://twitter.com/YWNReporter/status/1711524193035039011)] 以色列防範真主黨進攻！目前有數千名以色列國防軍裝甲旅部隊在黎巴嫩邊境增援集結。[[视频](https://twitter.com/i/status/1711524193035039011)]\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231009-1441178)] （2023年10月8日）美国国防部长奥斯汀当天与美国总统拜登开会后宣布，把美国海军最先进的福特号航母与随行军舰部署到地中海东部，并增加在当地的战斗机数量，以加强对那片地区的威慑态势。美国政府也将迅速为以色列国防军提供包括弹药在内的额外军备和资源。奥斯汀强调，美国对以色列国防军与以色列人民的支持坚定不移。\n\n`传言` [[new27brigade](https://twitter.com/new27brigade/status/1711519302543945978), [BabakTaghvaee1](https://twitter.com/BabakTaghvaee1/status/1711500172432191779)] （2023年10月9日）當地晚間貝魯特，黎巴嫩民眾自發性利用機車組成一道牆，阻止真主黨成員通過他們的社區，民眾已經厭倦對以色列的恐怖行為，長年真主黨利用民眾當肉盾\n\n`传言` [[FJ](https://twitter.com/Natsecjeff/status/1711440903922212875), [ynet](https://www.ynet.co.il/news/article/sktkysb11a)] 以色列警告真主党和阿萨德，如果加入哈马斯的行动，将使用美国海军打击大马士革和叙利亚总统。\n\n`消息` [[Moshe Schwartz](https://twitter.com/YWNReporter/status/1712114849839280525), [NSC Spokesperson John Kirby](https://twitter.com/i/status/1712162849198375273)] （2023年10月11日）美国部署第二个航母打击群。The USS Dwight D. Eisenhower aircraft carrier Strike Group will be deployed to the Eastern Mediterranean joining the USS Gerald R. Ford carrier strike group.\n\n`消息` [[OSINTdefender](https://twitter.com/sentdefender), [U.S. Sixth Fleet](https://www.c6f.navy.mil/Press-Room/News/Article/3560858/uss-mount-whitney-departs-homeport/)] 美海军第6舰队旗舰，在意大利前出部署的 USS Mount Whitney (LCC-20) 蓝岭级指挥舰，加入东地中海美军舰队\n\n`消息` [[AP](https://twitter.com/AP/status/1712139196964463044)] （2023年10月11日）Israel's military said unspecified hostile aircraft had entered the country from Lebanon, setting off sirens.\n\n`传言` [[喷嚏图卦20231011](https://web.archive.org/web/20231014101251/https://www.dapenti.com/blog/more.asp?name=xilei\u0026id=174334)] 黎巴嫩真主党星期一（10月9日）晚炮击以色列北部地区，报复以色列袭击黎巴嫩南部。\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1712434916313461018?utm_source=pocket_saves)] （2023年10月12日）The airport in Damascus, Syria is on fire after it was struck by the Israeli Air Force moments ago\n\n`传言` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1713320633273143476?s=20\u0026utm_source=pocket_saves)] （2023年10月14日）伊朗國家廣播公司號召伊朗公民報名參加志願軍，準備參加針對以色列的戰爭。伊斯蘭革命衛隊的法爾斯通訊社也發起了類似的活動。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231015-1443003), [法广](https://www.rfi.fr/cn/%E5%9B%BD%E9%99%85/20231015-%E9%BB%8E%E5%B7%B4%E5%AB%A9%E4%BB%A5%E8%89%B2%E5%88%97%E8%BE%B9%E5%A2%83%E4%BA%A4%E7%81%AB-%E4%B8%80%E5%90%8D%E4%BB%A5%E8%89%B2%E5%88%97%E4%BA%BA%E6%AD%BB%E4%BA%A1?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月15日）在以色列准备向加沙地带发动地面攻击之际，以色列军方在北部边境与黎巴嫩真主党再爆冲突，造成至少一人死亡。（法广）一名以色列人死亡\n\n`消息` [[法广](https://www.rfi.fr/cn/%E5%9B%BD%E9%99%85/20231015-%E8%81%94%E5%90%88%E5%9B%BD%E9%A9%BB%E9%BB%8E%E5%B7%B4%E5%AB%A9%E7%BB%B4%E5%92%8C%E9%83%A8%E9%98%9F%E6%80%BB%E9%83%A8%E8%A2%AB%E6%9D%A5%E8%B7%AF%E4%B8%8D%E6%98%8E%E7%81%AB%E7%AE%AD%E5%BC%B9%E5%87%BB%E4%B8%AD?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]（2023年10月15日）联合国驻黎巴嫩维和部队总部被来路不明火箭弹击中\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231015-%E7%BE%8E%E5%9B%BD%E8%AD%A6%E5%91%8A%E4%BC%8A%E6%9C%97%E4%B8%8D%E8%A6%81%E5%B0%86%E4%BB%A5%E5%93%88%E6%88%98%E4%BA%89%E5%8D%87%E7%BA%A7%E4%B8%BA%E5%9C%B0%E5%8C%BA%E5%86%B2%E7%AA%81-%E4%BB%BB%E4%BD%95%E5%85%B6%E4%BB%96%E8%A1%8C%E4%B8%BA%E4%BD%93%E4%B8%8D%E5%BA%94%E5%88%A9%E7%94%A8%E5%B1%80%E5%8A%BF?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]（2023年10月15日）美国警告伊朗不要将以哈战争升级为地区冲突\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1713563835682996423?utm_source=pocket_saves)]（2023年10月15日）Israeli fighter jets are striking Hezbollah positions in Lebanon\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231017-1443357), [Inty热点新闻](https://twitter.com/__Inty__/status/1714009828333605267?s=20\u0026utm_source=pocket_reader)] （2023年10月17日）伊朗最高外交官预计未来数小时抵抗阵线将采取“先发制人行动”，并警告以色列，在加沙地带采取任何行动必将面临后果。\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1714355721171558907?s=20\u0026utm_source=pocket_reader)] （2023年10月17日）All Israeli citizens currently in Turkey have been called on to leave the country as soon as possible by Israel's national security council.\n\n`传言` [[entropy](https://twitter.com/entropy_01/status/1714653674302284209?s=20\u0026utm_source=pocket_reader), [Insider Paper](https://twitter.com/TheInsiderPaper/status/1714651842930700363)] （2023年10月18日）沙特：沙特人必须立刻离开黎巴嫩。黎巴嫩事态陡然升温。\n\n`传言` [[The Mossad: Satirical](https://twitter.com/TheMossadIL/status/1714733291343872179?s=20\u0026utm_source=pocket_reader)] 两名黎巴嫩真主党成员被击毙\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1715115991342948690?s=20\u0026utm_source=pocket_reader)] 3 American military bases or military installations have been attacked in Syria tonight\n\n`消息` [[OSINTdefender](https://twitter.com/sentdefender), [ELINT](https://twitter.com/ELINTNews/status/1715091247721832786), [ELINT](https://twitter.com/ELINTNews/status/1715096989786918941?s=20\u0026utm_source=pocket_reader), [·ĘÑŚåMÀ·](https://twitter.com/EnEn07739518/status/1715145494748594633?s=20\u0026utm_source=pocket_reader), [Inty热点新闻](https://twitter.com/__Inty__/status/1715104928589550048?s=20\u0026utm_source=pocket_reader), [Breaking911](https://twitter.com/Breaking911/status/1715103968232165433), [OSINTdefender](https://twitter.com/sentdefender/status/1715451285690896401?s=20\u0026utm_source=pocket_reader)] （2023年10月19日）阿利-伯克级驱逐舰 USS Carney (DDG-64) 在红海也门海岸附近拦截了胡塞武装的巡航导弹和无人机。这些武器向北飞行，据信目标为以色列。three land-attack cruise missiles and several drones. Iranian 2000km+ range Soumar \u0026 2000km+ range Shahed-136. 本次攔截的導彈是11枚標準二，沒有用上先進海麻雀，美軍上一次攔截則是2016葉門，發射了數枚標準二和少量先進海麻雀\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1715086853429166471?s=20\u0026utm_source=pocket_reader)] The U.S. plans to send Israel tens of thousands of 155mm artillery shells designated for Ukraine - Axios\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1715075757561545055), [QQ.FM Zhang Lei](https://twitter.com/music3club/status/1715191835377995894)] The Attack on U.S. Al-Asad Airbase in Western Iraq appears to have been much more Significant than Initial Reports indicated; there so far has been no word on Damage or Casualties. 昨天，美国国会通过授权，如果伊朗参战哈以战争，美国总统有权决定直接对伊宣战。一位美国官员告诉美联社，昨天两架无人机瞄准了美军使用的伊拉克西部阿萨德空军基地，一架无人机瞄准了伊拉克北部的一个基地。根据美国周三的一份声明，美军拦截了这三只飞机，摧毁了两只，但只损坏了第三只，这导致西部基地的联军人员受轻伤。昨天，以色列直接点名宣布，如果哈马斯从俄、叙、伊三国得到武器和军援，以色列将采取行动打击他们的主持者。\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1714989501620298104?s=20\u0026utm_source=pocket_reader), [defence blog](https://defence-blog.com/israel-deploys-submarines-amid-rising-tensions-with-iran/)] 由於以色列與伊朗和黎巴嫩真主黨的緊張關係不斷升級，以色列國防軍在中東各地部署潛艦艦隊\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715202237264507043?s=20\u0026utm_source=pocket_reader), [OSINTdefender](https://twitter.com/sentdefender/status/1715184124472840550)] 最新消息：火箭弹击中驻伊拉克美军军事基地\n\n`消息` [[端傳媒](https://theinitium.com/article/20231020-whatsnew-international-gaza-fake-news?utm_source=twitter\u0026utm_medium=twitter\u0026utm_campaign=twpost)] 以哈戰爭蔓延網絡空間，伊朗、俄國和印度網軍亦有參戰\n\n`消息` [[OSINTdefender](https://twitter.com/sentdefender), [John Zhang](https://twitter.com/JohnZhangSV/status/1715932921176195103?s=20\u0026utm_source=pocket_reader), [defense.gov](https://www.defense.gov/News/Releases/Release/Article/3564874/statement-from-secretary-of-defense-lloyd-j-austin-iii-on-steps-to-increase-for/)]（2023年10月22日）美军向中东基地部署萨德反导系统\n\n`传言` [[AmundsonElena](https://twitter.com/AmundsonElena/status/1715882685007274125?s=20\u0026utm_source=pocket_reader), [Mossad Commentary](https://twitter.com/MOSSADil/status/1715856431935566337)] 位于德黑兰的伊朗军队总部发生多起爆炸。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231022-1444906)] （2023年10月22日）以色列空袭叙利亚大马士革和阿勒颇机场，造成大马士革机场两名工人死亡。\n\n`消息` [[AP](https://apnews.com/article/syria-airstrikes-iran-revolutionary-guard-af3c7a0f069b8c8b08f6feaa0e165d6a?taid=653b1e6158ec2f0001884d01\u0026utm_campaign=TrueAnthem\u0026utm_medium=AP\u0026utm_source=Twitter)] （2023年10月26日）The U.S. launched airstrikes against two Iranian-linked locations in Syria, the Pentagon said.\n\n`传言` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1717921721259548860?utm_source=pocket_reader), [Duan Dang](https://twitter.com/duandang/status/1717907338882142328)] （2023年10月27日）美軍增兵中東！美軍巴丹號兩棲突擊艦(LHD-5)、卡特霍爾號船塢登陸艦(LSD-50) 和第 26 美軍陸戰隊遠征群約 2,500 人已於 10 月 27 日進入紅海前往以色列附近海域。\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1717067301172748788?s=20\u0026utm_source=pocket_reader), [AnshelPfeffer](https://twitter.com/AnshelPfeffer/status/1716917326162038941), [悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1717068025319629190?s=20\u0026utm_source=pocket_reader)] 沙特阿拉伯击落从也门发射攻击以色列的导弹。\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw), [自由时报](https://news.ltn.com.tw/news/world/breakingnews/4467593)] 以哈戰火恐擴大！伊朗聖城升黑旗引揣測 中東多處美基地遇襲\n\n`消息` [[AP](https://apnews.com/article/israel-palestinians-hamas-war-yemen-houthis-iran-34eab8bc1d3cf3606d874166fef2f018)] （2023年10月31日）也门胡塞武装向以色列宣战。\n\n`消息` [[Clash report](https://twitter.com/clashreport/status/1719410027574735233)] 胡塞武装的一枚弹道导弹射向以色列，落入约旦境内\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1719912404782567685?utm_source=pocket_reader), [Secretary of Defense Lloyd J. Austin III](https://twitter.com/SecDef/status/1719868989566787844)]（2023年11月2日）在以哈战争有扩大化的危机之下，沙特阿拉伯发出了清晰的声音：他们愿意与美国和以色列合作，尽快恢复和平\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1720301261491523813?s=20\u0026utm_source=pocket_reader), [Amir Weitmann](https://twitter.com/aweitmann/status/1720127400158060747)] （2023年11月3号）俄罗斯向黎巴嫩真主党提供防空系统，这件事引起了以色列利库德集团自由党团负责人Amir Weitmann的注意\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1720343608317133102?s=20\u0026utm_source=pocket_reader), [中央通讯社](https://www.cna.com.tw/news/aopl/202311030137.aspx)] 紐約時報報導，美國MQ-9無人機正在加薩上空飛行，協助拯救被哈瑪斯綁架的人質，顯示美國在當地的行動比先前所知更為積極\n\n`传言` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw), [Clash Report](https://twitter.com/clashreport/status/1720747727460446607)] 以軍雙線作戰！稍早以色列空軍正在黎巴嫩南部進行大規模空襲。炸毀真主黨民兵據點\n\n### 人质进展\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1715652561762689202?s=20\u0026utm_source=pocket_reader)] （2023年10月21日）哈马斯基于“人道主义理由”释放一对美国母女，这是本月冲突爆发以来首度有人质获释，卡塔尔扮演了关键角色，在以巴之间斡旋。\n\n`传言` [[彥子Ianni](https://twitter.com/yanni_vision/status/1715480654954045753)] 媒体发布的第一张美国两位获释人质照片（以色列总理办公室提供）妈妈Judith Raanan（右）和18岁的女儿Natalie（左），来自芝加哥。两周前，俩人在以色列庆祝一位家人生日，被哈马斯绑架。母女俩目前和以色列军队在一起。获释人质之一、85岁丽芙希兹刚召开记者会，描述“地狱般被绑架的日子”，哈马斯从家中绑架了她和她丈夫，用铁棍殴打她，哈马斯的地道如同蜘蛛网。她的孙子说，过去十几年，夫妇二人每周义务接送生病的加沙巴勒斯坦人去医院看病。她丈夫和一同获释的另一人质库珀的丈夫还在哈马斯手中，不知被关在哪里\n\n`消息` [[AP](https://apnews.com/article/israel-palestinian-gaza-war-syria-lebanon-hamas-c0e7ec55428fedc97f75bdfdc0c0679a)] （2023年10月23日）国际红十字会称，2名以色列年长女性被哈马斯释放。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231024-1445239)] 以色列能源部长卡茨表明，以色列不会因为人质问题而推迟可能对加沙地带发动的地面战。\n\n`消息` [[raibow7852](https://twitter.com/rainbow78521/status/1717950950512504955?s=20\u0026utm_source=pocket_reader), [NEXTA](https://twitter.com/nexta_tv/status/1717944810718306444)] 据阿拉伯电视台报道，以色列提出停火，以换取哈马斯释放所有人质并移交以色列阵亡者的遗体，但哈马斯拒绝了。\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1717655468267696474?utm_source=pocket_reader)] （2023年10月26日）伊朗外长侯赛因·阿米尔·阿朴杜拉稀安今天在联合国开会。他说哈马斯愿意把200多名人质交给伊朗，然后跟约旦、卡塔尔一起跟以色列谈判，释放6000名哈马斯恐怖分子。\n\n`消息` [[Belaaz News](https://twitter.com/TheBelaaz/status/1719034789427044485)] IDF forces operating in the Gaza Strip rescued a female Israeli soldier from Hamas captivity, marking the first successful special operation to release hostages by force from within Gaza.\n\n`传言` [[weixinart](https://twitter.com/Weixinart/status/1718742652659663203?s=20\u0026utm_source=pocket_reader), [张平](https://twitter.com/pingzhang632/status/1718332863836287054?utm_source=pocket_reader), [IsraeliPM_heb](https://twitter.com/IsraeliPM_heb/status/1718321408793628717)] 内塔尼亚胡见了人质家属，然后对以色列全国电视讲话，宣布了几个决定：  第一，卡塔尔斡旋的人质谈判已搁浅，因此，以色列内阁决定，把消灭哈马斯放在人质的生命之前 ；第二，以色列中左翼反对的司法改革被永久搁置 ；第三，战争结束后，所有内阁成员都将接受司法调查，根据每个人对10月7日袭击负有的责任进行处理 ；最后，内塔尼亚胡表示，战时内阁已经命令以军地面部队攻入加沙，彻底消灭哈马斯 ，国防部长加兰特随后对媒体说，地面行动已经开始，除非收到内阁相反的命令，否则不会停下。卡塔尔稍早发布声明，人质谈判无果，很失望，冲突结束后，卡塔尔会重新考虑是否容纳哈马斯在卡塔尔继续活动，卡塔尔永远支持巴勒斯坦人民的正义事业。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231031-1446824)] 巴勒斯坦激进组织哈马斯星期一（10月30日）发布三名女人质的视频。同日，以色列说，以军在加沙地带救出一名被挟持的女兵。\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1720028953056850074?s=20\u0026utm_source=pocket_reader)] 以色列电报群消息：加沙恐怖组织哈马斯的头目表示愿意移居黎巴嫩或者叙利亚，以换取以色列饶过他们的狗命。以色列正在考虑是否可以用这些头目的生路换取人质的释放。\n\n### 以色列对加沙的地面进攻 - 10月27日\n\n`传言` [[WikiLeaks](https://twitter.com/wikileaks/status/1719000849299407012)]（2023年10月13日）Israeli Ministry of Intelligence on October 13 suggests forced displacement of Gaza civilians to Egypt would \"yield positive and long term strategic results\". The advisory document envisions a three stage process including the establishment of tent cities in Sinai and  opening of humanitarian corridor, followed by construction of cities in northerm Sinai from which there would be no return Gaza\n\n`观点` [[陳軍](https://twitter.com/chenjunnyc), [纽约时报](https://www.nytimes.com/2023/10/19/opinion/biden-speech-israel-gaza.html)] （2023年10月19日）以色列即将犯一个可怕的错误\n\n`传言` [[John Zhang](https://twitter.com/JohnZhangSV/status/1716365303482073307?s=20\u0026utm_source=pocket_reader)] （2023年10月22日）以色列国防军的精确制导迫击炮摧毁了哈马斯的火箭弹发射点\n\n`错误` [[极光](https://twitter.com/Aurora107E/status/1716402574256144849?s=20\u0026utm_source=pocket_reader), [Babak Taghvaee](https://twitter.com/BabakTaghvaee1/status/1716375414036115500), [twitter](https://twitter.com/i/birdwatch/n/1716427575227035900)] ~~据称哈马斯恐怖分子发布视频显示他们从乌克兰战场的走私者那里获得了西方的AT4 和 NLAW 反装甲武器，用于对付以色列的战车。~~没有证据，[Babak Taghvaee](https://twitter.com/BabakTaghvaee1/status/1716375414036115500) 曾被其他人指控散布假消息。\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1716509690446671941?s=20\u0026utm_source=pocket_saves)] （2023年10月23日）在城市环境中与伊斯兰国作战的美国将军担任以色列顾问。军陆战队中将詹姆斯·格林，他曾帮助领导特种作战部队对抗伊斯兰国，并在伊拉克费卢杰服役，参与了当地一些最激烈的城市战斗。\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1716818301886836811?s=20\u0026utm_source=pocket_reader), [OSINTdefender](https://twitter.com/sentdefender/status/1716817644068958232?s=20\u0026utm_source=pocket_reader)]（2023年10月24日）This might be the Largest Rocket Attack from Gaza since the beginning few Days of the War.\n\n`消息` [[The Spectator Index](https://twitter.com/spectatorindex)] Israel's defense minister says Hamas has two options 'surrender unconditionally or die’\n\n`消息` [[美国之音](https://www.voachinese.com/a/us-officials-washington-advising-israel-to-hold-off-on-gaza-ground-invasion-to-negotiate-release-of-more-hostages-20231023/7323098.html?utm_source=twitter\u0026utm_medium=social\u0026utm_campaign=dlvr.it)] （2023年10月24日）美国官员：华盛顿建议以色列推迟地面进攻加沙，为谈判解救人质争取时间\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1717305025209540704?s=20\u0026utm_source=pocket_reader), [华尔街日报](https://www.wsj.com/livecoverage/israel-hamas-war-palestinians-news/card/israel-agrees-to-delay-invasion-of-gaza-so-u-s-can-rush-missile-defenses-to-region-wFU3kduhruPhm6e8OM7b)] （2023年10月25日）以色列和美国均证实，以色列国防军将推迟对加沙地带的地面进攻\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1717405343968268621?s=20\u0026utm_source=pocket_reader), [idfonline](https://twitter.com/idfonline/status/1717403162485629277)]（2023年10月25日）以军坦克昨夜开进加沙北部，清除恐怖分子据点，为后续战役做准备。\n\n`消息` [[德国之声](https://www.dw.com/zh/%E4%BB%A5%E8%89%B2%E5%88%97%E5%9C%B0%E9%9D%A2%E9%83%A8%E9%98%9F%E7%9F%AD%E6%9A%82%E8%BF%9B%E5%85%A5%E5%8A%A0%E6%B2%99%E8%A2%AD%E5%87%BB%E5%86%9B%E4%BA%8B%E7%9B%AE%E6%A0%87/a-67221193)] （2023年10月26日）以色列国防军称，以军坦克和步兵周三至周四夜间短暂进入加沙地带北部并袭击了众多军事目标。\n\n`传言` [[entropy](https://twitter.com/entropy_01/status/1717959869658271911?utm_source=pocket_reader)] （2023年10月27日）在从陆海空三个方向进行猛烈袭击后，以色列国防军发言人宣布今晚将开始对加沙的大规模地面行动。\n\n`传言` [[rainbow7852](https://twitter.com/rainbow78521/status/1717970830984945687?s=20\u0026utm_source=pocket_reader), [AP](https://apnews.com/article/israel-palestinians-gaza-airstrikes-region-e41b5b12e8cdf9db62395314d9a782b6?taid=653bf435d6113200015b4286\u0026utm_campaign=TrueAnthem\u0026utm_medium=AP\u0026utm_source=Twitter)] The Israeli army says ground forces are \"expanding their activity\" in Gaza shortly after internet service was cut off by Israeli bombardment.（2023年10月27日）以色列军队刚刚对整个加沙地带发动了前所未有的袭击，切断了通讯和互联网。所有通讯已被切断。\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1717981813891612956?s=20\u0026utm_source=pocket_reader)] （2023年10月27日）约旦外交部：以军地面行动已经开始。巴勒斯坦消息源：目睹以军坦克开进加沙，恐怖分子向以军发射导弹。\n\n`传言` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1717700038078632323?utm_source=pocket_reader), [OSINTdefender](https://twitter.com/sentdefender/status/1717676348519444667)] 地面戰開打！一支多達 100 多輛以色列國防軍裝甲車組成的龐大部隊過去一小時內突擊攻入約旦河西岸的傑寧市，顯然是大規模襲擊搜捕哈馬斯和 PIJ 游擊隊成員. 以軍車隊中包括多輛 CAT D9 裝甲推土機與大批戰鬥工兵，準備隨時夷平哈馬斯和 PIJ 游擊隊據點\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1717962381089755269?utm_source=pocket_reader)] （2023年10月27日）加沙战争最新态势：1、以军炮兵、空军、海军对加沙发起了自开战以来最大规模的轰击。2、以色列切断了加沙（部分地区？）的网络，多家新闻社表示无法与其在当地的穿记者服的恐怖分子建立联系。3、以色列国防军表示以军已扩大了在加沙的地面行动，目前尚不清楚这是昨夜那种一次性行动还是地面战的开始。4、拜登与其安全助理在白宫听取有关加沙战事的最新进展。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231028-1446299)] 以色列坦克和部队星期五（10月27日）晚进入加沙地带，与加沙地带武装分子交战。与此同时，以色列战机对加沙地带的猛烈空袭仍在持续。\n\n`消息` [[梅森DO](https://twitter.com/MASONDO_TW/status/1717341677730611316)] 以色列軍士兵抓獲疑似哈馬斯恐怖分子，讓他們高舉以色列國旗並高呼「以色列萬歲」，恐怖分子看起來不再慶祝了。\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1716677514842780018?s=20\u0026utm_source=pocket_reader)] 在以色列的撤离命令下，大批加沙北部居民涌进南部城市汗尤尼斯（Khan Younis）。BBC找到了两位在这里苦苦寻找庇护所的人，透过他们的视频日记来反映当前战火下的真实生活。据联合国统计，自10月7日以来，加沙地带已有60多万人离开家园。\n\n`消息` [[德国之声](https://twitter.com/dw_chinese/status/1718844709949587877?s=20\u0026utm_source=pocket_reader), [John Zhang](https://twitter.com/JohnZhangSV/status/1718467942323810324?s=20\u0026utm_source=pocket_saves)] 美国科技富豪马斯克上週末承诺，将提供卫星通信系统“星链”（Starlink），支援国际公认的救援组织在加沙的网络服务，此举遭到以色列强烈批评。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231030-1446602)] （2023年10月30日）以色列宣布扩大地面战的48小时后，发出包围加沙地带主要城市的信号，公布了主战坦克进入巴勒斯坦飞地西海岸的照片。\n\n`消息` [[以色列在中国](https://twitter.com/IsraelinChina/status/1718115983410545076?s=20\u0026utm_source=pocket_reader)] 哈马斯利用加沙的希法医院作为恐怖袭击的基础设施。\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw), [自由时报](https://news.ltn.com.tw/news/world/breakingnews/4476006)] 為何空襲加薩難民營？ 以色列軍方發言人出面說明。以軍31日空襲加薩北部的賈巴利亞難民營造成50多人死亡，以軍證實空襲但澄清發動攻擊前已透過空投傳單、社群媒體發文、無線電明碼廣播等方式通知平民離開該地區。目標是一名哈瑪斯指揮官並已將其擊斃。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231102-1447301)] 以色列星期三（11月1日）连续第二天空袭加沙北部的贾巴利亚（Jabalia）难民营，造成大量人员伤亡。联合国人权事务高级专员办事处说，以色列轰炸难民营的行为可能构成战争罪。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231101-1447288)] 以色列空袭难民营引发谴责 首批伤员和外国公民撤离加沙\n\n`传言` [[new27brigade](https://twitter.com/new27brigade/status/1719766218335502511?utm_source=pocket_reader), [Emanuel (Mannie) Fabian](https://twitter.com/manniefabian/status/1719704913205146005)] （2023年11月1日）以色列國防軍當地上午新一波在加薩的行動\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1719915500053184661?utm_source=pocket_reader), [自由时报](https://news.ltn.com.tw/news/world/breakingnews/4477219)] 以色列國防軍（IDF）1日表示二度轟炸加薩賈巴利亞難民營（Jabalia camp），並成攻再擊斃一名哈瑪斯高階指揮官。成功擊斃躲在地道的哈瑪斯游擊隊反戰車飛彈部隊指揮官阿薩爾（Muhammad A'sar）。\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1720035592195408354?s=20\u0026utm_source=pocket_reader), [Arsen Ostrovsky](https://twitter.com/Ostrov_A/status/1720028803282489484)] 在加沙前线牺牲的Salman Habaka中校，它是迄今为国捐躯的将士中军阶最高的。他是以色列德鲁兹阿拉伯人。德鲁兹阿拉伯人骁勇善战，是以色列国的忠实公民。\n\n`传言` [[OSINTtechnical](https://twitter.com/Osinttechnical/status/1720168305850233329?utm_source=pocket_reader)] Israeli forces have most likely gained control of the Al Rashid coast road in Gaza City over the past few hours. Footage from earlier today shows the junction at the No.10 road, multiple vehicles can be seen burning, including a destroyed ambulance.\n\n`传言` [[entropy](https://twitter.com/entropy_01/status/1720293389282029971?s=20\u0026utm_source=pocket_reader), [Clash Report](https://twitter.com/clashreport/status/1720147135985840545)] 典型的哈马斯对“战利品”主动防御系统的战法。哈马斯士兵手持PG-7VR串联炸药装药部溜到梅卡瓦前，将其放置在炮塔下，然后返回地道，同伴立刻发射另一枚RPG。玉碎冲锋放置炸弹的目的是损伤防护系统，短距离发射则是让AESA雷达来不及反应。视频显示坦克随后发生爆炸，损伤情况不明。\n\n`传言` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1720403394450673675?s=20\u0026utm_source=pocket_reader), [Emanuel (Mannie) Fabian](https://twitter.com/manniefabian/status/1720388313624817906)] 稍早以色列陸軍精銳的 Yahalom 戰鬥工兵探勘完哈馬斯的地道之後、新影片顯示地道已被徹底炸毀封閉。\n\n`传言` [[联合早报](https://twitter.com/zaobaosg/status/1720599846363521334?s=20\u0026utm_source=pocket_reader), 新华社] 巴勒斯坦加沙地带卫生部门星期五（11月3日）晚上说，加沙城希法医院门口的医疗车队当天遭以色列军队空袭，造成至少15人死亡、60人受伤。新华社引述巴勒斯坦消息人士说，以军空袭期间，医疗车队正准备将伤员送往加沙地带南部拉法口岸，并转移至埃及接受治疗。\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1720622452240162893?utm_source=pocket_reader), [Times of Israel](https://www.timesofisrael.com/hamas-tried-to-send-fighters-to-egypt-in-ambulances-for-wounded-gazans-us-official/amp/)] 果不其然，這是會有的事，美國官員表示，哈馬斯武裝份子成員試圖利用紅十字會和紅新月會提供的救護車從加薩逃往埃及，與76名重傷的巴勒斯坦人一起逃亡，最後被查獲阻止偷渡出境\n\n`消息` [[weixinart](https://twitter.com/Weixinart/status/1720764746863923688?s=20\u0026utm_source=pocket_reader), [visegrad24](https://twitter.com/visegrad24/status/1720751819419234776)] （11月4日）巴勒斯坦权力机构负责人马哈茂德·阿巴斯发出严厉谴责：“哈马斯领导人躲在救护车里第一个从加沙逃往西奈半岛，任由让那里的人民被屠杀”\n\n### 地面进攻 - 约旦河西岸杰宁方向\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1719501374092919207?utm_source=pocket_reader)] Israeli Troops and Armored Vehicles are Storming the City of Jenin in the West Bank once again tonight.\n\n## 各国政府之非军事反应\n\n### 国际\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1711215806724682100)] 联合国安全理事会10月8日举行紧急会议，讨论以色列与巴勒斯坦哈马斯武装之间的军事冲突。\n\n`传言` [[财小僧](https://weibo.com/6725906589/Nn5aG0gRX)] （2023年10月9日）以色列常驻联合国代表吉拉德·埃尔丹在安理会特别会议之后表示，不会与哈马斯谈判。他说：“与这些野蛮人交谈的时代已经结束。现在是摧毁哈马斯恐怖主义基础设施、彻底消灭它的时候了，这样类似的恐怖就不会再发生了。”\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%BA%9A%E6%B4%B2/20231010-%E6%9C%9D%E9%B2%9C%E8%B0%B4%E8%B4%A3%E4%BB%A5%E8%89%B2%E5%88%97%E9%80%A0%E6%88%90%E5%8A%A0%E6%B2%99%E6%B5%81%E8%A1%80)] （2023年10月10日）朝鲜官方媒体今天指责以色列在加沙造成流血事件。称解决巴以冲突危机的出路，在建立巴勒斯坦国。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E5%9B%BD%E9%99%85/20231015-%E8%81%94%E5%90%88%E5%9B%BD%E7%A7%98%E4%B9%A6%E9%95%BF-%E4%B8%96%E5%8D%AB%E6%80%BB%E5%B9%B2%E4%BA%8B%E6%95%A6%E4%BF%83%E5%93%88%E9%A9%AC%E6%96%AF%E7%AB%8B%E5%8D%B3%E9%87%8A%E6%94%BE%E4%BA%BA%E8%B4%A8?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月15日）联合国秘书长、世卫总干事敦促哈马斯立即释放人质\n\n`消息` [[联合早报](https://twitter.com/zaobaosg/status/1714147982013030791?s=20)] （2023年10月17日）在以色列和巴勒斯坦激进组织哈马斯的冲突越演越烈之际，马来西亚指责法兰克福书展主办方偏向以色列，并为此退出这个国际书展。\n\n`消息` [[visegrad24](https://twitter.com/visegrad24/status/1716935238805262492?s=20\u0026utm_source=pocket_reader), [John Zhang](https://twitter.com/JohnZhangSV/status/1716888537277346227?s=20\u0026utm_source=pocket_reader)] 联合国秘书长古特雷斯说哈马斯的攻击不是凭空而来的 did not occur in vacuum.\n\n`消息` [[德国之声](https://twitter.com/dw_chinese/status/1717073013739536791?s=20\u0026utm_source=pocket_reader), [The Spectator Index](https://twitter.com/spectatorindex/status/1716839063670661531)] 以色列驻联合国大使要求联合国秘书长辞职\n\n`消息` [[菲菲4.0](https://twitter.com/meimei1935/status/1717350169988001803?s=20\u0026utm_source=pocket_reader)] 联合国秘书长为自己的言论辩护。[[视频](https://twitter.com/i/status/1717350169988001803)]\n\n`消息` [[新台灣國防軍事網](https://twitter.com/Military_idv_tw/status/1719263921041981845?utm_source=pocket_reader), [NEXTA](https://twitter.com/nexta_tv/status/1719260487064404050)] 稍早以色列駐聯合國使團全員戴上二戰納粹強迫猶太人帶的「黃星」胸章表示將持續到聯合國願意譴責哈瑪斯為止，並諷刺聯合國稱「你們中的一些人已經忘記了這個國際組織為何成立」\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1717305025209540704?s=20\u0026utm_source=pocket_reader), [联合国新闻](https://news.un.org/en/story/2023/10/1142817)] （2023年10月25日）中俄两国使用否决权，美国提出的联合国安理会决议未获通过。美国起草的决议谴责哈马斯，支持以色列的自卫权，并呼吁立即释放所有人质，以及暂时停火以进行人道援助。中国的代表张军表示，北京反对该决议，因为它没有要求立即停火。俄罗斯的理由是不支持美国的地缘政治利益。另外阿联酋也投了反对票。其他12会员国有10个赞成、两个弃权。\n\n`消息` [[列支敦士登匿名用户](https://twitter.com/UNxjpsb/status/1718069528880689633?utm_source=pocket_reader), [DrEliDavid](https://twitter.com/DrEliDavid/status/1718064305373868140), [John Zhang](https://twitter.com/JohnZhangSV/status/1718012705490256299?s=20\u0026utm_source=pocket_reader), [CNN](https://www.cnn.com/middleeast/live-news/israel-hamas-war-gaza-news-10-27-23/h_ef05e5c0d86dd26103e1edb0373e3a1f)] （10月27日）联合国周五在美国和以色列的强烈反对下批准了一项决议，要求以色列和哈马斯之间停火。一项联合国决议通过，没有谴责哈马斯的屠杀，也没有呼吁释放人质。在西方世界，只有奥地利、克罗地亚、捷克、匈牙利和美国投了反对票。\n\n`消息` [[联合早报](https://twitter.com/zaobaosg/status/1717888959911518220?s=20\u0026utm_source=pocket_reader)] （2023年10月27日）马来西亚教育部下令旗下学校和教育机构将下周列为“巴勒斯坦团结周”，在这一计划尚未正式开启之际，雪兰莪州巴生某一小学传出学生在“挺巴”活动上，拿着玩具枪示威。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231030-1446808)] 近日在社交媒体流传的视频和图片显示，马来西亚小学生在“挺巴”活动上打扮成圣战士、高举玩具枪示威，引起哗然。对此，柔佛王储依斯迈也加入批评，质问“这究竟是要传达什么讯息？”\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1719540460971241888?s=20\u0026utm_source=pocket_reader)] （2023年10月31日）南美洲国家玻利维亚与以色列断绝外交关系。哥伦比亚、智利召回驻以色列大使，\n\n`传言` [[NOELREPORTS](https://twitter.com/NOELreports/status/1711467027209093625)] 车臣僭主卡德罗夫表示支持巴勒斯坦，愿意提供“维和部队”驱逐 “troublemakers”\n\n`传言` [[NiKITa](https://twitter.com/NiKiTa_32156/status/1711823597353009591?utm_source=pocket_saves)] 委內瑞拉總統馬杜羅公開談巴以衝突. [[视频](https://twitter.com/i/status/1711823597353009591)]\n\n### 中东\n\n`传言` [[ArukuSageMind](https://twitter.com/AzukaDM/status/1711410413651276153)] 沙特阿拉伯停止与以色列关系正常化的谈判\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231010-%E4%BC%A0%E5%8D%A1%E5%A1%94%E5%B0%94%E6%96%A1%E6%97%8B%E5%93%88%E9%A9%AC%E6%96%AF%E4%B8%8E%E4%BB%A5%E8%89%B2%E5%88%97%E8%BF%9B%E8%A1%8C%E4%BA%BA%E8%B4%A8%E8%B0%88%E5%88%A4-%E4%BB%A5%E8%89%B2%E5%88%97%E6%96%B9%E6%88%96%E5%90%A6%E8%AE%A4)] 传卡塔尔斡旋哈马斯与以色列进行人质谈判。以色列官员仅告诉路透社：“目前没有正在进行任何谈判。”\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231013-%E4%BC%8A%E6%9C%97%E8%AD%A6%E5%91%8A%E4%BB%A5%E8%89%B2%E5%88%97-%E9%A6%96%E6%8F%90%E8%BD%B4%E5%BF%83%E5%9B%BD%E5%8F%8D%E5%87%BB)] 伊朗外交部长阿米拉卜杜拉希安警告，针对巴勒斯坦人的持续犯罪行为将得到“轴心国家”的回应，以色列将对由此产生的后果负责。但伊朗方面没有列出轴心国名单。伊朗领袖此前呼吁阿拉伯国家联合针对以色列。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231015-%E9%98%BF%E5%B7%B4%E6%96%AF-%E5%93%88%E9%A9%AC%E6%96%AF%E7%9A%84%E8%A1%8C%E5%8A%A8%E4%B8%8D%E4%BB%A3%E8%A1%A8%E5%B7%B4%E5%8B%92%E6%96%AF%E5%9D%A6%E4%BA%BA?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty), [BBC](https://twitter.com/bbcchinese/status/1713773404313260474?utm_source=pocket_saves)] （2023年10月15日）阿巴斯：哈马斯的行动不代表巴勒斯坦人民。巴勒斯坦官方通讯社在引述总统阿巴斯（Mahmoud Abbas）称“哈马斯的行动和政策不代表巴勒斯坦人民”后，删除了这句表态。\n\n`观点` [[多伦多方脸](https://twitter.com/torontobigface/status/1713678910423253087?s=20\u0026utm_source=pocket_saves)] 这个讲的其实是没有问题的。哈马斯在一定程度上真的代表不了巴勒斯坦人。而最近的民调也显示哈马斯并没有那么受欢迎。\n\n`错误` [[OSINTdefender](https://twitter.com/sentdefender), [twitter](https://twitter.com/i/birdwatch/n/1716533568015356149), [Al-Monitor](https://twitter.com/almonitor/status/1716459460854739337?s=46)] ~~据报土耳其政府要求哈马斯领导人 Ismail Haniyeh 和其他高官离开土耳其。~~后被辟谣。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231025-1445701)] 土耳其总统埃尔多安说，巴勒斯坦激进组织哈马斯不是恐怖组织，而是为自己土地而战斗的“解放者”。\n\n`消息` [[Nikita](https://twitter.com/NiKiTa_32156/status/1718332182257951134)] 土耳其宣佈以色列為「戰犯」土耳其阿塔圖爾克機場有超過150萬人集會，埃爾多安表示對巴勒斯坦人的聲援。（土耳其10月29日國慶）\n\n`观点` [[星川 蘭](https://twitter.com/Hoshikawa_ran/status/1718339380740608183?s=20\u0026utm_source=pocket_reader)] 埃尔多安这么做的原因很简单：以色列与罗贾瓦和伊拉克库尔德斯坦自治区都保持着良好的关系，并且是少有的公开支持库尔德独立的国家\n\n`传言` [[川和 koi iok](https://twitter.com/koiiok17)] 沙特阿拉伯现场记者发来报道。在六个小时前于沙特阿拉伯举办的穆斯林57国外长会议上关于是否接受巴勒斯坦难民的提案中，全员一致否决了该提案。穆斯林兄弟知道正在发生什么。\n\n`消息` [[美国之音](https://www.voachinese.com/a/blinken-heads-to-middle-east-amid-intensifying-israel-strikes-on-gaza-20231101/7337893.html?utm_source=twitter\u0026utm_medium=social\u0026utm_campaign=dlvr.it)] 布林肯在以色列加强对加沙的打击之际前往中东\n\n`消息` [[联合早报](https://www.zaobao.com.sg/news/world/story20231104-1447788)] 布林肯星期五分别与以色列总统赫尔佐格、总理内坦亚胡和战时内阁成员会晤，其中与内坦亚胡的会谈持续近一小时。美国国务卿布林肯强调，以色列在加沙的攻击行动中，必须确保平民的安全。他这番谈话显示，美国改变关注点，现在更为关心随以色列军事行动而来的人道灾难。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231104-1447829)] 约旦星期六（11月4日）将为化解以哈冲突举办一外交部长会议，与会者除了美国国务卿布林肯，还包括沙特阿拉伯、卡塔尔、阿拉伯联合酋长国和埃及的外长，巴勒斯坦代表也将出席。\n\n`观点` [[喷嚏网-浮世绘811-存档](https://web.archive.org/web/20231105020018/https://www.dapenti.com/blog/more.asp?id=174814\u0026name=xilei)] 彭博社报道说，以色列已经中断了和俄罗斯在叙利亚近期问题上的协调机制。以色列《国土报》说，“内塔尼亚胡原本是一个加入了危险又专横帮派的叛逆孩子，现在又不情愿地成为美国爸爸的听话儿子。”\n\n### 美国\n\n`传言` [[喷嚏图卦20231011](https://web.archive.org/web/20231014101251/https://www.dapenti.com/blog/more.asp?name=xilei\u0026id=174334)] 美国务卿布林肯11日启程访问以色列和约旦\n\n`传言` [[喷嚏图卦20231011](https://web.archive.org/web/20231014101251/https://www.dapenti.com/blog/more.asp?name=xilei\u0026id=174334)] 拜登周二召集国安团队商讨巴以局势，再次与内塔尼亚胡通话，并将发表电视讲话。\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1712803443843424347)] 中东利害关系一目了然。美国无法接受控制中东包括海湾并拥核的伊朗系，这比原俄罗斯后院乌克兰重要得多。没以色列，海湾废物王爷拿美械打不过穿拖鞋的胡塞，会被伊朗系迅速消灭。（王爷军为什么这么菜呢？换成外国雇佣兵行不行）前现代活化石面对现代革命政权，当然是废物点心。你拿江户幕府碰碰明治政府也一样…别的不说，现在政府的控制动员汲取力，民族主义作为文宣的号召凝聚力，更别说现代革命政权都是枪杆子打出来，天然倚重军队，前现代不仅远离惧怕康米/民族/民主/军国各种主义，也远力害怕防范它们的容器-军队。\n\n`消息` [[AP](https://apnews.com/article/blinken-hamas-israel-war-egypt-saudi-arabia-cb925bb41b99b4c190f026e9e9ff8fab?utm_campaign=TrueAnthem\u0026utm_medium=AP\u0026utm_source=Twitter)] （2023年10月16日）访问6个阿拉伯国家后，布林肯周一返回以色列\n\n`消息` [[法广](https://www.rfi.fr/cn/%E5%9B%BD%E9%99%85/20231015-%E7%BE%8E%E4%BB%A5%E4%B8%A4%E5%9B%BD%E5%AE%98%E5%91%98%E8%AE%A8%E8%AE%BA%E6%8B%9C%E7%99%BB%E6%9C%AC%E5%91%A8%E8%AE%BF%E9%97%AE%E4%BB%A5%E8%89%B2%E5%88%97%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月15日）美以两国官员讨论拜登本周访问以色列的可能性\n\n`消息` [[President Biden](https://twitter.com/POTUS/status/1714090576076038360?s=20\u0026utm_source=pocket_reader)] （2023年10月16日）On Wednesday, I'll travel to Israel to stand in solidarity in the face of Hamas's brutal terrorist attack. I'll then travel to Jordan to address dire humanitarian needs, meet with leaders, and make clear that Hamas does not stand for Palestinians' right to self-determination.\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231018-1443918)]（2023年10月18日）美国总统拜登星期三上午11时（新加坡时间下午4时）乘空军一号飞抵以色列特拉维夫的本·古里安机场（Ben Gurion）\n\n`消息` [[联合早报](https://twitter.com/zaobaosg/status/1714974726269940090?s=20\u0026utm_source=pocket_reader)] （2023年10月19日）美国总统拜登将针对俄乌战争和以哈冲突发表罕见**椭圆形办公室演说**，以争取美国人的支持，为以色列和乌克兰提供军事援助。\n\n`观点` [[entropy](https://twitter.com/entropy_01/status/1714868833733976147?s=20\u0026utm_source=pocket_reader), [OSINTdefender](https://twitter.com/sentdefender/status/1714845841947574554)] The Director of Congressional and Public Affairs at the U.S. State Department’s Bureau of Political-Military Affairs, Josh Paul who is in Charge of U.S. Arms Transfers to Foreign Nations has just Resigned. 这位要是辞职信说自己反对美国当局巴以政策还显得自己高尚一些，结果辞职信里面大谈特谈人权自由，让人笑掉大牙。合着你老在局里干了十一年，前面都觉得没事，结果今天突然良心发现觉得转让武器就侵犯人权了。\n\n`消息` [[entropy](https://twitter.com/entropy_01/status/1715045981711139086?s=20\u0026utm_source=pocket_reader), [Sam Shoemate](https://twitter.com/samosaur/status/1714962125980901873), [Inty热点新闻](https://twitter.com/__Inty__/status/1715144112440230331?utm_source=pocket_reader)] 拜登会见特种部队士兵，媒体照片泄露军人面容。白宫证实在 Instagram 照片中意外曝光了驻以色列的美国特种部队。一位发言人表示：“我们对这个错误感到遗憾”\n\n`消息` [[BBC](https://www.bbc.com/zhongwen/simp/world-67166368?at_medium=social\u0026at_ptr_name=twitter\u0026at_campaign=Social_Flow\u0026at_link_origin=bbcchinese\u0026at_campaign_type=owned\u0026at_bbc_team=editorial\u0026at_link_id=9BBBA7C4-6F41-11EE-A203-57FBD89D5CC3\u0026at_format=link\u0026at_link_type=web_link)] 美国总统拜登宣布将向国会提出紧急预算申请，向以色列与乌克兰提供军事援助。乌克兰总统泽连斯基说感到“让人难以置信地鼓舞”，并称“美国投资在乌克兰防卫之上，将能确保欧洲整体以至于世界的长期安全”。\n\n`观点` [[BBC](https://www.bbc.com/zhongwen/simp/world-67203605?at_medium=social\u0026at_ptr_name=twitter\u0026at_campaign_type=owned\u0026at_campaign=Social_Flow\u0026at_bbc_team=editorial\u0026at_link_origin=bbcchinese\u0026at_link_type=web_link\u0026at_link_id=2B65CF54-7266-11EE-B192-0F3CD99D5CC3\u0026at_format=link)] （2023年10月24日）美国已承诺毫不动摇地支持以色列，并以军事援助表决心。但鉴于该地区过往的纠葛至今仍挥之不去，美国参与其中的限度会在哪里？\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__), [Disclose.tv](https://twitter.com/disclosetv/status/1717257619897725068)] （2023年10月25日）美国众议院新议长迈克约翰逊宣布将支持以色列的决议作为他的首项议案\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1717378139616391664?s=20\u0026utm_source=pocket_reader), [AP](https://apnews.com/article/israel-palestine-desantis-florida-education-sjp-12b4d4f2bdd8618c12b8a29cc852be25), [变态辣椒](https://twitter.com/remonwangxt/status/1716953859913044303?s=20\u0026utm_source=pocket_reader)]（2023年10月26日）佛罗里达州禁止支持哈马斯恐怖主义的“巴勒斯坦正义学生组织”（Students for Justice in Palestine）在州内大学的活动。因試圖援助哈馬斯的「阿克薩洪水」恐怖襲擊行動\n\n`消息` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1717879129977376867?utm_source=pocket_reader)] （2023年10月27日）美国参议院一天内全票通过了【两项】决议谴责美国大学纵容反犹太挺哈马斯的言论\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231028-1446314)] 美国商务部星期五（10月27日）宣布，出于国家安全和外交政策利益的考虑，美国已暂停向所有非政府用户发放大多数民用枪支和弹药的出口许可证。\n\n### 德国\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231009-%E6%9C%94%E5%B0%94%E8%8C%A8-%E5%BE%B7%E5%9B%BD%E5%9D%9A%E5%AE%9A%E4%B8%8D%E7%A7%BB%E5%9C%B0%E7%AB%99%E5%9C%A8%E4%BB%A5%E8%89%B2%E5%88%97%E4%B8%80%E8%BE%B9?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 朔尔茨：德国坚定不移地站在以色列一边\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231012-1442062)] （2023年10月12日）德国总理朔尔茨宣布打击支持巴勒斯坦激进组织哈马斯的组织萨米杜恩（Samidoun），德国将在国内禁止所有为哈马斯筹款和提供其他支持的活动，并将禁止支持国际活动组织萨米杜恩。同时表明伊朗对允许哈马斯发展壮大并对以色列发动袭击负有责任。\n\n`消息` [[德国之声](https://www.dw.com/zh/%E5%BE%B7%E5%9B%BD%E6%80%BB%E7%90%86%E4%BB%A5%E8%89%B2%E5%88%97%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%9F%E6%98%AF%E5%BE%B7%E5%9B%BD%E7%9A%84%E5%9B%BD%E5%AE%B6%E5%88%A9%E7%9B%8A/a-67076804)] \"以色列的安全是德国的国家利益\"这句话最早出自德国前总理默克尔。德国本届政府将这句话写进了三党联合执政协定，表明德国对以色列的安全担负著特殊的责任。\n\n`传言` [[Getty](https://twitter.com/region776/status/1712823603967008958)] 德國警察開始逮捕支持哈瑪斯的示威者 [[视频](https://twitter.com/i/status/1712823603967008958)]\n\n`传言` [[NiKITa](https://twitter.com/NiKiTa_32156/status/1713851867573440625?utm_source=pocket_saves), [Visegrád 24](https://twitter.com/visegrad24/status/1715436909957144925?s=20\u0026utm_source=pocket_reader)] 德國警察揍哈馬斯支持者。Anti-Israel protesters clash with German police in Berlin\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231016-%E5%BE%B7%E5%9B%BD%E6%80%BB%E7%90%86%E6%9C%94%E5%B0%94%E8%8C%A8%E5%B0%86%E8%AE%BF%E9%97%AE%E4%BB%A5%E8%89%B2%E5%88%97?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]（2023年10月16日）德国总理朔尔茨将访问以色列\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714283814929990136?s=20\u0026utm_source=pocket_reader)]（2023年10月17日）德国总理抵达以色列\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714369006302532070?s=20\u0026utm_source=pocket_reader), [Sara Sievert](https://twitter.com/sara__si/status/1714363378708148588)]（2023年10月17日）德国总理奥拉夫-肖尔茨（Olaf Scholz）的代表团在从特拉维夫起飞前往开罗之前，因导弹警报而不得不突然下机全部趴在地上。\n\n`消息` [[德国之声](https://www.dw.com/zh/%E5%BE%B7%E5%9B%BD%E5%AF%B9%E7%8A%B9%E5%A4%AA%E4%BA%BA%E6%9D%A5%E8%AF%B4%E4%BB%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AE%89%E5%85%A8%E7%9A%84%E5%9B%BD%E5%AE%B6/a-67165011)] 德国犹太人中央委员会主席舒斯特对德国编辑部网络（RND）表示，在他看来，安全部门正在尽其所能，维持在德国犹太人的安全处境。\n\n`消息`  [[德国之声](https://twitter.com/dw_chinese/status/1716377479248495006?utm_source=pocket_reader)] 德国最大的反对党基民盟（CDU）主席梅尔茨（Friedrich Merz）建议，今后申请入籍德国者，在入籍审核中必须公开承认以色列国家的生存权，支持捍卫以色列的安全。\n\n`消息` [[德国之声](https://twitter.com/dw_chinese/status/1716762946318053446?s=20\u0026utm_source=pocket_reader)] 德国总理肖尔茨在接受《明镜周刊》采访时表示，不符合避难条件的移民，必须被遣返。 “我们必须更多更快地遣返。”就如何实施，社民党领导的内政部即将推出具体措施。反对党基民盟联邦议员，前卫生部长施潘则认为这一态度还不够明确。他主张在必要时，应该使用“肢体暴力”将“非法移民”阻挡在国境之外。\n\n`观点` [[rainbow7852](https://twitter.com/rainbow78521/status/1718681331687727157?s=20\u0026utm_source=pocket_reader), [Cem Özdemir](https://twitter.com/cem_oezdemir/status/1718646028071588182)] Cem Özdemir，德国联邦农业部长，绿党政治家 （土耳其裔）他在集会演讲中说：哈马斯恐怖分子杀害犹太人不是因为他们关心巴勒斯坦人。而是因为他们是反犹太主义者。受害人因为他们是犹太人而被杀害。将任何庆祝反犹恐怖、否认以色列存在的人，留在德国都是个错误。\n\n### 欧洲其他地区\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231010-1441200)] 美英法德意领导人矢言“坚定团结”支持以色列\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%B3%95%E5%9B%BD/20231013-%E4%BB%8E%E4%BB%A5%E8%89%B2%E5%88%97%E6%92%A4%E7%A6%BB%E7%9A%84%E7%AC%AC%E4%B8%80%E6%89%B9%E6%B3%95%E5%9B%BD%E4%BA%BA%E8%B0%88%E6%92%A4%E4%BE%A8%E6%84%9F%E5%8F%97)] （2023年10月13日）从以色列撤离的第一批法国人谈撤侨感受\n\n`消息` [[德国之声](https://www.dw.com/zh/%E6%97%A0%E6%9D%A1%E4%BB%B6%E5%8A%9B%E6%8C%BA%E4%BB%A5%E8%89%B2%E5%88%97%E5%86%AF%E5%BE%B7%E8%8E%B1%E6%81%A9%E8%A1%A8%E6%80%81%E9%81%AD%E6%89%B9/a-67103220)] （2023年10月13日）无条件力挺以色列？冯德莱恩表态遭批\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%B3%95%E5%9B%BD/20231015-%E5%B7%B4%E9%BB%8E%E4%B8%80%E6%B8%85%E7%9C%9F%E5%AF%BA%E4%BC%8A%E7%8E%9B%E7%9B%AE%E8%A6%81%E6%B1%82%E5%B0%86-s%E5%90%8D%E5%8D%95%E4%B8%8A%E7%9A%84%E9%9D%9E%E6%B3%95%E5%9B%BD%E4%BA%BA-%E7%BB%9F%E7%BB%9F%E9%A9%B1%E9%80%90%E5%87%BA%E5%A2%83?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月15日）巴黎一清真寺伊玛目要求将\"S名单上的非法国人\"统统驱逐出境。\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231015-%E9%A9%AC%E5%85%8B%E9%BE%99%E8%AD%A6%E5%91%8A%E4%BC%8A%E6%9C%97%E6%80%BB%E7%BB%9F%E4%B8%8D%E8%A6%81%E8%AE%A9%E5%86%B2%E7%AA%81%E5%8D%87%E7%BA%A7%E6%89%A9%E5%A4%A7%EF%BC%8C%E6%B3%95%E5%9B%BD%E5%90%91%E4%BB%A5%E8%89%B2%E5%88%97%E6%8F%90%E4%BE%9B%E6%83%85%E6%8A%A5?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月15日）马克龙警告伊朗总统不要让冲突升级扩大，法国向以色列提供情报\n\n`消息` [[法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231016-%E5%86%AF%E5%BE%B7%E8%8E%B1%E6%81%A9%E4%BB%A5%E8%89%B2%E5%88%97%E8%A1%8C%E5%9C%A8%E6%AC%A7%E7%9B%9F%E5%86%85%E9%83%A8%E5%BC%95%E5%8F%91%E7%9A%84%E4%B8%80%E5%9C%BA%E9%A3%8E%E6%9A%B4?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]（2023年10月17日）冯德莱恩以色列行在欧盟内部引发的一场风暴\n\n`消息` [[OSINTdefender](https://twitter.com/sentdefender/status/1715369640090570838?s=20\u0026utm_source=pocket_reader)] The Interior Minister of Germany, Nancy Faeser has stated today that Hamas Propaganda will not be Tolerated in Germany and that their Supporters should be Arrested and Deported from the Country.\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715436505420988662?s=20\u0026utm_source=pocket_reader)] 荷兰警察驱散亲巴勒斯坦的群体\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%B3%95%E5%9B%BD/20231020-%E4%B8%8D%E5%88%B0%E4%B8%80%E5%91%A8%EF%BC%8C%E6%B3%95%E5%9B%BD%E5%87%A1%E5%B0%94%E8%B5%9B%E5%AE%AB%E4%BA%94%E6%AC%A1%E5%9B%A0%E7%82%B8%E5%BC%B9%E5%A8%81%E8%83%81%E7%96%8F%E6%95%A3%E6%B8%B8%E5%AE%A2?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]  不到一周，法国凡尔赛宫五次因炸弹威胁疏散游客\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%B3%95%E5%9B%BD/20231023-%E6%B3%95%E5%9B%BD%E6%80%BB%E7%BB%9F%E5%B0%86%E5%88%B0%E8%AE%BF%E4%BB%A5%E8%89%B2%E5%88%97?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 法国总统将到访以色列\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1716830285458022487?s=20\u0026utm_source=pocket_reader), [NEXTA](https://twitter.com/nexta_tv/status/1716816161768358122), [极光](https://twitter.com/Aurora107E/status/1716834869194739735?utm_source=pocket_reader)] 马克龙建议组成国际联盟，用打击伊斯兰国的方式打击哈马斯。\n\n### 中华人民共和国\n\n`消息` [[人民视频](https://mr.people.cn/davmu/share/mp/video/2023/10/yNV8xsV8pl/index.html)] （2023年10月9日）中方回应是否认为哈马斯袭击是恐怖行为：\n\n- 外交部发言人毛宁主持例行记者会。有记者提问，哈马斯周六发动的袭击造成700多人死亡，其中大多数是平民，还有数十名被绑架者被带到加沙，中国政府是否认为这些行为是恐怖行为？\n- 毛宁表示，中方已经就当前巴以局势升级表明了立场，我们对紧张局势加剧和暴力升级深表关切，对于冲突造成平民伤亡感到十分痛心，我们反对和谴责伤害平民的行为，我们认为当务之急是尽快停火止战、恢复和平，共同推动局势降温。\n\n`消息` [**[李老师不是你老师,](https://twitter.com/whyyoutouzhele/status/1712774843244949753)** [The Spectator Index](https://twitter.com/spectatorindex/status/1712737562853507334), [变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1712795043164033307), [BBC](https://twitter.com/bbcchinese/status/1712755347277205805)] 以色列驻北京外交人员被捅。[[视频](https://twitter.com/i/status/1712795043164033307)]\n\n`消息` [**[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712821368423604412)**] （2023年10月13日）朝阳警方通报，确认凶手是一名外籍53岁男子，在京从事小商品经营工作，没有透露国籍。遇刺者是一名外交人员家属\n\n`消息` [[李老师不是你老师](https://x.com/whyyoutouzhele/status/1713182456180810232?s=20)[,](https://twitter.com/whyyoutouzhele) [以色列在中国](https://twitter.com/IsraelinChina/status/1713035067646451828)] （2023年10月12日）受以色列外交部长埃利•科亨指示，以色列外交部亚太事务副总司长兼大使拉菲•哈帕兹同中国政府中东问题特使翟隽通话。哈帕兹表示，以色列就中国对于以色列南部最新事件的声明与媒体报道深表失望。在这些信息当中，并没有对恐怖主义组织哈马斯针对无辜平民发起的恐怖袭击和恶毒屠杀，以及将数十人绑架到加沙地带的行径做出清晰明确的谴责。\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1713548938433761559?utm_source=pocket_saves), [BBC](https://twitter.com/bbcchinese/status/1713737694847869047?s=20\u0026utm_source=pocket_saves)] （2023年10月15日）中国外交部长王毅先后同沙特，伊朗，土耳其外长通话，并表示：以色列的行为已经超出自卫范畴。中方支持伊斯兰国家在巴勒斯坦问题上加强团结协调，发出一致声音\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1713317777560219985), [法广](https://www.rfi.fr/cn/%E4%B8%AD%E4%B8%9C/20231015-%E7%8E%8B%E6%AF%85%E4%B8%8E%E4%BC%8A%E6%9C%97%E5%8F%8A%E5%9C%9F%E8%80%B3%E5%85%B6%E5%A4%96%E9%95%BF%E9%80%9A%E8%AF%9D-%E5%B9%B6%E7%A7%B0%E8%A6%81%E4%B8%8E%E5%90%84%E6%96%B9%E6%B2%9F%E9%80%9A?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] （2023年10月14日）据以色列当地华人透露，目前中国驻以色列大使馆已经彻底摆烂。甚至连大使馆电话也已经打不通了。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231016-1443347)] （2023年10月16日）巴勒斯坦驻华大使呼吁中国帮助结束以哈冲突\n\n`消息` [[德国之声](https://www.dw.com/zh/%E4%BB%A5%E5%93%88%E5%86%B2%E7%AA%81-%E4%B8%AD%E5%9B%BD%E5%BB%BA%E8%AE%AE%E6%B0%91%E4%BC%97%E6%90%AD%E4%B9%98%E5%95%86%E4%B8%9A%E8%88%AA%E7%8F%AD%E8%BF%94%E5%9B%BD/a-67119754)]（2023年10月17日）中国外交部则要求中国公民搭乘商业航班返国。以色列中国留学群的聊天记录显示，留学生询问何时安排撤侨，却被使馆人员警告“不要在群里发无关内容和闲聊”。有留学生感叹“出了国才知道，战狼是最大的谣言”\n\n`观点` [[德国之声](https://www.dw.com/zh/%E5%BE%B7%E8%AF%AD%E5%AA%92%E4%BD%93%E4%BB%A5%E5%93%88%E5%86%B2%E7%AA%81%E4%B8%8E%E4%B8%AD%E7%BE%8E%E5%8D%9A%E5%BC%88/a-67123766)] （2023年10月17日）德语媒体：以哈冲突与中美博弈\n\n`消息` [[美国之音](https://www.voachinese.com/a/israle-hamas-war-could-exacerbate-us-china-rivalry/7320057.html)] （2023年10月19日）中国领导人习近平星期四首次就加沙局势表态，称当务之急是停火止战，防止发生严重人道主义危机并落实“两国方案”。\n\n`消息` [[美国之音](https://twitter.com/VOAChinese/status/1716343581890539679?s=20\u0026utm_source=pocket_reader)] 中国特使称中东武装冲突蔓延令人担忧 中国罕见部署6艘军舰引注目（2支护航编队，每队2艘护卫舰1艘补给舰）\n\n`观点` [[联合早报](https://www.zaobao.com.sg/news/china/story20231026-1445754?utm_source=twitter)] 王纬温：与调停大国挑起的乌克兰战争不同，中国在巴以问题上劝谈促和有多一些操作空间，也显得比较从容，并更容易跟美国开展一定程度合作。中美紧张持续受控，两国元首可能即将会晤之际，相信中美将把管控以哈冲突升级更多视为改善双边关系的契机，为双方合作注入更多动能。\n\n`观点` [[德国之声](https://twitter.com/dw_chinese/status/1716819331542126943?s=20\u0026utm_source=pocket_reader)] 中國中東事務特使翟雋已經開始了其中東之行，德國之聲專欄作家Alexander Görlach認為，對於翟雋的中東之行，各方不應抱持過高期望。\n\n`观点` [[BBC](https://www.bbc.com/news/world-asia-china-67237146?xtor=AL-72-%5Bpartner%5D-%5Bbbc.news.twitter%5D-%5Bheadline%5D-%5Bnews%5D-%5Bbizdev%5D-%5Bisapi%5D\u0026at_link_type=web_link\u0026at_format=link\u0026at_link_id=05E3656C-77CE-11EE-A43C-194E681DE14E\u0026at_campaign_type=owned\u0026at_medium=social\u0026at_link_origin=BBCWorld\u0026at_bbc_team=editorial\u0026at_ptr_name=twitter\u0026at_campaign=Social_Flow)] What China wants from Israel-Hamas war\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1716810659776905615?s=20\u0026utm_source=pocket_reader)] 截至10月24日，在以色列当地仍然有一名中国工人曹永才失联，可能仍是哈马斯的人质。以色列当地华人在群里呼吁中国领事馆和学联帮忙去了解。但是得到的却是官方回复。既没有表达关切和同情，也没有真心和大家对话。领事馆的胡姓工作人员已经不说话了，只有一位学联主席在做挡箭牌。\n\n### 东亚\n\n`消息` [[習献平](https://twitter.com/xijinpingdiguo/status/1714863802456719494?s=20\u0026utm_source=pocket_reader), [每日新闻](https://twitter.com/mainichi/status/1714826341592531383)] 自卫队也在安排军机撤侨的时候捎带了20个韩国人～\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1715249026851856594?s=20\u0026utm_source=pocket_reader)]（2023年10月20日）泰国接回在以色列遇难的泰国公民遗体。\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1715290490416087115?s=20\u0026utm_source=pocket_reader), [法广](https://www.rfi.fr/cn/%E5%9B%BD%E9%99%85/20231020-%E5%8F%B0%E6%B9%BE%E6%92%A4%E4%BE%A8%E4%B8%93%E6%9C%BA%E5%B7%B2%E9%A3%9E%E7%A6%BB%E4%BB%A5%E8%89%B2%E5%88%97-35%E4%BD%8D%E4%B8%AD%E5%9B%BD%E4%BA%BA%E4%B8%80%E5%BA%A6%E5%B8%8C%E6%9C%9B%E6%90%AD%E4%B9%98?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)]（2023年10月20日）随着以色列和哈马斯的冲突升级，台湾宣布将在周五（10月20日）下午进行撤侨。他补充说，尽管经过劝说，但有137名台湾人仍决定留在以色列。台湾撤侨专机已飞离，以色列 35位中国人一度希望搭乘\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1720302410713985209?s=20\u0026utm_source=pocket_reader)] 日本国军方飞机，从以色列撤离了台湾的公民\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1720264608823607428), [中央通讯社](https://www.cna.com.tw/news/aopl/202311030011.aspx)] （2023年11月3号）日本外務省表示，日本航空自衛隊一架空中加油和運輸機昨晚載送46名乘客離開以色列，準備返回日本，包括20名日本國民、15名韓國人、4名越南人和1名台灣人\n\n## 民间舆论·国际\n\n### 支持巴勒斯坦·众人\n\n`传言` [[三日月やよい](https://twitter.com/Willoug60125499)] “MAGA另类右”站队巴勒斯坦\n\n`错误` [[Jacobson贴贴BOT](https://twitter.com/jakobsonradical)] 俄罗斯卫星通讯社在微博上把自家T-90M “突破”坦克误认为被哈马斯摧毀的梅卡瓦坦克。[[图片](https://pbs.twimg.com/media/F79qxzlbIAAHoXk?format=jpg\u0026name=large)]\n\n`观点` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711436283254284370)] 纽约广场上，一名哈马斯的支持者向以色列人嘲讽。而同一时间，在以色列，一些以色列人企图烧死一名巴勒斯坦男孩。不断加深的仇恨让一切变的无解。她在她最仇恨的土地上安全地支持着恐怖组织。而她的行为最终会转化成新的仇恨，降临在她的同胞身上。[[视频](https://twitter.com/i/status/1711436283254284370)]\n\n`消息` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1711541162522149200), [Visegrád 24](https://twitter.com/visegrad24/status/1711535948922577124)] 在澳大利亞地標建築悉尼歌劇院附近，支持巴勒斯坦的民眾舉行了集會。过程中有人喊口号 “gas the Jews”，已遭澳大利亚警方调查。[[视频](https://twitter.com/i/status/1711541162522149200)]\n\n`传言` [[艾布拉姆斯](https://twitter.com/SuTNkwfrFkMhHsG/status/1711405342251491790)**,** [Alan Huang MD](https://twitter.com/_weilunhuang/status/1711404931738190304)] 数小时内，哈马斯支持者从庆祝到求救\n\n`传言` [[文疯而动](https://twitter.com/fei_max/status/1711654406360580392?utm_source=pocket_saves)] 哈马斯的支持者们在联合国总部前打出了前苏联和中共国血旗。[[视频](https://twitter.com/i/status/1711654406360580392)]\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1712583857864605878)] （2023年10月12日）Major riots erupted tonight in Paris. The riot police is clashing with Hamas supporters [[视频](https://twitter.com/i/status/1712583857864605878)]\n\n`传言` [[rainbow7852](https://twitter.com/rainbow78521/status/1712674569478181205), [Babak Taghvaee](https://twitter.com/BabakTaghvaee1/status/1712575939178086544)] 在 美国圣地亚哥，一群正在庆祝屠杀以色列人民的哈马斯支持者遭到了一名犹太人的批评。当他们发现批评者是一名犹太人时，便对他进行了残忍的攻击和殴打。[[视频](https://twitter.com/i/status/1712575939178086544)]\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231014-1442538)] 声援以色列和巴勒斯坦 中东欧美出现抗议集会\n\n`传言` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt)] 北卡羅來納大學的學生在集會中：“我們都是哈馬斯” [[视频](https://twitter.com/i/status/1713223183912796472)]\n\n`消息` [[BBC](https://twitter.com/bbcchinese/status/1713248619753799743?utm_source=pocket_saves)] （2023年10月14日）大批手持巴勒斯坦国旗的示威者聚集在伦敦市中心BBC总部大楼外，表达对巴勒斯坦的声援，他们一路行至唐宁街。根据此前警告，任何支持哈马斯或偏离路线的人都将面临拘捕。警方表示，已有七人被逮捕。\n\n`消息` [**[Visegrád 24](https://twitter.com/visegrad24/status/1713596172877668661?utm_source=pocket_saves)**] Anti-Israel protesters attack people with Israeli flags at a protest in Los Angeles, USA\n\n`消息` [**[Visegrád 24](https://twitter.com/visegrad24/status/1713854537860096002?utm_source=pocket_saves)**] 在加拿大，支持巴勒斯坦的示威者截停挥舞塔利班旗帜的车辆，要求划清界限\n\n`传言` [[OSINTdefender](https://twitter.com/sentdefender/status/1714371648252490199)] Pro-Hamas/Palestinian Riots and Protests have broken out across the Middle East and Europe following the Explosion at Al-Ahli Arabi Baptist Hospital in Gaza which is said to have Killed over 500 and is claimed by Hamas to have been caused by an Israeli Airstrike.\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1714720345930830050?s=20\u0026utm_source=pocket_reader)] 希腊雅典的大规模反以色列抗议\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715131071262802302?s=20\u0026utm_source=pocket_reader)] 一名黑人妇女在伦敦市中心撕毁被哈马斯绑架或杀害的失踪平民的照片\n\n`传言` [[Collin Rugg](https://twitter.com/CollinRugg/status/1715386125978923172?s=20\u0026utm_source=pocket_reader)] CNN reporter Sara Sidner gets blasted by angry Palestinians who chant \"F*** CNN\" as they called the liberal network \"genocide supporters.” Looks like literally no one likes CNN.\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1715264805387530475?s=20\u0026utm_source=pocket_reader)] 伯克利大学的两名蒙面亲巴勒斯坦左派抗议者试图通过暴力抢夺一名犹太男子的以色列国旗，他们还咒骂周围的人。\n\n`传言` [[变态辣椒](https://twitter.com/remonwangxt/status/1715704894651236657?s=20\u0026utm_source=pocket_reader)]（2023年10月21日）昨天，一大群支持巴勒斯坦的抗議者聚集在我國首都華盛頓特區的國家廣場進行大規模伊斯蘭祈禱，當然，婦女們只能在後面祈禱。我從未想到可以在華盛頓紀念碑下看到如此壯觀的畫面。\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV), [NEXTA](https://twitter.com/i/status/1715835904382931355)] （2023年10月21日）支持巴勒斯坦的游行，他们支持什么？反对什么？他们怎么看10月7号那天哈马斯对以色列人的大屠杀？他们的回答让人震惊，值得深思\n\n`消息` [[Andy Ngô](https://twitter.com/MrAndyNgo/status/1715778277498126471?s=20\u0026utm_source=pocket_reader)] 进步人士在支持巴勒斯坦的集会中挥舞彩虹旗，旗帜被夺走。\n\n`传言` [[·ĘÑŚåMÀ·](https://twitter.com/EnEn07739518/status/1716072670167810476?utm_source=pocket_reader), [RadioGenoa](https://twitter.com/RadioGenoa/status/1715777044272017702)] 支持帕勒斯坦的游行中，有人挥舞塔利班黑旗。蘇格蘭場直接開始賽博搜人\n\n`消息` [[RadioGenoa](https://twitter.com/RadioGenoa), [visegrad24](https://twitter.com/visegrad24/status/1715996293783249201?s=20\u0026utm_source=pocket_reader), [FranceNews](https://twitter.com/FranceNews24/status/1715993526826115262)] 德国柏林勃兰登堡门前的穆斯林集会和祈祷\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%B3%95%E5%9B%BD/20231022-%E5%B7%B4%E9%BB%8E%E4%B8%8A%E4%B8%87%E4%BA%BA%E5%8F%82%E5%8A%A0%E5%A3%B0%E6%8F%B4%E5%B7%B4%E5%8B%92%E6%96%AF%E5%9D%A6%E9%9B%86%E4%BC%9A?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 巴黎上万人参加声援巴勒斯坦集会\n\n`传言` [[visegrad24](https://twitter.com/visegrad24/status/1716212412825878906?s=20\u0026utm_source=pocket_reader)] 约旦河西岸的 Hebron 举行的集会中，支持者打出普京和金正恩画像\n\n`错误` [[visegrad24](https://twitter.com/visegrad24), [twitter](https://twitter.com/i/birdwatch/n/1716418345963069890)] 斯德哥尔摩的支持巴勒斯坦的集会中，有人演讲说 ~~瑞典政府绑架了穆斯林儿童~~，因而没有资格抨击哈马斯。\n\n`消息` [[变态辣椒](https://twitter.com/remonwangxt/status/1717679021566116281?s=20\u0026utm_source=pocket_reader)] 加州大學洛杉磯分校學生公開呼籲：「以色列，你無法隱藏，我們想要猶太人種族滅絕」\n\n`消息` [[The Mossad: Satirical](https://twitter.com/TheMossadIL/status/1717616505947369979)] Istanbul. 2023. [[图片](https://pbs.twimg.com/media/F9YzHCNWkAAapEz?format=jpg\u0026name=900x900)]\n\n`观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1717410906777514000?s=20\u0026utm_source=pocket_reader), [visegrad24](https://twitter.com/visegrad24/status/1717110308416680239)] 左人为什么可以这么抽象？3-year-old Emma and Yuli Cunio have been kidnapped by Hamas. Somebody in London thought it would be funny to draw Hitler moustaches on them.\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1716928348188983547?s=20\u0026utm_source=pocket_reader)] 反以色列的犹太人与以色列警察打了起来。\n\n`观点` [**[说真话的徐某人](https://twitter.com/xumouren_yt/status/1718898663005548981?s=20\u0026utm_source=pocket_reader),** [visegrad24](https://twitter.com/visegrad24/status/1718792447629590652)] 从支持巴勒斯坦滑向支持10月7日大屠杀\n\n`消息` [[约拿坦](https://twitter.com/jiongnasen/status/1718653475670950088?s=20\u0026utm_source=pocket_reader)] 图一二：10月9日纽约巴勒斯坦人游行庆祝胜利、嘲讽前来抗议的以色列人。图三四：10月14日纽约巴勒斯坦人抗议以色列进攻加沙。\n\n`消息` [[visegrad24](https://twitter.com/visegrad24/status/1718108525279281537?s=20\u0026utm_source=pocket_reader)] 迈阿密一女子破坏被哈马斯绑架的以色列人的海报。\n\n`消息` [[联合早报](https://www.zaobao.com.sg/realtime/world/story20231028-1446327)] 美国纽约星期五（10月27日）出现要求以色列和哈马斯停火的示威活动，迫使纽约中央车站关闭。\n\n### 支持巴勒斯坦·个体\n\n`观点` [[喷嚏网-浮世绘799-存档](https://web.archive.org/web/20231010141020/https://www.dapenti.com/blog/more.asp?id=174308\u0026name=xilei)] 2021年巴以冲突时，纽约时报来自加沙的翻译和编辑巴斯玛·加莱尼（Basma Ghalayini）女士，在时报观点版上从自身的经历出发，阐述了对当下巴以冲突的看法。\n\n- 9岁的时候，我被以色列国防军枪击了。\n- 为什么有些人仍然固执地说加沙的局势很复杂，或者这与宗教有关呢？对我们很多人来说，这两者都不是。这也与哈马斯无关。\n- **哈马斯是民主选举产生的**。\n- 2006年布什政府强加于加沙的选举中，他们轻率地认为由美国在那里的代理人、硬汉穆罕默德 · 达赫兰(Mohammed Dahlan)领导的**主流世俗政党法塔赫**将获胜。\n- 不幸的是，加沙没有每四年举行一次选举，而哈马斯的胜利很快让加沙人后悔。政府的批评者经常被打，有时被打到半死，自由也受到限制。但是我们还没有机会让哈马斯下台，**2006年是我们最后一次选举**。\n- 这对以色列来说是完美的。哈马斯的铁腕手段和发起的火箭弹袭击，是一个理想的钩子，可以把所有的责任挂在上面。\n- 这就是为什么把焦点集中在哈马斯上是忽略重点的，并且强化了这样一种神话，即冲突在某种基本方式上是关于哈马斯的。不是的，这场冲突是关于以色列的占领。\n- 对以色列持续侵略的自卫权，属于所有巴勒斯坦人；**正当的抵抗**不能仅仅是那些**只相信非暴力自卫的巴勒斯坦人**的权利，在我们所忍受暴力时这是不对的。\n\n`传言` [[变态辣椒RebelPepper](https://twitter.com/remonwangxt/status/1711207417684308133)] 哈佛大學有幾十個親巴勒斯坦的學生組織發佈了一份聯合聲明，開頭第一段就明確告知：“我們簽名的學生組織，認為以色列政權對所有正在發生的暴力行為負全部責任。”\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1715295099779719247?s=20\u0026utm_source=pocket_reader)] 北欧环保少女 Greta Thunberg 在 Instagram 上支持巴勒斯坦\n\n- `观点` [[张平](https://twitter.com/pingzhang632/status/1715329949773570128?utm_source=pocket_reader)] 不奇怪，极端环保主义的本质是反文明。\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1715497953505247312?s=20\u0026utm_source=pocket_reader)] 纽约时报重新雇佣一名多次赞扬希特勒的记者。\n\n`消息` [[new27brigade](https://twitter.com/new27brigade/status/1715914948201918520?s=20\u0026utm_source=pocket_reader), [visegrad24](https://twitter.com/visegrad24/status/1715792860241363377)] 一名華沙醫科大學的挪威醫學生瑪利亞，高舉「持續讓世界乾淨」的種族歧視標語，聲稱要讓猶太人從地球上消失\n\n`观点` [[约拿坦](https://twitter.com/jiongnasen/status/1716655094337507403?s=20\u0026utm_source=pocket_reader), [Christopher F. Rufo](https://twitter.com/realchrisrufo/status/1716593360973209998)] 哈佛耶鲁普林斯顿牛津等大学1700多名社会学教授发表联署公开信谴责以色列“种族清洗”、并称对哈马斯恐怖袭击应该“放在长达75年的殖民占领这个背景下”来理解。\n\n`消息` [[约拿坦](https://twitter.com/jiongnasen/status/1717441728419176691?s=20\u0026utm_source=pocket_reader), [Eli Klein](https://twitter.com/TheEliKlein/status/1717306077929185617)] 纽大法学院学生律师协会主席Ryna Workman在电视采访中明确表示拒绝谴责哈马斯，她之前在协会公开信里表示她认为哈马斯的恐袭行动是“有必要的”。她还被别人拍到撕毁街头的以色列人质海报，然后用一个全国学生支持巴勒斯坦的活动海报进行覆盖。\n\n`传言` [[约拿坦](https://twitter.com/jiongnasen/status/1717188491594105011?s=20\u0026utm_source=pocket_reader), [Douglas Murray](https://twitter.com/DouglasKMurray/status/1717119380402655270)] 英国电视台ITV在10月7日哈马斯恐袭发生不久邀请伦敦穆斯林Latifa Abouchakra出镜接受访谈，讲述她对英国社会恐穆情绪的亲身体验。然后她的身份被曝光是伊朗国营电视台Press TV的主播，不但在伊朗电视节目上歌颂哈马斯恐袭获得伟大胜利，还在恐袭当天通过 insta 发布了自己欣喜若狂的视频。\n\n`传言` [[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1717165842360947091?s=20\u0026utm_source=pocket_reader), [Ale Resnik](https://twitter.com/AleResnik/status/1716976966291599683)] 加州大学伯克利分校的“亚洲研究”课老师给学生发的邮件。参加支持巴勒斯坦（哈马斯）游行，或者观看巴勒斯坦历史纪录片并讨论殖民主义，帝国主义和团结第三世界，算完成一次作业，或者作业成绩加5分。UC伯克利是政府拨款的公立大学。老师越南裔，研究方向“批判性难民研究”，“堕胎女性主义”\n\n`消息` [[变态辣椒](https://twitter.com/remonwangxt/status/1716789504281854134)] 一巴勒斯坦婦女在Tiktok發了條視頻短片，假裝向兩個孩子的頭部開槍。在短片中，一個孩子代表以色列兒童，另一個代表美國兒童。\n\n- `观点` [[三日月やよい](https://twitter.com/Willoug60125499)] 前社交网站时代，洋人只能通过汉学家/改开官僚/西化华人了解中国。也只能通过进步媒体/阿拉法特了解巴勒斯坦。这些人了解的激进民族主义，仅限党内顽固官僚与质问克林顿的北大女孩…能代表的人口不到1%。快手祈愿美国人染新冠的河南大妈，让小孩演枪毙戏的巴勒斯坦妇女，都是无法被观测甚至难以想象的存在。\n\n`观点` [[张平](https://twitter.com/pingzhang632/status/1718952499854401979?s=20\u0026utm_source=pocket_reader), [Zineb Riboua](https://twitter.com/zriboua/status/1718757992353374667)] 这是加州大学伯克利分校女权主义、“酷儿理论”专家Judith Butler教授2006年讲的：“哈马斯和真主党是社会运动，它们是进步的，是全球左派的一部分。”一句话说清了伊斯兰极端主义与左派的关系！\n\n`消息` [[Rita Panahi](https://twitter.com/RitaPanahi/status/1718507120457585131?s=20\u0026utm_source=pocket_reader)] 牛津大学高材生，巴基斯坦参议员，支持希特勒。\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1717993797374693581?s=20\u0026utm_source=pocket_reader), [Sex Workers’ Union](https://twitter.com/swunion_uk/status/1717612611452162488)**]** 英国妓女联合会发表声明，支持巴勒斯坦恐怖分子的野蛮行为。\n\n### 支持巴勒斯坦的示威者占领美国国会\n\n`消息` [[John Zhang](https://twitter.com/JohnZhangSV/status/1714743374912340436?s=20\u0026utm_source=pocket_reader), [Collin Rugg](https://twitter.com/CollinRugg/status/1714731258247606752?s=20\u0026utm_source=pocket_reader), [Visegrád 24](https://twitter.com/visegrad24/status/1714732871250809244?s=20\u0026utm_source=pocket_reader)] （2023年10月18日）支持巴勒斯坦的示威者占领了美国国会，要求立即停火。来自底特律选区的巴勒斯坦裔国会议员 Rashida Tlaib 罔顾事实，情绪激动，一口咬定加沙医院是以色列炸的。The United States Capitol has been taken over inside and outside by pro-Palestine protesters as Rep. Rashida Tlaib spoke with a crowd nearby.\n\n`消息` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714880901170307172?s=20\u0026utm_source=pocket_reader), [Collin Rugg](https://twitter.com/CollinRugg), [John Zhang](https://twitter.com/JohnZhangSV), [ABC](https://abcnews.go.com/Politics/protesters-detained-after-gathering-capitol-complex-israel-hamas/story?id=104103420)] Rep. Marjorie Taylor Greene has called for the individuals at the pro-Palestine protest at the Capitol to be \"prosecuted to the fullest extent of the law.” ~~More than 100 people were arrested according to CBS News.~~ 300多名在国会大厦聚集抗议以色列与哈马斯战争的人被捕\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1714862641741746444?s=20\u0026utm_source=pocket_reader)] 美国众议员布兰登·威廉姆斯（Brandon Williams）站在今天占领国会的反以色列抗议群体上方\n\n### 俄罗斯联邦达吉斯坦一机场的反犹骚乱\n\n`消息` [[Clash Report](https://twitter.com/clashreport/status/1718682017947078726), [visegrad24](https://twitter.com/visegrad24/status/1718706238416962007?s=20\u0026utm_source=pocket_reader), [张平](https://twitter.com/pingzhang632/status/1718727076977517022?s=20\u0026utm_source=pocket_reader)] A flight from Israeli Tel Aviv arrived at the airport in Dagestan's Makhachkala, and a huge crowd of local residents gathered to greet it (not in a kind way), provoked by the reports of Telegram channels. With the full connivance of the local security forces, the crowd began to storm the airport and began to “check” the passports of passengers in search of Jews. They were even able to find one, which almost resulted in the use of force against him. 俄罗斯达吉斯坦，成群的穆斯林暴徒围攻一架刚从特拉维夫飞来的飞机，试图搜索殴打每一个犹太人。\n\n`消息` [[川和 koi iok](https://twitter.com/koiiok17/status/1719134785598349471?s=20\u0026utm_source=pocket_reader)] 穆斯林兄弟突破俄罗斯机场在里边查每个人的护照，要处决犹太人。虽然俄罗斯支持穆斯林在别的国家搞事情，但是在我俄罗斯那是绝对不可能的，暴恐警察荷枪实弹两三下干翻了穆斯林兄弟\n\n`消息` [[法广](https://www.rfi.fr/cn/%E6%AC%A7%E6%B4%B2/20231030-%E4%BF%84%E7%BD%97%E6%96%AF%E8%BE%BE%E5%90%89%E6%96%AF%E5%9D%A6%E6%9C%BA%E5%9C%BA%E5%9C%A8%E5%8F%8D%E4%BB%A5%E8%89%B2%E5%88%97%E6%8A%97%E8%AE%AE%E5%90%8E%E5%85%B3%E9%97%AD?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty)] 俄达吉斯坦机场在反以色列抗议后关闭\n\n`传言` [[Inty热点新闻](https://twitter.com/__Inty__/status/1718947445135331603?s=20\u0026utm_source=pocket_reader), [KT_Insights](https://twitter.com/KT_Insights/status/1718941089904873733)] 寻找犹太人的私刑暴徒已经从达吉斯坦机场撤退，俄罗斯当局今天早上前往那里录制了一段视频。达吉斯坦州长声称暴徒是由“乌克兰电报频道”组织的。。。\n\n`观点` [[visegrad24](https://twitter.com/visegrad24/status/1718711824072269853?utm_source=pocket_reader)] Daily reminder that the word “Pogrom” is a Russian word and a Russian specialty\n\n### 反对哈马斯的舆论\n\n`观点` [[唐丹鸿](https://twitter.com/DanHongTang/status/1711615639792550268), [NirACohen](https://twitter.com/niracohen77/status/1711447866726666597?s=61\u0026t=w2WjTuoIh8glTnJalHsV9w)] 「打破沉默」组织的前发言人，《我是如何变成这样的一个以色列人的故事》一书作者，他身为预备役人员应招归队前发出的推文。\n\n`观点` [[说真话的徐某人](https://twitter.com/xumouren_yt/status/1712036798136795245\\)] “说哈马斯砍头，你亲眼见到了吗？为什么不发照片上来？”这问题问的有些变态了。[[截图](https://twitter.com/xumouren_yt/status/1712036798136795245/photo/1)]\n\n`传言` [[川和 koi iok](https://twitter.com/koiiok17/status/1712435075676316049), [Unofficial NAFO Rabbi](https://twitter.com/LernerIsaak/status/1712138760354456054)] 来看看哈马斯是如何生产恐怖分子的。[[视频](https://twitter.com/i/status/1712138760354456054)]\n\n`观点` [[Israel Defense Forces](https://twitter.com/IDF/status/1712489646536482827?utm_source=pocket_saves)] THIS is what the world needs to know about the civilians in Gaza\n\n`传言` [[川和 koi iok](https://twitter.com/koiiok17), [MAKS 23](https://twitter.com/Maks_NAFO_FELLA/status/1712417359950983573)] 哈马斯放出挖供水管道造火箭弹的画面 [[视频](https://twitter.com/i/status/1712417359950983573)]\n\n`传言` [[NiKITa](https://twitter.com/NiKiTa_32156/status/1713399841022423183?utm_source=pocket_saves)] 以色列情報機構-摩薩德：從卡法阿扎一名死去的哈馬斯恐怖分子的 GoPro 相機中恢復的鏡頭顯示了巴勒斯坦兒童軍事訓練。\n\n`传言` [**[悉尼奶爸](https://twitter.com/SydneyDaddy1/status/1713824491460268484?s=20\u0026utm_source=pocket_reader),** [Gabriel Noronha](https://twitter.com/GLNoronha/status/1713594256001036569)] 2022年美国休斯顿的一所穆斯林学校“伊斯兰教育中心”. 孩子们穿戴整齐高声歌颂伊朗最高领袖哈梅内伊：“我们愿成为你的战士，我们愿成为你的烈士”\n\n`观点` [[Israel Defense Forces](https://twitter.com/IDF)] 以色列国防部：揭示哈马斯基础设施。[[视频](https://twitter.com/i/status/1714483112023846926)]\n\n`观点` [[Israel Defense Forces](https://twitter.com/IDF/status/1714320476825112808?s=20\u0026utm_source=pocket_reader)] 以色列国防部：你疑惑过，加沙的人道主义支援都去哪了吗？[[视频](https://twitter.com/i/status/1714320476825112808)]\n\n`传言` [[Collin Rugg](https://twitter.com/CollinRugg/status/1714317688988938580?s=20\u0026utm_source=pocket_reader)]（2023年10月17日）Billionaire Victoria's Secret founder Leslie Wexner has officially cut all ties and financial support to Harvard in a blistering letter after Harvard's \"dismal failure\" condemning the Hamas terror attacks.\n\n`消息` [[张平](https://twitter.com/pingzhang632), [The Jerusalem Post](https://twitter.com/Jerusalem_Post/status/1715187281479242217)] 以色列人呼吁抵制中国廉价成衣销售网站Shein，因为：1、哈马斯屠杀发生后，Shein廉价供应巴勒斯坦旗子，却中断了以色列国旗的供应。2、shein禁止以色列人发布有关屠杀的信息。3、shein中止了给以色列用户的免运费优惠。\n\n`观点` [[Mike Pompeo](https://twitter.com/mikepompeo/status/1715030841355624790)] We need to give Israel the support and space to do what is necessary.\n\n`观点` [[赵昕](https://twitter.com/zhaoxin8964/status/1715034567449674229?s=20\u0026utm_source=pocket_reader)] 所有按着以色列的手，以人道主义名号拉偏架的，都是恐怖分子的流氓帮凶。\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1715465729393267103?utm_source=pocket_reader)] 在斯坦福执教的以色列教授控诉支持恐怖组织的学生组织。\n\n`消息` [[Israel Defense Forces](https://twitter.com/IDF/status/1715829279781433621?s=20\u0026utm_source=pocket_reader)] 以国防军空降旅的 1LT Roi Nahary 因公殉职，捐献器官拯救了 5 条生命\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1715844325181964716?s=20\u0026utm_source=pocket_reader)] 维尔纽斯市政厅前，1400 支蜡烛，为了 1400 名以色列遇难者\n\n`消息` [[IDF](https://twitter.com/IDF/status/1716156227585974585?s=20\u0026utm_source=pocket_reader)] 以色列国防部指控联合国建筑物对面就是哈马斯的火箭弹发射站\n\n`观点` [[IDF](https://twitter.com/IDF/status/1716441061730512943?s=20\u0026utm_source=pocket_reader)] 哈马斯不管谁挡了他们灭绝以色列的路，哪怕是加沙人民。\n\n`消息` [[张平](https://twitter.com/pingzhang632/status/1716535382626492618?s=20\u0026utm_source=pocket_reader), [Hillel Neuer](https://twitter.com/HillelNeuer/status/1716470634421628941)] BBC 主持人在节目中被教育何为真正的战争规则。\n\n`观点` [[唐丹鸿](https://twitter.com/DanHongTang/status/1717467893292564867?s=20\u0026utm_source=pocket_reader)] 以色列历史学家尤瓦尔·赫拉瑞表示，哈马斯对加沙的控制需要结束，才能给巴勒斯坦人一个未来。“哈马斯正在故意破坏未来和平的任何机会。”我认同他的每一句话。\n\n`观点` [[new27brigade](https://twitter.com/new27brigade/status/1717165127789666469?s=20\u0026utm_source=pocket_reader)] 這就是左派環保人士所謂的「巴勒斯坦弱者」！以色列國防軍公布一個從哈瑪斯武裝份子身上獲得的紙條，上面阿拉伯文寫著：「要知道，你的敵人是一種無藥可醫的疾病，除了斬首和摘心取肝才能救治！」，在10/7日，他們就犯下令人髮指的恐怖罪行左膠、共產主義毒蟲們：我們繼續關心巴勒斯坦孩童們...\n\n`传言` [**[麻**糬Wainwain](https://twitter.com/Wainwainread/status/1719001665062244675?s=20\u0026utm_source=pocket_reader), [Eylon Levy](https://twitter.com/EylonALevy/status/1718896072641106276)] 紐西蘭跳戰舞挺以色列\n\n`观点` [[weixinart](https://twitter.com/Weixinart/status/1718928771049284050?s=20\u0026utm_source=pocket_reader), [微播EastEurope](https://weibo.com/tv/show/1034:4962573762887759?from=old_pc_videoshow)] 希拉里·克林顿：现在呼吁停火的人不了解哈马斯。 这是不可能的。 这对哈马斯来说就是一份礼物。\n\n`传言` [[张平](https://twitter.com/pingzhang632/status/1718877812281479518?s=20\u0026utm_source=pocket_reader), [FreifeldRacheli](https://twitter.com/FreifeldRacheli/status/1718663493799292943)] 施罗米·艾拉德尔是以色列左派记者，多年来一直致力于报道加沙人的“苦难”，批评以色列政府，并且与巴勒斯坦“和平主义者”保持联系，要求以色列跟巴勒斯坦人谈判，实现和平。10月7日大屠杀发生后，他给“巴勒斯坦和平人士”打电话问事情何以至此，巴勒斯坦人回答说：“只有你们这些蠢货犹太人不懂，当恐怖分子闯进犹太社区时，他们眼中根本没有小孩子，都是牲口！”现在他在采访中哭着说：“没什么可谈的，跟纳粹有什么可谈的？今天的我已经不是三周前的我。”\n\n`观点` [[说真话的徐某人](https://twitter.com/xumouren_yt/status/1718565360289398979?s=20\u0026utm_source=pocket_reader), [memilitary](https://www.memilitary.com/)] 因查资料的缘故误入一个埃及军事论坛，结果发现不少埃及网友竟然支持干死哈马斯，同时对埃尔多安保持警惕，戳破他想做伊斯兰大护法\n\n`观点` [[张平](https://twitter.com/pingzhang632/status/1718186761942172026?s=20\u0026utm_source=pocket_reader), [The Mossad: Satirical](https://twitter.com/TheMossadIL/status/1718162828597555408)] 我为什么说那些主流媒体在加沙的通讯员是“穿着记者服的恐怖分子”？你看看这段视频就明白了。恐怖分子在伪造现场，穿着记者服的恐怖分子在拍摄，然后就会发给各大媒体，加上他们添油加醋的文字。主流媒体在以巴问题的报道上已经完全丧失了新闻的基本道德和专业水平，沦为了巴勒斯坦恐怖组织的帮凶！\n\n`传言` [[约拿坦](https://twitter.com/jiongnasen/status/1719090686111453414?s=20\u0026utm_source=pocket_reader), [Zach Kessel](https://twitter.com/zach_kessel/status/1719003427018068292)] 耶鲁校报登了一篇犹太学生哀悼遇难者的文章，然后校报编辑把“女性受害者被强奸、男性被斩首”的字样删去，并添加注解说“未经证实”。几天后，以色列驻纽约总领馆邀请二十多名记者观看了恐袭视频证据。非要逼人像哈马斯那样摆拍尸体？医院爆炸不到一小时就采用哈马斯通稿的时候要过证据吗？\n\n### 双方仇恨暴力事件\n\n`传言` [**[李老师不是你老师](https://x.com/whyyoutouzhele/status/1712788863112851838?s=20)**] （2023年10月13日）法国也发生了袭击事件。一名20岁车臣裔男子闯入校园，高喊安拉胡安克巴持刀杀死了一名老师，并刺伤多人。\n\n`消息` [[entropy](https://twitter.com/entropy_01/status/1714185867655528784), [法广](https://www.rfi.fr/cn/%E4%B8%AD%E5%9B%BD/20231016-%E5%B8%83%E9%B2%81%E5%A1%9E%E5%B0%94%E5%8F%91%E7%94%9F%E6%9E%AA%E5%87%BB%E6%A1%88%E9%80%A0%E6%88%90%E4%B8%A4%E4%BA%BA%E6%AD%BB%E4%BA%A1-%E6%AF%94-%E6%B3%95-%E6%84%8F%E5%8F%8A%E6%AC%A7%E7%9B%9F%E9%A2%86%E5%AF%BC%E4%BA%BA%E7%BA%B7%E7%BA%B7%E8%B0%B4%E8%B4%A3%E8%A2%AD%E5%87%BB%E4%BA%8B%E4%BB%B6?utm_medium=social\u0026utm_campaign=x\u0026utm_source=shorty), [Washington Post](https://www.washingtonpost.com/world/2023/10/16/brussels-shooting-terrorist-attack-sweden/?utm_source=twitter\u0026utm_medium=social\u0026utm_campaign=wp_main), [川和 koi iok](https://twitter.com/koiiok17/status/1714094986277556486?s=20)] （2023年10月16日）伊斯兰国独狼刚刚在布鲁塞尔发动枪击恐怖袭击，两名瑞典公民遇难。危险警告：恐怖分子仍然在逃，且手中持枪，请布鲁塞尔的人员务必小心！比、法、意及欧盟领导人纷纷谴责袭击事件。警方彻夜找寻均没有抓获恐怖分子，结果第二天早上发现这伙计在咖啡馆喝咖啡，遂发生枪战击毙之………布鲁斯那个恐怖袭击的穆斯林在没被抓住的时间里又突突了一辆车\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24/status/1714066692848947209?s=20\u0026utm_source=pocket_reader)] 布鲁塞尔袭击者身份确定，突尼斯公民，非法居留，之前在突尼斯有过恐怖主义行为。死亡人数上升至 5. \n\n`消息` [[ABC](https://abcnews.go.com/US/man-71-charged-murder-hate-crimes-stabbing-death/story?id=103999857)]（2023年10月16日）伊利诺伊 71 岁白人房东捅杀穆斯林租户儿子，捅伤母亲\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24)] An Islamist terrorist murdered a man in Hartlepool, England last Sunday in an act of revenge for “Israel killing kids in Gaza 英格兰哈特普一名恐怖分子谋杀一人\n\n`传言` [[Visegrád 24](https://twitter.com/visegrad24/status/1715677213083795831?s=20\u0026utm_source=pocket_reader)] 塞浦路斯·尼克西亚的以色列大使馆门口发生爆炸，4名叙利亚难民被捕，车内发现 2刀1锤\n\n`消息` [[Visegrád 24](https://twitter.com/visegrad24), [CNN](https://www.cnn.com/2023/10/21/us/detroit-synagogue-president-killing/index.html?utm_content=2023-10-21T20%3A51%3A46\u0026utm_term=link\u0026utm_source=twCNN\u0026utm_medium=social), [John Zhang](https://twitter.com/JohnZhangSV/status/1715847702347739308?s=20\u0026utm_source=pocket_reader), [Detroit Free Press](https://www.freep.com/story/news/local/michigan/detroit/2023/10/21/samantha-woll-dead-isaac-agree-downtown-detroit-synagogue-president/71271616007/), [联合早报](https://www.zaobao.com.sg/realtime/world/story20231022-1444868), [TheMossadIL](https://twitter.com/TheMossadIL/status/1715837925806440571?s=20\u0026utm_source=pocket_reader)] 底特律一犹太会堂的主席 Samantha Woll 在家门口被捅杀。她同时是底特律穆斯林-犹太论坛的创始人，该组织致力于改善两社群关系。\n\n## 民间舆论·中文\n\n### 脑残言行\n\n`观点` [[多伦多方脸](https://twitter.com/torontobigface/status/1711751473418379458?utm_source=pocket_saves)] “虽然我不知道巴勒斯坦和巴基斯坦的区别。但是我还是支持！”\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712492437602549993)] 受巴以冲突影响，大量网友前往著名洋五毛，以色列人高佑思的视频下方进行辱骂。2021年，高佑思在官方安排下前往新疆拍摄视频以驳斥所谓新疆存在“强制劳动”的无端指责，引发墙内外热议。而如今，以色列人的身份让他背负了属于他的简中互联网原罪。\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1712511007057391926)] 微博上的伊拉克洋五毛直接出言羞辱被绑架的中以混血女孩Noa [[截图](https://twitter.com/whyyoutouzhele/status/1712511007057391926/photo/1)] \n\n- `消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1714620637363187732?s=20\u0026utm_source=pocket_saves)]（2023年10月18日）封了\n\n`消息` [[李老师不是你老师](https://x.com/whyyoutouzhele/status/1713231879522988072?s=20)] （2023年10月14日）一男子因为听到有人支持以色列而崩溃发疯。\n\n`消息` [[李老师不是你老师](https://x.com/whyyoutouzhele/status/1713123799132987401?s=20)] 媒体报道中国游客滞留以色列。网友评论：不要回来，不欢迎你们\n\n`消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1713527187393929577)] 一名此前在耶路撒冷读书，实际上已经回国的留学生私信很多同学，希望找当地留学生拍正能量视频。视频的要求：在防空洞里拍摄，说领事馆一直在安抚留学生的情绪，中国飞机一直保持运力输送学生回国等。被网友发现她的IP在北京。随后有不少同学在网上发出该学生此前找他们录视频并承认自己不在以色列的截图。\n\n- `消息` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1713586319975235935)] 这名同学三天前在抖音发布这些视频时，不仅没有收获大家对大使馆的赞美和当地留学生的同情，反而因为其长相酷似一名生活在河南开封的中犹混血而被怀疑是“以色列间谍”而遭到爱国网友的谩骂，并惨遭爱国网友开盒。还被私信辱骂是“犹太鬼子”\n\n`观点` [[喷嚏网-浮世绘802-存档](https://web.archive.org/web/20231021190359/https://www.dapenti.com/blog/more.asp?id=174430\u0026name=xilei)] 《外交学者》：中国人在巴以冲突的观点存在“教育差距”\n\n`错误` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1715990785747812406?s=20\u0026utm_source=pocket_reader)] （2023年10月22日）伊朗驻华大使馆的官方抖音账号发布一段视频称~~以色列轰炸取水的巴勒斯坦儿童~~。目前已经吸引了近17万点赞和大量中国民众的谴责。\n而实际上这段视频是10月12日一段苏丹军方攻击雇佣兵的视频。\n\n`消息` [[美国之音](https://www.voachinese.com/a/china-schindler-s-list-rating-20231023/7323026.html?utm_source=twitter\u0026utm_medium=social\u0026utm_campaign=dlvr.it)] 中国网络反犹情绪继续高涨，反战电影《辛德勒的名单》一度遭殃\n\n`消息` [[德国驻华大使馆](https://weibo.com/u/2209621235), [喷嚏网-浮世绘806-存档](https://web.archive.org/web/20231104190322/https://www.dapenti.com/blog/more.asp?id=174603\u0026name=xilei), [李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1716797047536304319)] 亲爱的网友，我们有必要再次强调评论区的规则：我们信奉言论自由和理性辩论的力量。因此，我们允许一些负面、批评性和有争议的评论出现在我们的帖子下面。但这一切并非毫无限制：有损人格尊严的谩骂将被删除。同样，我们也不允许有美化纳粹主义的言论或者使用纳粹标志的行为存在。顺便说一下，随意地称呼别人为纳粹只会暴露自己的愚蠢。德国很不幸经历过纳粹主义肆虐的年代，我们深知那意味着什么。我们还要要明确指出，那些在头像里处心积虑地将以色列国旗与纳粹符号相结合的人不是无知的蠢货，就是无耻的混蛋！此类账户将被我们永久屏蔽。\n\n`消息` [[小径残雪](https://twitter.com/xiaojingcanxue/status/1716542942327030175?s=20\u0026utm_source=pocket_reader)] 中国网民现在瞄上了《美丽人生》，开始集体刷差评。\n\n`观点` [[習献　近忠](https://twitter.com/xijinpingdiguo/status/1720292103782379825?s=20\u0026utm_source=pocket_reader)] 中国人一天不给自己找个野爹就浑身难受\n\n### CCP, PRC 真理部、官媒、半官方自媒体之声\n\n`观点`[[高瑜](https://twitter.com/gaoyu200812/status/1711582004775719138)] 鳳凰新聞8號文章“你動我台海，我就動你以色列”正在國內流傳，如此直言不諱，到底是誰的意思？毛寧肯定回答不了，那李書磊呢？[[图片](https://twitter.com/gaoyu200812/status/1711582004775719138/photo/1)]\n\n`传言` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711746029857452161)] 10月10日，中国网主导了一则关于以色列向加沙使用了白磷弹的谣言，这则谣言在一天前出现在推特上，但是因为使用的是7年前在叙利亚的图片而被辟谣。中国的官媒很聪明的使用了“资料画面”来规避造谣风险。\n\n- `错误` [[zambos](https://twitter.com/zambos01/status/1711794005565210819)] ~~请李老师证伪。~~[[视频](https://twitter.com/i/status/1711794005565210819)]\n- `传言` [[李老师不是你老师](https://twitter.com/whyyoutouzhele/status/1711851848028610635)] 这是中国网发布这则假消息几小时之后发生在黎巴嫩和以色列边境上的行为，而非加沙人口稠密地区。我没有否认过以色列曾经使用过白磷弹。但是我们不应该用一个几个小时后才发生的事情去证明一个此前的谎言。\n- `传言` [[说真话的徐某人](https://twitter.com/xumouren_yt/status/1712018572115919305)] 此视频拍摄地点应该是黎以边境，那里以谷地/丘陵地形为主，而加沙则是城市密集区。此外视频中并不是白磷燃烧弹，而是155mm M825烟雾弹。其装药为白磷，但不用于杀伤而用于发烟。该烟雾弹不在任何武器限制条约的约束下，也不违背任何人道主义原则。\n\n`消息` [[Cheng-Wei Lai](https://twitter.com/ChengWeiLai2/status/1713363230712889695?s=20\u0026utm_source=pocket_saves)] （2023年10月14日）中國共產黨政府的英語媒體在以色列還沒正式發動進攻時就說以色列斬首十名巴勒斯坦幼兒，當眾製造假新聞\n\n`消息` [[Jacobson贴贴BOT](https://twitter.com/jakobsonradical/status/1715870115793956886?s=20\u0026utm_source=pocket_reader)] 以色列大使馆在微信上发布的视频，被提示“该视频因违规已下架”。\n\n`传言` [[iPaul](https://twitter.com/iPaulCanada/status/1717133846175486042?s=20\u0026utm_source=pocket_reader)] 同样的内容，不同媒体的不同翻译，你相信哪个？\n\n### 共情巴勒斯坦\n\n`传言` [[Mocking Jay](https://twitter.com/Gu2020Marks)] 中推圈一帮 Islamophobic 谣棍说巴勒斯坦难民狗都嫌弃，其他穆斯林国家不愿意收留他们。下边几个图是一些不全面的数据，第一个图是UN机构的数据，后面三个是维基\n\n`观点`[[JJ显微万花筒](https://twitter.com/FightDisinform4/status/1717244833373278287)] 那些说着“以色列也有穆斯林”“以色列的穆斯林活的很好”的人，可以去查一查在以色列穆斯林收到的不公正待遇。2018年通过的National Bill也可以了解一下恐怖主义要被打击，但一个组织被击溃，却埋下了更多的仇恨，难道就不会有其他的人恐怖组织了么？还是说你们都认同-铁腕管制+洗脑，大型新疆政策？\n\n- `观点` [[马聚](https://twitter.com/majuismail1122/status/1717304787245371599)] 今天一位维吾尔“朋友”打来电话说：以色列是民主国家，更是文明国家…还有很多阿拉伯人在这里工作和生活，当兵，还有选票…我惊诧不已，问：东突有很多维吾尔人当警察、当兵、领社会救济金、当副国级…是不是中国也是文明国家？没有集中营？是不是对维吾尔人很公平？\n    - `观点` [[约拿坦](https://twitter.com/jiongnasen/status/1717556381354799297?s=20\u0026utm_source=pocket_reader)] 有没有可能人家是被你的逻辑蠢哭了？以色列近两成人口是阿拉伯穆斯林，分布于全国各地，享有信仰自由和平等的公民权利。从国家议会最高法院到地方议会行政机关都有穆斯林成员。从建国以来一直有多个穆斯林政党参与全国大选，个别甚至明确反对以色列国的存在。中国要是有这些当然也是民主文明国家。\n- `观点` [[约拿坦](https://twitter.com/jiongnasen/status/1717385200504861179?s=20\u0026utm_source=pocket_reader)] 哈马斯现任总书记哈尼亚的三个姐妹全都生活在以色列，她们的子女多人志愿参加以色列国防军。以色列穆斯林活得怎么样，她们不比你清楚？\n\n`观点` [[不会说假话的秦軒](https://twitter.com/qinxuan79175309/status/1716513643423236492)] 马聚先生的观点是自洽的，巴勒斯坦民族主义成分多。说他是哈马斯的帮凶，肯定是刻意臆断，不自洽。回族加穆斯林加公共知识分子身份，意味着他将面临来自多方的言语和情绪攻击，很容易引起心理创伤，以及自我保护。主流社会很难想象和理解这种挑战和压力。有马聚这样的对话者、交流者不容易，要珍惜。\n\n- `观点` [[WhiteWalker](https://twitter.com/WhiteWa1775/status/1716666488889758140?s=20\u0026utm_source=pocket_reader)] 说话偶尔有失客观理性，但考虑到他面对的中文舆论环境，完全可以理解，心理素质比那些“不讨论只拉黑”的人强多了\n- `观点` [[Elaine Ma](https://twitter.com/mayilan9301/status/1716693827304747403)] 他哪里有讨论，贴标签然后居高临下把人拉黑\n\n`观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1715265620240220160?s=20\u0026utm_source=pocket_reader)] 我是认真的，中国人确实是把自己带入到哈马斯上了。巴勒斯坦伞兵是收复故土啊，你门不觉得这句话眼熟吗？那个以前给澳门用过呀。到时候中国解放军伞兵空突台湾肯定是这个文案你信不信。[[截图](https://pbs.twimg.com/media/F83Y_SPbwAAc7E6?format=jpg\u0026name=small)]\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1720647931697754294?utm_source=pocket_reader)] “王小山问慕容雪村，你说个不死平民抓哈马斯的方案出来？后者推脱说这是专业问题。”这段是左派小知天真不负责任又鸡贼的写真。我不思考提供任何可行性方案，这些交给专业人士。但你的方案有不完美之处，我立刻出来跳脚骂街彰显良心。\n\n### 共情以色列\n\n`消息` [[川和 koi iok](https://twitter.com/koiiok17/status/1718967506482975230?s=20\u0026utm_source=pocket_reader)**,** [visegrad24](https://twitter.com/visegrad24/status/1718939055314890964)] 意大利作家、和平主义者和活动家维托里奥·阿里戈尼 (Vittorio Arrigoni) 于 2008 年移居加沙，以引起人们对巴勒斯坦解放事业的关注。2011年，他被当地萨拉菲派组织绑架并谋杀，该组织认为意大利是“异教徒国家”。\n\n`传言` [[喷嚏网-浮世绘802-存档](https://web.archive.org/web/20231021190359/https://www.dapenti.com/blog/more.asp?id=174430\u0026name=xilei)]  以色列和哈马斯的冲突至今，庞大的阿拉伯世界仍没有同意接收巴勒斯坦难民的表态。相反，跟加沙有陆路口岸的埃及却明确表示拒绝开放口岸让加沙人民撤离。\n\n`观点` [[维吾尔人权项目](https://twitter.com/UHRP_Chinese/status/1711744933189571055)] （2023年10月10日）“哈马斯 (Hamas) 对包括妇女、男性和儿童在内的平民进行蓄意、残暴的袭击，令人感到震惊。维吾尔人权项目与所有暴行和暴力的受害者站在一起。”维吾尔人权项目执行主任乌麦尔·卡纳特表示。\n\n- `观点` [[川和 koi iok](https://twitter.com/koiiok17/status/1718604565342224661?s=20\u0026utm_source=pocket_reader)] 呜呜给维吾尔兄弟磕一个\n\n`观点` [**[莫之许](https://twitter.com/qinglongzui/status/1712334362270896232)**] 很多自由派沉迷于批判粉红的亲哈马斯言论，但不免沦于简单，甚至与之同构。\n\n- 首先（无论巴勒斯坦人以前多么艰困）如何看待哈马斯攻击行为\n- 其次（无论以色列消灭哈马斯多么困难）如何看待以军（应否）无差别攻击加沙\n- 最后，区分以色列右翼政权和左翼，避免将以色列抽象化。\n- 就如同巴勒斯坦人以前和当下多么苦难，都要谴责哈马斯的恐怖行为一样，无论以军当前消灭哈马斯多么困难，无差别攻击涉及到无辜的平民，就是一个需要面对的价值判断，是不能用现实必要性就加以辩护的问题。或许，这像许多著名的哲学悖论一样，并没有容易的答案，但如何回答，折射出的是你的价值观\n- （针对「無差別攻擊」）我括号里特意加了“应否”两个字，就是说这是一个假设性问题..…\n\n### 辩论·历史旧账\n\n`观点` [[慕容雪村](https://twitter.com/hawking197428), [王明远](https://mp.weixin.qq.com/s/P7XpDSZUTY_idONkd8OzqA)] 我毫不同情哈马斯，但也不接受无底线美化以色列：再论巴以问题的几个谎言和怪论\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717407033371353598?s=20\u0026utm_source=pocket_reader)] 巴勒斯坦建国是更大错误。今天很多挺以的批判约旦吞并巴勒斯坦。巴勒斯坦本是被英国一分为二，东岸划成外约旦，和巴勒斯坦 = 两德，约旦占领西岸过分吗？而巴勒斯坦又是英国的复古发明。阿拉伯人只反犹太人建国，巴勒斯坦？大叙利亚/约旦一部分罢了。巴勒斯坦是无法自我负责的政治体，外力强行发明民族的灾难，因此埃以能和解巴以不行\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717429997462552998?s=20\u0026utm_source=pocket_reader)] 说哈马斯不能代表巴勒斯坦，比哈马斯能代表巴勒斯坦更糟。法塔赫能代表巴勒斯坦？作为外力强行发明民族的灾难，只能输出混乱，却无法自我负责。让出西奈后和埃及和解，退出西岸却招致巴勒斯坦袭击升级。邪恶如苏联起码能作为国家和美国结盟反轴心。巴勒斯坦无法为任何事负责，别说和解，去约旦黎巴嫩只能刺杀国王点燃内战\n\n`消息` [[Yashar Ali](https://twitter.com/yashar)] Queen Rania of Jordan was interviewed by [@amanpour](https://twitter.com/amanpour) today。\n\n- `观点` [[陳軍](https://twitter.com/chenjunnyc/status/1717169356877038071)] 站在第三者的立场看以巴冲突，看到国人们表现出那么强的代入感，对任何相反的意见，事实一概充耳不闻，只顾喧嚣恨意，如果哪天这类的事轮到自己，不知道这帮人的反应会有多么疯狂？\n- `传言` [[约拿坦](https://twitter.com/jiongnasen/status/1717370404216639742?s=20\u0026utm_source=pocket_reader)] 整个访谈只字未提哈马斯。约旦从第一次中东战争入侵以色列开始直到1967年第三次中东战争，占领西岸长达二十年，从未有过支持巴勒斯坦建国的任何举动。约旦在1967年后继续支持巴解组织对以色列展开恐袭，直到1970年巴解企图颠覆约旦王室双方爆发内讧，约旦消灭数千巴勒斯坦武装分子，流放数万人。\n- `观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717460992127570357?s=20\u0026utm_source=pocket_reader)] 王后谈话离不开约旦本身立场。约旦是早期反以主力，长期把巴勒斯坦视为国土，一度吞并西岸。卡塔尔是海湾特洛伊木马，约旦则是中东掮客。沙特-伊朗系斗得你死我活，但每次交涉都要通过约旦协调，和谈地址都在约旦。欧洲伊朗核谈判，克里-内塔会谈，都在安曼。中东各路人都要给约旦卖面子-除了IS\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717376798814863590?s=20\u0026utm_source=pocket_reader)] 我说过巴以本身不特殊-特殊在作为图腾对左壬心理结构影响。具体表现为极度抗拒status quo，建国80年后还复读不反犹只反犹太复国。中苏熬30年成了“负责任大国”，这份偏执只对以色列生效。还能把以色列从地图上抹去？边痛斥181决议边要求以色列单方面回归80年前对方撕碎的方案…也明显对谈判史缺乏了解。网民到蛋头，还把“犹太复国对不对”的辩论队问题，当眼下危机切入点。战国乱世关键，难道是应仁之乱中谁是足利合法继承人？张嘴就回到181方案的，除撒泼打滚，主要是用片汤话掩盖对issue的一无所知。起码对这几十年国际努力，马德里会议-奥斯陆-开罗协议-希伯伦议定书-克林顿方案，有点基本尊重？\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717162999809749363)] 以色列退让过不止一次，但每次换来都是更严厉的攻击。应该问以色列妥协有用吗？拉宾不提，沙龙不提，甚至这几年以方也不乏怀柔。91年马德里和平会议到00年克林顿方案，最接近和解。克皇给了巴勒斯坦可行最大优惠，以方接受-当时总理是刚击败内塔的工党领袖巴拉克。阿拉法特不同意，搞了second antifada。事实是巴勒斯坦一再浪费他们的最好的机会。反击战胜利者一再吐出领地只为和平协议。没有任何失败者得到过这么多次国际社会对弱者的垂青。你可以说国际社会对苗族人/罗兴亚人/库尔德人/马赛人/图阿雷格人等赞米亚无国家者充满不公，但巴勒斯坦显然是会闹的孩子有糖吃，它只是太多次主动摔破糖罐。巴方一再证明以色列怀柔没用，但巴解从刺杀约旦国王，黑九月，引爆约旦黎巴嫩内战的恐怖份子，被各邻国锤到“热爱和平”，不能说铁拳没用\n\n`观点` 内盖夫沙漠\n\n- [[不想放牛](https://twitter.com/Hale2heal/status/1716744934508646471)] 什么才叫公平？整个寸草不生的大荒漠给以色列你觉得公平吗？他们觉得联合国不公平，需要用拳头重新划分，那是不是应该接受拳头划分的结果？\n- [[Garfield the gigacat](https://twitter.com/Gatetsantander/status/1716747306190397737)] 不公平啊，因为内格夫沙漠1947年时全是阿拉伯土著，根本没有犹太人，也没有犹太人买的土地啊，以色列南部的内格夫沙漠甚至自古以来从不是古以色列和古犹大王国的一部分，所以为什么联合国要这么做？\n- [[猞猁雪球喵](https://twitter.com/snowballlynx/status/1716817218326221220?s=20\u0026utm_source=pocket_reader)] 大英确实曾经要把内格夫沙漠划给阿拉伯国, 犹太国只分得不足20%领土, 结果是锡安主义者欣然接受, 阿拉伯人觉得沙漠分给自己是欺负人, 于是Intifada\n\n### 辩论·以色列对巴勒斯坦是占领 (occupation ) 还是隔离 (apartheid)\n\n`观点` [[人权观察 HRW Chinese](https://twitter.com/hrw_chinese/status/1711891868252868846)] [#以色列](https://twitter.com/hashtag/%E4%BB%A5%E8%89%B2%E5%88%97?src=hashtag_click) 当局数十年来对巴勒斯坦人进行有系统镇压，并自2007年开始对加沙居民实施严酷封锁。[#巴勒斯坦](https://twitter.com/hashtag/%E5%B7%B4%E5%8B%92%E6%96%AF%E5%9D%A6?src=hashtag_click) 被占领土内的巴勒斯坦人近来遭受空前压迫。\n\n- `观点` [[三日月やよい](https://twitter.com/Willoug60125499)] 为什么是2007年开始“对加沙居民实施严酷封锁”？完整时间线就能看出根源。2005.2以色列决定撤离加沙。2005.8.15以色列关闭加沙古什·卡提夫犹太定居点，正式撤出。2007.6，哈马斯加沙之战击败法塔赫，夺得加沙控制权。以色列封锁加沙，埃及关闭加沙南部边界\n\n`观点` [[溯光者](https://twitter.com/Amoe_Light)] 划出一片地方，只要不出界，你们随便折腾。说到底还是地球太小了，这样的保留区越来越多\n\n- `观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1717733654443782167?s=20\u0026utm_source=pocket_reader)] woke 喜欢复读以色列 occupation + apartheid，不理解这俩概念其实是矛盾的…\n\n`传言` [[Anne](https://twitter.com/Anniedeboer98/status/1718597034402263530?s=20\u0026utm_source=pocket_reader), [WorldofAlhilal](https://twitter.com/WorldofAlhilal/status/1718389206467096997)] 这位前以色列士兵解释了他们如何骚扰有18万居民的西岸希伯伦巴勒斯坦人。在城市中心建立定居点，850民定居者（民兵）+650名军人。24小时巡逻，军人半夜随机入门全家搜查。只是为了恐吓巴勒斯坦人并让他们总是感到被（以色列人）紧盯着。这就是巴勒斯坦人应该千恩万谢的幸福生活？\n\n`传言` 加沙信封带\n\n- [[唐丹鸿](https://twitter.com/DanHongTang/status/1716695939530772499)] 在这篇以色列-哈马斯战争手记里，有我从加沙信封带的基布兹保存的记忆，以及与当前现实的映照。\n- [[XHuan](https://twitter.com/XHuan11/status/1717198075712651774)] 基布兹/Kibbutz这样一种以色列人乡村集体定居点，为什么会出现在加沙？\n- [[Anne](https://twitter.com/Anniedeboer98/status/1717217633362174370)] 丹红指的是加沙信封带，就是加沙围墙外面7公里之内的地区，也就是哈马斯攻击的地区。这里居住的是以色列政府支持的“对抗线社区”，就如中国的建设兵团。居住着军人、武装民兵等及平民家属。西方媒体用settlers而不是civilian来描述这些人。\n- [[唐丹鸿](https://twitter.com/DanHongTang/status/1717233403723157611)] 加沙信封带不是缓冲区。1947年联合国以巴分治决议划线可见。加沙信封带的居民不是“定居者”-定居者指的在1967年停火线（绿线）以外的巴勒斯坦地区定居的犹太人。1967-2005年以色列占领加沙期间，定居加沙的犹太人是“定居者”，极右。2005年强行撤离。与你所说相反，加沙信封带的居民大多是左派和平人士\n- [[Anne](https://twitter.com/Anniedeboer98/status/1717245334550651118)] 这是以色列的缓冲区，当然不是加沙的。加沙在监狱里没有缓冲。这个地区是以色列的“前沿社区Confrontation-line Communities\", 居民大都是以前从加沙撤出的具有东部背景的犹太人，以前公开享受以色列政府的支持，以犹太复国主义者居多，左右不清楚。当然不排除其中有少数有国际友人。\n- [[唐丹鸿](https://twitter.com/DanHongTang/status/1717251928092999681?s=20\u0026utm_source=pocket_reader)] 加沙信封带既非缓冲区也非“前沿社区”。那里就是以色列领土、边境地区。那里的基布兹社区多建于1948年，居民以农庄创建者及后代为主。基布兹不是任何人可进住的，农庄有决定权。特意查了没有加沙迁出的定居者迁入基布兹。他们被安置在其他地区。Confrontation-line Communities在黎巴嫩边境，属经济政策\n- [[Anne](https://twitter.com/Anniedeboer98/status/1717259724440101250)] 截图，维基百科：[加沙信封带-历史](https://en.wikipedia.org/wiki/Gaza_envelope)\n- [[唐丹鸿](https://twitter.com/DanHongTang/status/1717262372753072288)] 这是以色列一个对内的经济补偿政策。边境地区这些社区常年遭受火箭弹攻击，被划为“前沿”的社区政府给予他们特别经济援助，比如掩体的修建等。不是军事意义上的“前沿”。哈马斯屠杀的是以色列领土上、人口密集的加沙信封带的平民。\n\n`传言` [唐丹鸿]（請教丹鴻，加沙地帶的巴勒斯坦控制地區的人，之前可以自由前往以色列醫病或採購食物等通關嗎？）加沙是哈马斯控制。以色列退出加沙后，哈马斯与法塔赫在加沙争夺控制权，厮杀极其血腥残暴，哈马斯赢。然后攻击以色列、遭以色列封锁。在没有战争的时候，以色列发许可证允许部分加沙人来以色列做工看病等。上届本尼特政府时每天达约一万五。这次哈马斯袭击，有些来以色列做工的加沙人是哈马斯的带路党\n\n`传言` [张平] 上篇关于巴勒斯坦人经济状况的推被我不小心删除了，找了半天也没找回来，我也没备份。长长一篇，也懒得再打字了，其中最重要的是加沙地区的经济情况，我就把来源放在这里，各位自己去看。关于加沙城平均工资情况，看这里：[https://www.averagesalarysurvey.com/gaza-city-palestine](https://www.averagesalarysurvey.com/gaza-city-palestine)。关于加沙地区人均年收入6200美元（2017年数字），来自这里：[https://csis.org/analysis/war-gaza-and-death-two-state-solution](https://t.co/hI1Mg12Rae)\n\n`争论` 巴以水资源之争\n\n- [[赛先生的小迷弟](https://twitter.com/TruthOfFinance/status/1717028319236145576)] 查看一下联合国关于以色列占领的巴勒斯坦领土之后对于水的控制真是触目惊心。巴勒斯坦或者是阿拉伯人接雨水都得以色列当局批准，柑橘树都给拔光了，一律不许新种果树。\n- [[Karesuuu](https://twitter.com/DL1BhTL7x8mzZeV/status/1717071923211890760)] 当地的水资源就是非常匮乏，如果没有以色列对水资源的集中科学管理淡化处理根本不可能养活现在这么多的人口\n19世纪后半整个地区才几十万人而已\n- [[赛先生的小迷弟](https://twitter.com/TruthOfFinance/status/1717073478351036913)] 难道这就是只允许巴勒斯坦人打井只能打到60米，以色列人就能打井打到500米的理由么？以色列人是还卖水给巴勒斯坦人，不过价格平均是卖给以色列人的4倍。\n- [[川和 koi iok](https://twitter.com/koiiok17)] 非常谣棍，以色列本国水价差别明显，特别是处在百分之七十的沙漠地带，比海水淡化工厂周边能贵出七倍。\n同样，以色列的水价最低价格非常便宜，在最便宜的地方为0.45欧元，每立方米，德国1.91，比利时1.85，即使四倍也不及欧洲。而[报告](https://www.pseau.org/outils/ouvrages/pwa_performance_monitoring_of_water_service_providers_in_palestine_2011_2013.pdf)显示巴勒斯坦有超过300家水供应商，甚至政府机构都有四个，Palestine Water Authority (PWA) ...•The Water Sector Regulatory Council (WSRC) ...•Ministry of Agriculture (MoA) ...•Ministry of Local Government (MoLG)，组织庞大，效率低下，官商勾结，层层盘剥，令人痛惜.\n- [[赛先生的小迷弟](https://twitter.com/TruthOfFinance/status/1717106364047364263)] 所谓300个供应商应该说是300个经销商，你去看看巴勒斯坦现在分散的控制区域是怎么样。但联合国报告写的很清楚以色列控制的水资源大概是巴勒斯坦的9倍。你说机构繁杂就更不是了，比如巴水务局大部分工资来源是靠国际捐助。当然是巴勒斯坦西岸其实也是分裂的，因为并没有大一统的政府。当然最后造成价格高很多原因，比如说有些巴勒斯坦地区没有输水管道，水不够用了只能民间向以色列定居点那买水。以色列民用水也是阶梯水价，巴勒斯坦人要买对比其他巴勒斯坦地区能获得的正常水价格翻4倍以上太正常了。\n- [[川和 koi iok](https://twitter.com/koiiok17/status/1717129614647279629)] 标准的推卸责任\n\n### 辩论·哈马斯是恐怖分子还是反抗战士\n\n`争论` 2014年3名以色列青年被绑架杀害\n\n- `观点` [[KEVIN](https://twitter.com/MrOilMan/status/1718431457918525775)] 2014 年以色列指控哈马斯杀害三名以色列青年，进入加沙展开疯狂报复，巴勒斯坦人死亡500人。重温以下节目，惊叹历史惊人相似，10年后悲剧不仅重演，而且惨烈程度级数增长，真实反恐反恐，越反越恐。以恐怖主义镇压恐怖主义是死路一条，人类应该有智慧走出这个死循环。\n- `观点` [[约拿坦](https://twitter.com/jiongnasen/status/1718793687571001700?s=20\u0026utm_source=pocket_reader)] 2014年三名以色列青年在西岸被绑架并杀害，以军进入西岸搜捕凶手，导致哈马斯在西岸的势力几乎全部被捕（所以西岸局势一直相对稳定）。然后哈马斯从加沙对以色列平民发射火箭弹四千多枚作为报复，然后以军才进入加沙进行压制。原推这种歪曲事实的姿势分子也是冲突不断延续恐怖分子苟延残喘的原因之一\n\n`传言` [[Ignatius Lee](https://twitter.com/22HomoPoliticus/status/1712230091248345318)] 一段德国人拍摄于2014年的记录片显示哈马斯成员在街头痛打并抓捕反对哈马斯政府的巴勒斯坦人。其中一位老奶奶痛斥哈马斯说：你们比犹太人坏多了！[[视频](https://twitter.com/i/status/1712230091248345318)]\n\n`观点` [[押沙龙yashl](https://chinadigitaltimes.net/chinese/701146.html?utm_source=pocket_saves)] 不管你有什么立场，也得先有起码的人性\n\n`传言` [[川和 koi iok](https://twitter.com/koiiok17/status/1711907056347918499), [Unofficial NAFO Rabbi](https://twitter.com/LernerIsaak/status/1711836152167280777)] 哈马斯老父亲在督促自己的孩子向警察冲刺冲刺，并且说让他们射杀孩子，快射！[[视频](https://twitter.com/i/status/1711836152167280777)]\n\n`观点` [[瓜哥](https://twitter.com/whitetock3058/status/1719788751780757667)] 苦逼的巴勒斯坦人民没有飞机大炮坦克，他们以自己身体为武器的绝望和悲壮，却成为被“文明社会”指责的理由？过去10年里，美国只接受过不到一千巴勒斯坦难民；与此同时,每年给以色列军事援助几十上百亿美元。作为让巴勒斯坦民众苦难更看不到头的罪魁祸首之一的美国政府，他们给过巴勒斯坦人多少帮助？\n\n- `观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1719957194920390968?s=20\u0026utm_source=pocket_reader)] 苦逼大清人民没机枪军舰，义和团以身体为武器的绝望和悲壮，却成为被“文明社会”指责的理由？woke会理直气壮：义和团就是反抗斗士，China did nothing wrong。黄左舔不了。黄左作为复读机失败就在此。woke本质反西方砸烂旧世界。而黄左最崇拜西方，只是cos美式进步，还指望灯塔进步主义改造东亚呢\n\n`观点` [[三日月やよい](https://twitter.com/Willoug60125499/status/1719238281190424712?s=20\u0026utm_source=pocket_reader)] 否认巴勒斯坦 5000枚火箭弹+炮艇+空降部队+占领检查站+屠杀掳掠平民是侵略方，把以色列反击说成侵略的，一般都会极力夸大哈马斯武装与idf的不对等。言下之意“孩子还小，杀着玩的，大人咋还较真了？”\n\n### 其他\n\n`观点` [[翻电Special](https://www.xiaoyuzhoufm.com/episode/65314b9c75608281a9c043f6?utm_source=pocket_reader)]  从加沙医院争议，再谈几个媒介素养的“真问题” VOL.126 （评论区）\n\n`观点` [[报道者](https://www.twreporter.org/a/interview-v-dem-staffan-lindberg?fbclid=IwAR2MpJ9oOWxhWTxoBi101BL-XYpI1DZtvsX0VuGNQBHvuwwDRHxH26X5B_o\u0026utm_source=pocket_reader)]  對抗假訊息，就是維繫民主的關鍵所在──專訪V-Dem創辦人林德伯格\n"},{"slug":"afaik-generative-ai","filename":"2023-09-11-afaik-generative-ai.md","date":"2023-09-11","title":"·如是我闻 | 生成式人工智能","layout":"post","keywords":["md","ai","rss"],"excerpt":"","content":"\n## 生成式语言模型\n\n### 模型\n\n- OpenAI/GPT\n- Claude\n- `bloomchat`, 可以商用 [[GitHub](https://github.com/sambanova/bloomchat)]\n- `falcon40B`\n    - apache 2.0 许可证，可商用[[huggingface](http://huggingface.co/tiiuae)]\n    - gpt3 的性能，更少的运算资源，其中Falcon 7B可以跑在苹果Mac上 [[推特](https://twitter.com/rickawsb/status/1666148546285043714)]\n- `TigerBot`: 一款国产自研的多语言任务大模型，70亿参数和1800亿参数两个版本 [[GitHub](https://github.com/TigerResearch/TigerBot)]\n- `QLoRA`: 单个GPU，ChatGPT 99%的能力，消费级GPU微调12个小时就可以达到97%的ChatGPT水平，4B就可以保持16B精度的效果 [[论文](https://www.notion.so/Endocytic-trafficking-promotes-vacuolar-enlargements-for-fast-cell-expansion-rates-in-plants-6b8f0a313c184ccba9fb5a035bb04a0e?pvs=21)] [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- `MBT 30B`: 开源商用模型为数不多的选择里出现了一个比Falcon 40B更好的模型 [[Twitter](https://twitter.com/fi56622380/status/1672137540281974784)]\n- `GLM-6B` \u0026 `GLM2-6B`: 智谱AI发布，对学术研究完全开放，并且在完成企业登记获得授权后，允许免费商业使用。[[Twitter](https://twitter.com/GanymedeNil/status/1679892021807550465)][[微信公众号@GLM大模型](https://mp.weixin.qq.com/s?__biz=MzkxNjMzMjM3NA==\u0026mid=2247484214\u0026idx=1\u0026sn=e42153f987a74d1ffc7882f7cc09670d)]\n- `Llama 2`: Meta开源大语言模型Llama 2，可免费商用. [[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)介绍]\n    - Jim Fan 评论 [[推特，翻译](https://twitter.com/dotey/status/1681553916373135362?utm_source=pocket_saves)]\n    - 很多团队几乎都达成共识， RLHF 不重要，SFT 就够了。现在 Llama2 的论文说 RLHF 非常非常重要。[[推特](https://twitter.com/oran_ge/status/1681793774685659136?utm_source=pocket_saves)]\n    - `LLaMA-2-7B-32K`, context为32K的模型 [[推特](https://twitter.com/JefferyTatsuya/status/1685423475979325440)][[Twitter](https://twitter.com/togethercompute/status/1685048832168714240)]\n\n### 基于模型，直接可用的产品\n\n- OpenAI/GPT\n    - ChatGPT\n        - 2023年6月13日，GPT提供了函数调用，让ChatGPT来自己调用函数。[[Twitter](https://twitter.com/cryptonerdcn/status/1668733300070924288)][[OpenAI](https://openai.com/blog/function-calling-and-other-api-updates)][[用法 Twitter@宝玉](https://twitter.com/dotey/status/1668728109376450566)]\n    - ChatGPT - Code Interpreter\n        - 介绍 [[推特](https://twitter.com/fuyufjh/status/1684191835210809344)][[YouTube](https://www.youtube.com/watch?v=4wGlRrir_u4)]\n        - 《ChatGPT 探索：Code Interpreter 高级指南》[[微信@浮之静](https://mp.weixin.qq.com/s/K_csi1oWDv5tEaeeKSlvwA?utm_source=pocket_saves)]\n        - 源码可能被套出。[[Twitter](https://twitter.com/fuergaosi/status/1679457847237820416)]\n        - 对 code interpreter 的逆向工程 [[Twitter](https://twitter.com/Yampeleg/status/1678045605527003136)][[Mem](https://mem.ai/p/xyy8ULiAce1BecTxnU0M)]\n    - OpenAI API\n        - 2023年8月23日，OpenAI 开放了 GPT-3.5 的微调的API [[推特](https://twitter.com/dotey/status/1694207797351616703)]\n    - OpenAI on Azure 内置了一个内容过滤器 [[推特1](https://twitter.com/jw1dev/status/1666613728106938368)][[推特2](https://twitter.com/jw1dev/status/1666622878962548740)]\n    - `forefront`: 完全免费 GPT-4 的工具 [[登录](https://accounts.forefront.ai/)]，大概基于 `gptfree-ts` [[GitHub](https://github.com/xiangsx/gpt4free-ts)]\n    - `BratGPT`: ChatGPT的激进版本。[[官网](https://bratgpt.com/)]\n    - `SmartStudy`: 提供文本文档，创建10个问题的小测验。[[官网](https://smartstudy.streamlit.app/)]\n    - `XrayGPT`: 通过给定的 X 光片来促进围绕胸部 X 光片的自动化分析的研究。[[GitHub](https://twitter.com/CarsonYangk8s/status/1661588037892198401)]\n    - `FinGPT`: 类似BloomBerg的开源方案，RLHF 和 Lora 的低秩技术 [[Twitter](https://twitter.com/JefferyTatsuya/status/1668433680887615488)]\n- 微软\n    - BingAI\n        - 本地部署方案 [[推特](https://twitter.com/geekbb/status/1665692703055552513)][[GitHub](https://github.com/adams549659584/go-proxy-bingai)]\n    - VsCode Copilot\n    - Office 365 Copilot: 每月每名用户30美元. [[verge](https://www.theverge.com/2023/7/18/23798627/microsoft-365-copilot-price-commercial-enterprise)][[微信](https://mp.weixin.qq.com/s/9pcmrCEyp2AQsL3MbPYx-Q?utm_source=pocket_saves)]\n- Claude+\n    - 例子：阅读多份行业报告 [[推特](https://twitter.com/iamshaynez/status/1684398211958730753)]\n- `Llama`\n    - llama2.ai: 一个基于 llama 2 的聊天机器人，非官方。[[网站](https://llama2.ai/)]\n    - WizardCoder 34B based on Code Llama 写代码 [[推特](https://twitter.com/dotey/status/1696202647269785875)]\n- WebGLM: 清华开源的带网络搜索功能的 GLM 实现 [[GitHub](https://www.notion.so/pdf-14a94950d61c42d3b03bb132f7655589?pvs=21)]\n- mendable: 根据开发文档进行问答 [[官网](https://www.mendable.ai/usecases/documentation)]\n- 阅读 PDF 文档\n    - Humata.ai\n    - explainpaper\n    - ChatPDF\n    - [[对比](https://twitter.com/oran_ge/status/1683432444169711616?utm_source=pocket_saves)] Claude2支持超长上下文，摘要信息量更大，更适合长文提炼。ChatDOC 具有页码溯源、表格解析、原文定位功能，数据找得准，也方便二次验证，能够限制大语言的幻觉问题。\n- Obsidian-copliot: 快速获取文字的核心观点\n- 视频内容梗概\n    - Glarity: 浏览器插件，基于ChatGPT和字幕生成Youtube摘要，20秒看完梗概 [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n    - summarize-tech: 5分钟了解长视频的要点. [[Twitter](https://twitter.com/starzqeth/status/1640867876109422595)]\n- webpilot: 可联网可读网页链接的插件 Webpilot 推出的 Chrome 版插件 [[chrome](https://chrome.google.com/webstore/detail/webpilot-copilot-for-all/biaggnjibplcfekllonekbonhfgchopo?utm_source=link)]\n\n### 模型教程、评论、二次开发\n\n- 一般性原理\n    - 《Prompt 编写模式》[[phodal](https://prompt-patterns.phodal.com)]\n    - 《LLM+Embedding构建问答系统的局限性及优化方案》[[知乎](https://zhuanlan.zhihu.com/p/641132245)]\n    - 基于检索的 LM，外挂一个数据库用来检索。[[推特](https://twitter.com/cosmtrek/status/1678077835418955781)][[GitHub.io](https://acl2023-retrieval-lm.github.io/)]\n    - 一篇泼冷水的论文 [[ACL Anthology](https://aclanthology.org/2023.findings-acl.426/)]\n    - 即刻出的Prompt调试工具。[[Twitter](https://twitter.com/vista8/status/1678784460786135040)][[官网](https://promptknit.com/)]\n- GPT\n    - GPT best practice [[OpenAI](https://platform.openai.com/docs/guides/gpt-best-practices?utm_source=pocket_saves)]\n    - Andrew Ng 吴恩达 \u0026 Isa Fulford from OpenAI 《Build system with [#ChatGPT](https://twitter.com/hashtag/ChatGPT?src=hashtag_click) API》[推特@**[金田達也](https://twitter.com/JefferyTatsuya)**]\n        - 借助 CoT 的思路，翻译字幕，返回正确的 JSON 格式 [[推特](https://twitter.com/dotey/status/1665476562219573249)]\n        - 同样的加入了CoT（Chain of Though）的Prompt，如果让GPT打印出来步骤，效果非常好，但是如果不让GPT打印（省点token，以及更容易解析），那么GPT就会偷懒 [[Twitter](https://twitter.com/dotey/status/1668736426286915590)1][[Twitter2](https://twitter.com/dotey/status/1664335473500626946)]\n    - 熊猫吃短信是 Twitter@威力狈 开发的垃圾短信过滤工具。将其与 GPT 结合的一些讨论\n        - [Twitter@威力狈](https://twitter.com/waylybaye/status/1664253928970788864)：尝试了下用 ChatGPT 自动标注数据，效果太差了。\n        - [Twitter@宝玉](https://twitter.com/dotey/status/1669028955842650139)：通常如果我写的话，会做一些小调整\n        - [Twitter@IIInoki](https://twitter.com/IIInoki)：是的，感觉八爷用 API 用得有点糙……就只是很简单的 prompt 达到的效果都还不错\n    - 《ChatGPT 越过山丘之后，再来谈谈 LLM 应用方向》[[橘子汽水铺](https://quail.ink/orange/p/chatgpt-cross-over-the-hills-and-discuss-llm-application-directions)]\n- `LangChain`:\n    - 官方教程 [[推特](https://twitter.com/LangChainAI/status/1665009694627250176)][[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/)]\n    - 一个使用 LangChain 和 GPT Index 的教程 [[leanpub, 收费](https://leanpub.com/langchain)][[Pocket](https://getpocket.com/read/3839490971)]\n    - LangChain for LLM Application Development 基于LangChain的大语言模型应用开发 [[YouTube](https://t.co/JXV1SBI2OA)]\n        - 基于Embedding的文档问答。stuff, map reduce, refine, map rerank [[Twitter@宝玉](https://twitter.com/dotey/status/1667790801420558342)]\n    - Chanin Nantasenamat: LangChain tutorial #1: Build an LLM-powered app in 18 lines of code [[streamlit](https://blog.streamlit.io/langchain-tutorial-1-build-an-llm-powered-app-in-18-lines-of-code/?utm_source=pocket_saves)]\n    - 把一篇很长的 PDF 内容喂给 ChatGPT，然后向他提问\n        - 纯 JS 开源工具推荐 [[推特](https://twitter.com/Barret_China/status/1638119945749037056)]\n        - 用 `LangChain` 六七行代码就可以搞定了 [[LangChain](https://js.langchain.com/docs/get_started/introduction)]\n- `AutoChain`\n    - 介绍 [[推特](https://twitter.com/zhangjintao9020/status/1683996172980199429)][[GitHub](https://github.com/Forethought-Technologies/AutoChain)]\n    - 《我为什么放弃了 LangChain》[[推特](https://twitter.com/Barret_China/status/1683135367862718465)][[微信](https://mp.weixin.qq.com/s/jIbz9JYc8-_ua-QLENX__A)] 推友提出的 AutoChain 替代方案 [[推特](https://twitter.com/Barret_China/status/1684211570186887170?utm_source=pocket_saves)]\n- `OpenDAN`: 为各类 AI 模块提供运行环境，并提供它们之间的互操作性协议。可创建诸如律师、医生、教师，甚至男女朋友等角色 [[GitHub](https://twitter.com/Barret_China/status/1666455683758161920)]\n- “视频语音↔文字”任务相关\n    - 指定视频URL，识别文字，翻译 [[GitHub](https://github.com/lewangdev/autotranslate)]\n    - `WhisperX`: 按照单词对齐时间戳，生成的字幕都是完整的句子 [[GitHub](https://github.com/m-bain/whisperX)]。[[Twitter@宝玉](https://twitter.com/dotey/status/1667394662628204546)] 写了一个可以根据 YouTube Url 识别 YouTube 字幕的 [Jupyter Notebook](https://github.com/JimLiu/whisper-subtitles/blob/main/whisperx_youtube_subtitle.ipynb)\n    - `audiocraft`: audio processing and generation with deep learning. [[GitHub](https://github.com/facebookresearch/audiocraft)]\n    - [[推特]](https://twitter.com/Barret_China/status/1684218981639413760) 小作文\n    - `yt-dlp` 一行命令下载视频字幕的工具，不需 puppeteer 无头浏览器 [[推特](https://twitter.com/Barret_China/status/1684228477644570624)][[GitHub](https://github.com/yt-dlp/yt-dlp)]\n- ChatGPT + AI agent + ScholarAI + Noteable 写的小综述 [[链接失效](https://t.co/eqVc2LIfSz)]\n- `MusicGen`: 将文本和旋律转化为完整乐曲 [[Twitter](https://twitter.com/Fenng/status/1668141100610248705)][[ReadHub](https://www.notion.so/3753e42dc4204a99ab83a725b655a632?pvs=21)]\n- `MMS`: 一个声音模型 [[HuggingFace](https://huggingface.co/docs/transformers/main/en/model_doc/mms)]\n- `FRVR Forge`: AI-Powered End-to-End Game Creation [[Twitter](https://twitter.com/FRVRGames/status/1669758477789540365)][[官网](https://www.notion.so/ai-University-Cloud-8078b4682e454a5fba982f67e4530498?pvs=21)]\n\n### 开发平台\n\nRunpod: 租用 GPU 跑模型并创建 Serverless API 一站式服务，最低只要0.2刀/hr。[[官网](http://runpod.io)]\n\n### 杂项\n\n- 2023年5月27日、28日，OpenAI 使用 Sentry 审计工具封禁来自中国的用户，解决方案：\n    - 路由器 Clash 规则 [[推特](https://twitter.com/wey_gu/status/1663003950214438912?utm_source=pocket_saves)]\n    - 改用 Azure OpenAI service [[推特](https://twitter.com/zhangjintao9020/status/1662865819041402880)]\n    - Cloudflare WARP [[左耳朵](https://haoel.github.io/)]\n\n## 生成式图像模型\n\n2023年5月31日，Adobe 添加人工智能相关功能 generative fill。[[推特](https://twitter.com/CodeByPoonam/status/1663824055164887040)]\n\n- 配置要求极低，连Win掌机都能跑，但是不能断网。[[推特](https://twitter.com/OfflineHelper/status/1666042746866663424)]\n- 填充将横屏的视频转换为竖屏。[[推特](https://twitter.com/Alex_Cerrato/status/1681677307843432449)]\n\n`MidJourney`\n\n- 在提示词中添加相机镜头信息。[[推特](https://twitter.com/4rtofficial/status/1663310457854099458)]\n- zoom [[Twitter](https://twitter.com/jesselaunz/status/1674210886695923712)]\n\n`StableDiffusion`\n\n- Eric Fu: 训练指南. [[Coding Husky](https://ericfu.me/stable-diffusion-finetune-guide/?utm_source=pocket_reader)]\n- 文字或者符号融合生成图片 [[Twitter](https://twitter.com/op7418/status/1680223090138316800)][[微信](https://mp.weixin.qq.com/s/rvpU4XhToldoec_bABeXJw)]\n\n`StyleDrop`: Google 基于 MUSE 的样式迁移 transformer [[推特](https://twitter.com/recatm/status/1665056017107886080)][[GitHub.io](https://styledrop.github.io/)]\n\n`Redream`: 从视频到二次元动画 [[推特](https://twitter.com/heyBarsee/status/1665034805384290307)][[GitHub](https://github.com/Fictiverse/Redream)]\n\n`Runway` Gen-2: 文本生成视频和图片生成视频, 4 秒钟 [[推特](https://twitter.com/op7418/status/1666461595818504192)][[需注册](https://app.runwayml.com/login)]\n\n一个 AI 视频解决方案，来自南洋理工，代码尚未开源 [[Twitter](https://twitter.com/op7418/status/1669026494885285888)] [[GitHub.io](https://anonymous-31415926.github.io/)][[Twitter2](https://twitter.com/rickawsb/status/1672310994390126593)][[arxiv](https://arxiv.org/abs/2306.07954)]\n\n`AWPortrait1.1`: 图像生成 [[Twitter](https://twitter.com/dynamicwangs/status/1673730591462928385)][[LibLibai](https://www.liblibai.com/modelinfo/721fa2d298b262d7c08f0337ebfe58f8)] \n\n`Anything AI`: 可以取代照片中的任何物体。免费，不需要注册. [[官网](https://www.anything-ai.com/)]\n\n`PixelLab`: 草图创建2D图像. [[官网](https://www.pixellab.ai/)]\n"}]]]},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"afaik-generative-ai"},"buildId":"buildID","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>