<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>MountAye·Blog</title>
        <link>https://blog.mountaye.com/en</link>
        <description>Intellectual thinking is a lifestyle.</description>
        <lastBuildDate>Wed, 13 Nov 2024 03:43:23 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>Feed for Node.js</generator>
        <image>
            <title>MountAye·Blog</title>
            <url>https://blog.mountaye.com/assets/img/before_h2.png</url>
            <link>https://blog.mountaye.com/en</link>
        </image>
        <copyright>Rights Reserved 2024, MountAye</copyright>
        <item>
            <title><![CDATA[.tex | Compare 2 Probability Distribution or 2 Messages]]></title>
            <link>https://blog.mountaye.com/en/articles/information-entropy-kl-divergence-cross-entropy-mutual-information</link>
            <guid>https://blog.mountaye.com/en/articles/information-entropy-kl-divergence-cross-entropy-mutual-information</guid>
            <pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Translated by ChatGPT.]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>After feeling self-satisfied for a while, I realized that this article is basically a translation of the English Wikipedia entry Quantities of Information. However, the corresponding Chinese Wikipedia entry doesn’t cover as much content as the English version, so it’s not entirely a waste of effort.</p>
</blockquote>
<h2 id="information-and-probability">Information and Probability<a aria-hidden="true" tabindex="-1" href="#information-and-probability"><span class="icon icon-link"></span></a></h2>
<p>Information is expressed through a proposition, which can represent multiple propositions through logical operations. This proposition answers a specific question. Before receiving definite information, many other propositions could potentially be answers to this question, making probability theory applicable. Together, all possible propositions form a random variable space.</p>
<p>For example, in a multiple-choice question with four options, A, B, C, and D:</p>
<ul>
<li>If it’s a single-choice question, the random variable space for the answer is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>C</mi><mo separator="true">,</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">{A,B,C,D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span></span>.</li>
<li>If it’s multiple-choice, it’s <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi>C</mi><mo separator="true">,</mo><mi>D</mi><mo separator="true">,</mo><mi>A</mi><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mi>C</mi><mo separator="true">,</mo><mi>A</mi><mi>D</mi><mo separator="true">,</mo><mi>B</mi><mi>C</mi><mo separator="true">,</mo><mi>B</mi><mi>D</mi><mo separator="true">,</mo><mi>C</mi><mi>D</mi><mo separator="true">,</mo><mi>A</mi><mi>B</mi><mi>C</mi><mo separator="true">,</mo><mi>A</mi><mi>B</mi><mi>D</mi><mo separator="true">,</mo><mi>A</mi><mi>C</mi><mi>D</mi><mo separator="true">,</mo><mi>B</mi><mi>C</mi><mi>D</mi><mo separator="true">,</mo><mi>A</mi><mi>B</mi><mi>C</mi><mi>D</mi></mrow><annotation encoding="application/x-tex">{A,B,C,D,AB,AC,AD,BC,BD,CD,ABC,ABD,ACD,BCD,ABCD}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span></span>, and so on.</li>
</ul>
<h2 id="quantifying-information-in-a-probability-distribution">Quantifying Information in a Probability Distribution<a aria-hidden="true" tabindex="-1" href="#quantifying-information-in-a-probability-distribution"><span class="icon icon-link"></span></a></h2>
<h3 id="self-information">Self-Information<a aria-hidden="true" tabindex="-1" href="#self-information"><span class="icon icon-link"></span></a></h3>
<p>Self-information is a property of a random event or a specific possible value of a random variable. It is expressed as:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>n</mi></msub><mrow><mo fence="true">(</mo><mi>p</mi><mo stretchy="false">(</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">I(m) = -\log_n\left(p(M=m)\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></p>
<p>This is a dimensionless quantity, but the logarithm base can vary:</p>
<ul>
<li>When <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>, the unit is called a bit or shannon. A shannon represents the <strong>maximum information</strong> a binary digit can convey.</li>
<li>When <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">n=e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span>, the unit is nat, with loge or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>n</mi><mo>=</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>e</mi></msub></mrow><annotation encoding="application/x-tex">ln=\log_e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span></span></span></span> being the natural logarithm.</li>
<li>When <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">n=10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>, the unit is hartley.</li>
</ul>
<p>The formula is significant in information theory as it represents the minimum number of single-choice questions with nnn options required to find the answer.</p>
<h3 id="entropy">Entropy<a aria-hidden="true" tabindex="-1" href="#entropy"><span class="icon icon-link"></span></a></h3>
<p>Entropy is the overall property of a random variable’s probability distribution. The formula is straightforward, as it’s the expected value of self-information:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mi>p</mi></msub><mo stretchy="false">[</mo><mo>−</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>n</mi></msub><mi>p</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mrow><mi>m</mi><mo>∈</mo><mi>M</mi></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>n</mi></msub><mi>p</mi><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S(p(M))=\mathbb{E}_p[-\log_n p(M)]=-\sum_{m\in M}p(m)\log_n p(m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbb">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></p>
<p>For example, binary entropy for a specific random event would be:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>b</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>r</mi><mi>y</mi></mrow></msub><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>−</mo><mi>p</mi><mi>log</mi><mo>⁡</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">S_{binary} = -(1-p)\log(1-p)-p\log p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">bina</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ry</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span></span></span></span></p>
<p>Entropy in information theory signifies the minimum number of questions required to equate to the information contained in multiple propositions.</p>
<h2 id="comparing-information-content-in-two-probability-distributions">Comparing Information Content in Two Probability Distributions<a aria-hidden="true" tabindex="-1" href="#comparing-information-content-in-two-probability-distributions"><span class="icon icon-link"></span></a></h2>
<h3 id="kullbackleibler-k-l-divergence">Kullback–Leibler (K-L) Divergence<a aria-hidden="true" tabindex="-1" href="#kullbackleibler-k-l-divergence"><span class="icon icon-link"></span></a></h3>
<p>Also known as relative entropy or I-divergence, K-L divergence is defined for two probability distributions of the same random variable space:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>K</mi><mi>L</mi></mrow></msub><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi>q</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">D_{KL}(p(X)|q(X))=\sum_{x\in X}p(x)\log\frac{p(x)}{q(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>This measures the <strong>extra</strong> number of single-choice questions required when using the optimal questions for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">q(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> instead of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>.</p>
<h3 id="cross-entropy">Cross Entropy<a aria-hidden="true" tabindex="-1" href="#cross-entropy"><span class="icon icon-link"></span></a></h3>
<p>Cross entropy describes the total number of single-choice questions needed when using the questions optimal for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">q(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> with respect to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">CE(p(X),q(X))=-\sum_{x\in X}p(x)\log q(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">CE</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></p>
<p>Binary cross entropy between ppp and qqq can be expressed as:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>p</mi><mi>log</mi><mo>⁡</mo><mi>q</mi><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">BCE(p,q)=-p\log q-(1-p)\log(1-q)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">−</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span></p>
<h3 id="mutual-information">Mutual Information<a aria-hidden="true" tabindex="-1" href="#mutual-information"><span class="icon icon-link"></span></a></h3>
<p>Mutual information, defined for two different random variable spaces, XXX and YYY, is:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>I</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>p</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">MI(X,Y)=\sum_{x,y}p(x,y)\log\frac{p(x,y)}{p(x)p(y)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0017em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>This measures the difference between the joint distribution of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> and the assumption that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> are independent, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>I</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">MI=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> if they are independent.</p>
<h2 id="sidebar-discussion">Sidebar Discussion<a aria-hidden="true" tabindex="-1" href="#sidebar-discussion"><span class="icon icon-link"></span></a></h2>
<h3 id="loss-functions-in-pytorch">Loss Functions in PyTorch<a aria-hidden="true" tabindex="-1" href="#loss-functions-in-pytorch"><span class="icon icon-link"></span></a></h3>
<p>Some relevant loss functions in PyTorch are:</p>
<ul>
<li><code>torch.nn.KLDivLoss</code></li>
<li><code>torch.nn.CrossEntropyLoss</code></li>
<li><code>torch.nn.BCELoss</code></li>
<li><code>torch.nn.BCEWithLogitsLoss</code></li>
</ul>
<h3 id="boltzmanns-epitaph">Boltzmann’s Epitaph<a aria-hidden="true" tabindex="-1" href="#boltzmanns-epitaph"><span class="icon icon-link"></span></a></h3>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>k</mi><mi>log</mi><mo>⁡</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">S=k\log W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></p>
<p>Here, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> is the thermodynamic entropy, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> is Boltzmann’s constant <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">k_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> is the number of microstates. In statistical mechanics, when all states are equally probable, information entropy and thermodynamic entropy differ only by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">k_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.</p>
<h3 id="fortune-telling-and-low-information-content">Fortune Telling and Low Information Content<a aria-hidden="true" tabindex="-1" href="#fortune-telling-and-low-information-content"><span class="icon icon-link"></span></a></h3>
<p>In 451 AD, Attila invaded Roman territory and battled a coalition led by Aetius, including Theodoric, King of the Visigoths. Before the battle, Attila consulted a fortune teller who predicted the death of a king and the collapse of a state. Attila assumed Theodoric would fall, but it turned out that while Theodoric did die, the coalition defeated the Huns, and Attila’s ambitions were thwarted.</p>
<p>This story illustrates how fortune tellers employ low-information predictions that lead people to infer higher-information outcomes, playing on the difference in entropy between statements.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[.py | Python Testing Notes]]></title>
            <link>https://blog.mountaye.com/en/articles/python-test-notes</link>
            <guid>https://blog.mountaye.com/en/articles/python-test-notes</guid>
            <pubDate>Mon, 16 Oct 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Translated by ChatGPT.]]></description>
            <content:encoded><![CDATA[<h2 id="some-terms">Some Terms<a aria-hidden="true" tabindex="-1" href="#some-terms"><span class="icon icon-link"></span></a></h2>
<h3 id="debugging-and-testing">Debugging and Testing<a aria-hidden="true" tabindex="-1" href="#debugging-and-testing"><span class="icon icon-link"></span></a></h3>
<p>Debugging is generally done by the code's author and is used to check the program's execution process for mismatches between thought process and implementation. Debugging code is usually written alongside the main program and includes error handling and logging. Simple debugging can use <code>print</code> and <code>assert</code> statements, while more complex programs can use the <code>logging</code> module.</p>
<p>Testing, on the other hand, is generally done by a third party. The test code is separated from the program code, and the person writing the tests doesn’t need to understand the exact workings of the program—only whether the program produces the declared output given certain inputs.</p>
<h3 id="unit-testing">Unit Testing<a aria-hidden="true" tabindex="-1" href="#unit-testing"><span class="icon icon-link"></span></a></h3>
<p>Unit testing is a process that verifies the correctness of a module, function, or class.</p>
<p>The testing method involves writing a set of test cases, where the tester provides various inputs to the module to check if its output is correct, and also verifies if the program correctly identifies and handles invalid inputs by raising exceptions.</p>
<p>Passing all unit tests doesn’t guarantee that the entire program is error-free, but failing any unit test definitely indicates a problem with the program.</p>
<h3 id="documentation-testing">Documentation Testing<a aria-hidden="true" tabindex="-1" href="#documentation-testing"><span class="icon icon-link"></span></a></h3>
<p>Documentation provides an overview of a code’s functionality, often with examples that include sample code and expected output. This process is similar to unit testing, except that it's purely descriptive.</p>
<p>Documentation testing is an automated process that finds example code within the documentation, runs it, and compares the output with the documented results.</p>
<h3 id="integration-testing">Integration Testing<a aria-hidden="true" tabindex="-1" href="#integration-testing"><span class="icon icon-link"></span></a></h3>
<p>Integration testing simulates user behavior by testing the interactions between various modules, ensuring that the program can work properly in a production environment.</p>
<h2 id="testing-in-python">Testing in Python<a aria-hidden="true" tabindex="-1" href="#testing-in-python"><span class="icon icon-link"></span></a></h2>
<h3 id="file-structure">File Structure<a aria-hidden="true" tabindex="-1" href="#file-structure"><span class="icon icon-link"></span></a></h3>
<p>In the previous article, I mentioned the <code>src-layout</code> structure, which is also discussed in an <a href="https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure" rel="nofollow noopener noreferrer" target="_blank">official blog post on setuptools</a>. One advantage of this file structure is that the test folder is typically at the same level as <code>src/</code> instead of the package itself. This way, you need to install the package in a virtual environment before running the tests, avoiding potential discrepancies between test code and user-downloaded content.</p>
<pre><code>&#x3C;project_name> 
├── LICENSE 
├── pyproject.toml 
├── README.md 
├── src/ 
│ └── &#x3C;package_name>/ 
│ ├── init.py 
│ └── example.py 
└── tests/
</code></pre>
<h3 id="unit-testing-with-unittest">Unit Testing with <code>unittest</code><a aria-hidden="true" tabindex="-1" href="#unit-testing-with-unittest"><span class="icon icon-link"></span></a></h3>
<p><code>unittest</code> is Python’s built-in unit testing library.</p>
<p>A basic test script looks like this:</p>
<pre class="shiki shiki-themes github-light github-dark-dimmed" style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7"> unittest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">class</span><span style="color:#6F42C1;--shiki-dark:#F69D50"> TestName1</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">unittest</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">TestCase</span><span style="color:#24292E;--shiki-dark:#ADBAC7">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">([</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">1</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">3</span><span style="color:#24292E;--shiki-dark:#ADBAC7">]), </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">6</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#032F62;--shiki-dark:#96D0FF">"Should be 6"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_sum_tuple</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">((</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">1</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)), </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">6</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#032F62;--shiki-dark:#96D0FF">"Should be 6"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">class</span><span style="color:#6F42C1;--shiki-dark:#F69D50"> TestName2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">unittest</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">TestCase</span><span style="color:#24292E;--shiki-dark:#ADBAC7">):</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">([</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">1</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">3</span><span style="color:#24292E;--shiki-dark:#ADBAC7">]), </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">6</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#032F62;--shiki-dark:#96D0FF">"Should be 6"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_sum_tuple</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">sum</span><span style="color:#24292E;--shiki-dark:#ADBAC7">((</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">1</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">2</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)), </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">6</span><span style="color:#24292E;--shiki-dark:#ADBAC7">, </span><span style="color:#032F62;--shiki-dark:#96D0FF">"Should be 6"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">if</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __name__</span><span style="color:#D73A49;--shiki-dark:#F47067"> ==</span><span style="color:#032F62;--shiki-dark:#96D0FF"> '__main__'</span><span style="color:#24292E;--shiki-dark:#ADBAC7">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ADBAC7">    unittest.main()</span></span></code></pre>
<ul>
<li>The test cases are wrapped in a class that inherits from <code>unittest.TestCase</code>.</li>
<li>All test method names begin with "test". Limited properties are testable as they use built-in methods prefixed with <code>self.</code>. Some of these are in the table below, with <code>[assertTrue(x)](https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertTrue)</code> and <code>assertRaises(Exception)</code> being especially versatile.</li>
<li>When run as <code>'__main__'</code>, it executes the built-in <code>unittest.main()</code> function.</li>
<li>Running the script requires specifying the script filename in Python. If you install the <code>nose2</code> library, you can run <code>python -m nose2</code>, which will automatically discover and execute all tests. (<code>unittest</code> also seems to have an automatic discovery feature.)</li>
</ul>
<h3 id="documentation-testing-1">Documentation Testing<a aria-hidden="true" tabindex="-1" href="#documentation-testing-1"><span class="icon icon-link"></span></a></h3>
<p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840" rel="nofollow noopener noreferrer" target="_blank">https://www.liaoxuefeng.com/wiki/1016959663602400/1017605739507840</a></p>
<p>Python's documentation testing uses the <code>doctest</code> library, as shown below:</p>
<pre class="shiki shiki-themes github-light github-dark-dimmed" style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">class</span><span style="color:#6F42C1;--shiki-dark:#F69D50"> Dict</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">dict</span><span style="color:#24292E;--shiki-dark:#ADBAC7">):</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    '''</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    Simple dict but also supports access as x.y style.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d1 = Dict()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d1['x'] = 100</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d1.x</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    100</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d1.y = 200</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d1['y']</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    200</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d2 = Dict(a=1, b=2, c='3')</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d2.c</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    '3'</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d2['empty']</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    Traceback (most recent call last):</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">        ...</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    KeyError: 'empty'</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    >>> </span><span style="color:#032F62;--shiki-dark:#96D0FF">d2.empty</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    Traceback (most recent call last):</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">        ...</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    AttributeError: 'Dict' object has no attribute 'empty'</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#96D0FF">    '''</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __init__</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self, </span><span style="color:#D73A49;--shiki-dark:#F47067">**</span><span style="color:#24292E;--shiki-dark:#ADBAC7">kw):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        super</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(Dict, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">).</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">__init__</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#D73A49;--shiki-dark:#F47067">**</span><span style="color:#24292E;--shiki-dark:#ADBAC7">kw)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __getattr__</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self, key):</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">        try</span><span style="color:#24292E;--shiki-dark:#ADBAC7">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">            return</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">[key]</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">        except</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> KeyError</span><span style="color:#24292E;--shiki-dark:#ADBAC7">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">            raise</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> AttributeError</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#D73A49;--shiki-dark:#F47067">r</span><span style="color:#032F62;--shiki-dark:#96D0FF">"'Dict' object has no attribute '%s'"</span><span style="color:#D73A49;--shiki-dark:#F47067"> %</span><span style="color:#24292E;--shiki-dark:#ADBAC7"> key)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __setattr__</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self, key, value):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">[key] </span><span style="color:#D73A49;--shiki-dark:#F47067">=</span><span style="color:#24292E;--shiki-dark:#ADBAC7"> value</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">if</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __name__</span><span style="color:#D73A49;--shiki-dark:#F47067"> ==</span><span style="color:#032F62;--shiki-dark:#96D0FF"> '__main__'</span><span style="color:#24292E;--shiki-dark:#ADBAC7">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    import</span><span style="color:#24292E;--shiki-dark:#ADBAC7"> doctest</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ADBAC7">    doctest.testmod()</span></span></code></pre>
<p>With <code>docstring</code> indentation preserved, lines beginning with <code>>>></code> are treated as tests, with the following lines as expected outputs. For expected errors, you can use <code>...</code> to omit intermediate error details.</p>
<p>Integration Testing</p>
<p>You can also use unittest for integration testing.</p>
<p>The main difference from unit testing is that integration tests often involve setting up a test dataset. This requires overriding unittest.TestCase.setup().</p>
<pre class="shiki shiki-themes github-light github-dark-dimmed" style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">class</span><span style="color:#6F42C1;--shiki-dark:#F69D50"> TestComplexData</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">unittest</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.</span><span style="color:#6F42C1;--shiki-dark:#6CB6FF">TestCase</span><span style="color:#24292E;--shiki-dark:#ADBAC7">):</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> setUp</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#768390">        # load test data</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.app </span><span style="color:#D73A49;--shiki-dark:#F47067">=</span><span style="color:#24292E;--shiki-dark:#ADBAC7"> App(</span><span style="color:#E36209;--shiki-dark:#F69D50">database</span><span style="color:#D73A49;--shiki-dark:#F47067">=</span><span style="color:#032F62;--shiki-dark:#96D0FF">'fixtures/test_complex.json'</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_customer_count</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">len</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.app.customers), </span><span style="color:#005CC5;--shiki-dark:#6CB6FF">10000</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">    def</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB"> test_existence_of_customer</span><span style="color:#24292E;--shiki-dark:#ADBAC7">(self):</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ADBAC7">        customer </span><span style="color:#D73A49;--shiki-dark:#F47067">=</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.app.get_customer(</span><span style="color:#E36209;--shiki-dark:#F69D50">id</span><span style="color:#D73A49;--shiki-dark:#F47067">=</span><span style="color:#005CC5;--shiki-dark:#6CB6FF">9999</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(customer.name, </span><span style="color:#D73A49;--shiki-dark:#F47067">u</span><span style="color:#032F62;--shiki-dark:#96D0FF">"バナナ"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#6CB6FF">        self</span><span style="color:#24292E;--shiki-dark:#ADBAC7">.assertEqual(customer.address, </span><span style="color:#032F62;--shiki-dark:#96D0FF">"10 Red Road, Akihabara, Tokyo"</span><span style="color:#24292E;--shiki-dark:#ADBAC7">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F47067">if</span><span style="color:#005CC5;--shiki-dark:#6CB6FF"> __name__</span><span style="color:#D73A49;--shiki-dark:#F47067"> ==</span><span style="color:#032F62;--shiki-dark:#96D0FF"> '__main__'</span><span style="color:#24292E;--shiki-dark:#ADBAC7">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ADBAC7">    unittest.main()</span></span></code></pre>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[.py | Making Your Code Usable by Others]]></title>
            <link>https://blog.mountaye.com/en/articles/python-packaging</link>
            <guid>https://blog.mountaye.com/en/articles/python-packaging</guid>
            <pubDate>Fri, 13 Oct 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Translated by ChatGPT.]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>Here, "others" also includes the version of yourself six months later, who may no longer remember how this code was written.</p>
</blockquote>
<p>Some time ago, I wrote an article called <a href="https://mountaye.github.io/blog/articles/python-import-script-module-package" rel="nofollow noopener noreferrer" target="_blank"><strong>Using Import to Reference Existing Code</strong></a>, which explained how to use code written by others. I briefly mentioned a module's <code>setup.py</code> file at the end but didn’t go further. Now, let’s continue.</p>
<ul>
<li><a href="https://packaging.python.org/en/latest/tutorials/packaging-projects/" rel="nofollow noopener noreferrer" target="_blank">https://packaging.python.org/en/latest/tutorials/packaging-projects/</a></li>
<li><a href="https://setuptools.pypa.io/en/latest/userguide/quickstart.html" rel="nofollow noopener noreferrer" target="_blank">https://setuptools.pypa.io/en/latest/userguide/quickstart.html</a></li>
</ul>
<h2 id="basic-process">Basic Process<a aria-hidden="true" tabindex="-1" href="#basic-process"><span class="icon icon-link"></span></a></h2>
<ul>
<li>Write your code and structure the project files in a specific way (see next section).</li>
<li>According to your project structure, fill in a <code>pyproject.toml</code>, <code>setup.cfg</code>, <strong>or</strong> <code>setup.py</code> <strong>file</strong>.</li>
<li>Install the <code>build</code> library, then run <code>python -m build</code> to create a <code>dist/</code> folder with your built files. Optionally, upload the project to PyPi or Conda.</li>
</ul>
<h2 id="project-file-structure">Project File Structure<a aria-hidden="true" tabindex="-1" href="#project-file-structure"><span class="icon icon-link"></span></a></h2>
<p>Common file structures include the src-layout and flat-layout. Some small projects consist of a single Python file.</p>
<h3 id="src-layout">src-layout<a aria-hidden="true" tabindex="-1" href="#src-layout"><span class="icon icon-link"></span></a></h3>
<p>In the src-layout, the folder containing the package source code has another folder above it, typically named <code>src</code> (although it could be named differently). The <code>pyproject.toml</code> file is on the same level as the <code>src/</code> folder.</p>
<pre><code>&#x3C;project_name> 
    ├── LICENSE 
    ├── pyproject.toml 
    ├── README.md 
    ├── src/ 
    │   └── &#x3C;package_name>/
    │   ├── init.py 
    │   └── example.py 
    └── tests/
</code></pre>
<h3 id="flat-layout">flat-layout<a aria-hidden="true" tabindex="-1" href="#flat-layout"><span class="icon icon-link"></span></a></h3>
<p>In a flat-layout, the folder containing the package source code is directly under the top level of the project, on the same level as <code>pyproject.toml</code>.</p>
<p>This structure is older and not generally recommended.</p>
<pre><code>&#x3C;project_name> 
    ├── pyproject.toml # and/or setup.cfg/setup.py
    ├── &#x3C;package_name> 
    |   ├── init.py 
    |   └── ... (other Python files) 
    ├── test 
    |   └── ... (test files) 
    ├── README.md 
    └── LICENSE 
</code></pre>
<h3 id="single-file-project">Single-File Project<a aria-hidden="true" tabindex="-1" href="#single-file-project"><span class="icon icon-link"></span></a></h3>
<p>This can be considered a special case of flat-layout.</p>
<pre><code>&#x3C;project_name> 
    ├── pyproject.toml # and/or setup.cfg/setup.py 
    ├── &#x3C;my_module>.py 
    ├── README.rst or README.md 
    └── LICENSE
</code></pre>
<h2 id="filling-in-pyprojecttoml-setupcfg-or-setuppy-file">Filling in <code>pyproject.toml</code>, <code>setup.cfg</code>, <strong>or</strong> <code>setup.py</code> <strong>File</strong><a aria-hidden="true" tabindex="-1" href="#filling-in-pyprojecttoml-setupcfg-or-setuppy-file"><span class="icon icon-link"></span></a></h2>
<p>To package your code into an installable package, at least one of these three files must appear in the project root.</p>
<p>The file must contain project information in the syntax specific to its extension, most of which is self-explanatory.</p>
<p>Key parameters, such as <code>name</code>, <code>packages</code>, and <code>package_dir</code>, are based on the file structure. If the file structure fully follows the structure outlined in the previous section, then <a href="https://setuptools.pypa.io/en/latest/userguide/package_discovery.html#automatic-discovery" rel="nofollow noopener noreferrer" target="_blank">automatic discovery</a> with <code>setuptools.find_packages()</code> should suffice.</p>
<h3 id="name"><code>name</code><a aria-hidden="true" tabindex="-1" href="#name"><span class="icon icon-link"></span></a></h3>
<p>This is a required parameter.</p>
<p>Note: In the file structure from the previous section, there are two names: <code>&#x3C;project_name></code> and <code>&#x3C;package_name></code>.</p>
<ul>
<li><code>&#x3C;project_name></code> is the name of the development project as a whole. If you are using a version control system like git, this is the name of your repository.</li>
<li><code>&#x3C;package_name></code> can—but doesn’t have to—be the name you import in other code. This import name is specified by the <code>name</code> parameter in <code>pyproject.toml</code> / <code>setup.cfg</code> <strong>/</strong> <code>setup.py</code>. It cannot contain hyphens and can only use underscores.</li>
</ul>
<p>If your <code>name</code> parameter differs from <code>&#x3C;package_name></code>, you must also set the <code>package_dir</code> parameter.</p>
<p>There is also a third name: the one used for <code>pip install __</code> when uploaded to PyPI. This name can contain hyphens, like <code>scikit-image</code>.</p>
<h3 id="packages"><code>packages</code><a aria-hidden="true" tabindex="-1" href="#packages"><span class="icon icon-link"></span></a></h3>
<p>This parameter is a list, but it typically takes the result of <code>setuptools.find_packages()</code>.</p>
<p>The <code>find_packages()</code> function commonly accepts three optional parameters:</p>
<ul>
<li><code>where</code>: A path relative to <code>setup.py</code></li>
<li><code>include</code>: A list of glob patterns</li>
<li><code>exclude</code>: A list of glob patterns</li>
</ul>
<p>Leaving all parameters blank uses automatic discovery.</p>
<h3 id="package_dir"><code>package_dir</code><a aria-hidden="true" tabindex="-1" href="#package_dir"><span class="icon icon-link"></span></a></h3>
<p>This parameter is a dictionary with two main uses:</p>
<ul>
<li>In a standard src-layout, simply write <code>{"": "src/"}</code>, indicating that all code is within this folder.</li>
<li>If the Python module structure differs from the code file structure, use this dictionary to define the mapping between modules and folders.</li>
</ul>
<p>File paths are relative to <code>setup.py</code>.</p>
<h3 id="py_modules"><code>py_modules</code><a aria-hidden="true" tabindex="-1" href="#py_modules"><span class="icon icon-link"></span></a></h3>
<p>This parameter is a list of file paths, mostly used for single-file structures.</p>
<h2 id="building-and-uploading">Building and Uploading<a aria-hidden="true" tabindex="-1" href="#building-and-uploading"><span class="icon icon-link"></span></a></h2>
<p>Install the build tool: <code>python3 -m pip install --upgrade build</code></p>
<p>Run the build: <code>python3 -m build</code></p>
<p>This will create a <code>dist/</code> folder containing the build files.</p>
<p>To allow others to install your program using <code>pip install</code>, you need to upload the build to PyPI. Instructions are <a href="https://packaging.python.org/en/latest/tutorials/packaging-projects/#uploading-the-distribution-archives" rel="nofollow noopener noreferrer" target="_blank">here</a>.</p>
<h2 id="installation">Installation<a aria-hidden="true" tabindex="-1" href="#installation"><span class="icon icon-link"></span></a></h2>
<h3 id="static-installation">Static Installation<a aria-hidden="true" tabindex="-1" href="#static-installation"><span class="icon icon-link"></span></a></h3>
<p>Packages already uploaded to PyPI can be installed with <code>pip install &#x3C;package></code>. This is called static installation.</p>
<h3 id="dynamic-installation">Dynamic Installation<a aria-hidden="true" tabindex="-1" href="#dynamic-installation"><span class="icon icon-link"></span></a></h3>
<p>For packages still under development, run <code>pip install -e .</code> in the directory containing <code>setup.py</code>. This is called dynamic installation because changes in the code are reflected in the referencing projects in real time.</p>
<h2 id="exercises">Exercises<a aria-hidden="true" tabindex="-1" href="#exercises"><span class="icon icon-link"></span></a></h2>
<p>Here is the file structure of a <a href="https://gist.github.com/ericmjl/27e50331f24db3e8f957d1fe7bbbe510" rel="nofollow noopener noreferrer" target="_blank">data analysis project</a>, slightly modified:</p>
<pre><code>/path/to/project/directory/ 
    |-- notebooks/ 
        |-- 01-first-logical-notebook.ipynb 
        |-- 02-second-logical-notebook.ipynb 
        |-- prototype-notebook.ipynb 
        |-- archive/ 
            |-- no-longer-useful.ipynb 
    |-- src/ 
        |-- projectname/ 
            |-- init.py 
            |-- config.py 
            |-- data.py 
            |-- utils.py 
            |-- setup.py 
    |-- README.md 
    |-- data/ 
    |-- raw/ 
    |-- processed/ 
    |-- cleaned/ 
    |-- scripts/ 
        |-- script1.py 
        |-- script2.py 
        |-- archive/ 
            |-- no-longer-useful.py 
    |-- environment.yml
</code></pre>
<p>Questions:</p>
<ol>
<li>Is this a flat-layout or src-layout?</li>
<li>How should setup.py be written? What would be the output of <code>pwd</code> when executing a dynamic installation?</li>
</ol>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[.doc | OPT Workshop Notes]]></title>
            <link>https://blog.mountaye.com/en/articles/OPT-workshop-notes</link>
            <guid>https://blog.mountaye.com/en/articles/OPT-workshop-notes</guid>
            <pubDate>Fri, 19 May 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[OPT is the abbreviation of Optional Practice Training.]]></description>
            <content:encoded><![CDATA[<h2 id="who-is-eligible">Who is eligible<a aria-hidden="true" tabindex="-1" href="#who-is-eligible"><span class="icon icon-link"></span></a></h2>
<h3 id="pre-completion">Pre-completion<a aria-hidden="true" tabindex="-1" href="#pre-completion"><span class="icon icon-link"></span></a></h3>
<p>Before graduation, need to talk with advisor, not common</p>
<h3 id="post-completion">Post-completion<a aria-hidden="true" tabindex="-1" href="#post-completion"><span class="icon icon-link"></span></a></h3>
<p>after graduation,</p>
<p>have entered the US, and have been in F1 status for 2 semesters</p>
<p>or graduates except for dissertation</p>
<ul>
<li>ABD: all but dissertation, finish before the end of EAD date</li>
<li>Otherwise need to go back home and complete the degree</li>
</ul>
<h2 id="opt-basics">OPT basics<a aria-hidden="true" tabindex="-1" href="#opt-basics"><span class="icon icon-link"></span></a></h2>
<p>related to your field of study</p>
<p>still an F1 student, not a work visa.</p>
<p>12 months OPT per level of education, not cumulative</p>
<p>eligible STEM degrees for extension of post-complete OPT, or pending H1B</p>
<p>no job offer is required to apply.</p>
<p>allows to change jobs and have multiple jobs</p>
<p>employer does not have to do anything, applicant is sponsoring themselves</p>
<p>can do paid/unpaid, this university cannot do unpaid work.</p>
<h2 id="only-work-after-authorization">Only work after authorization<a aria-hidden="true" tabindex="-1" href="#only-work-after-authorization"><span class="icon icon-link"></span></a></h2>
<p>not eligible to work until EAD card</p>
<p>no exception</p>
<p>need to create SEVP portal account after the OPT is approved and after the start date</p>
<p>need to report on change: US home address, employer and address, start and end date of employment</p>
<h2 id="do-not-accrue-more-than-90-days-of-unemployment">Do not accrue more than 90 days of unemployment<a aria-hidden="true" tabindex="-1" href="#do-not-accrue-more-than-90-days-of-unemployment"><span class="icon icon-link"></span></a></h2>
<p>within the authorization period on EAD card</p>
<blockquote>
<p>20 hours to be considered employed</p>
</blockquote>
<h2 id="keep-document-and-f1-records-updated">Keep document and F1 records updated<a aria-hidden="true" tabindex="-1" href="#keep-document-and-f1-records-updated"><span class="icon icon-link"></span></a></h2>
<p>request OPT-I20</p>
<h2 id="only-enroll-part-time-in-classes-unrelated-to-the-current-or-future-field-of-study">Only enroll part-time in classes unrelated to the current or future field of study<a aria-hidden="true" tabindex="-1" href="#only-enroll-part-time-in-classes-unrelated-to-the-current-or-future-field-of-study"><span class="icon icon-link"></span></a></h2>
<p>reach out to OISS advisor</p>
<h2 id="travel-outside-us">Travel outside US<a aria-hidden="true" tabindex="-1" href="#travel-outside-us"><span class="icon icon-link"></span></a></h2>
<p>possible with documents</p>
<ol>
<li>passport</li>
<li>F1 visa</li>
<li>I20 with signature</li>
<li>EAD</li>
<li>proof of employment (optional)</li>
</ol>
<p><strong>while OPT application pending is possible, but risky</strong> because the EAD will be mailed to your US address</p>
<h2 id="verify-admission-status-i94-record-is-correct">Verify admission status I94 record is correct<a aria-hidden="true" tabindex="-1" href="#verify-admission-status-i94-record-is-correct"><span class="icon icon-link"></span></a></h2>
<p><a href="http://i94.cbp.dhs.gov" rel="nofollow noopener noreferrer" target="_blank">i94.cbp.dhs.gov</a></p>
<h2 id="summary">summary<a aria-hidden="true" tabindex="-1" href="#summary"><span class="icon icon-link"></span></a></h2>
<figure class="rehype-figure"><img src="/blog/photos/2023-05-19-main-status.png" alt="how to maintain the OPT status"><figcaption>how to maintain the OPT status</figcaption></figure>
<h2 id="who-can-apply-for-extension">Who can apply for extension<a aria-hidden="true" tabindex="-1" href="#who-can-apply-for-extension"><span class="icon icon-link"></span></a></h2>
<h3 id="24-month-stem-opt-extension">24-month STEM OPT extension<a aria-hidden="true" tabindex="-1" href="#24-month-stem-opt-extension"><span class="icon icon-link"></span></a></h3>
<p>aply during the last 90 days end of OPT</p>
<p>USCIS must receive before the end</p>
<p>must have a job</p>
<p>employer must enroll in E-verify</p>
<p>requires a plan (Form I-983)</p>
<h3 id="h1b-petition-pending-or-approved-may-requested-a-cap-gap">H1B petition pending or approved may requested a “cap gap”<a aria-hidden="true" tabindex="-1" href="#h1b-petition-pending-or-approved-may-requested-a-cap-gap"><span class="icon icon-link"></span></a></h3>
<p>cap gap employer file H1B application on April 1</p>
<p>if approved, H1B starts on October 1</p>
<p>if OPT expires before Oct 1, “cap gap” extension is added in SEVIS until decision of H1B is decided</p>
<h2 id="application-process">application process<a aria-hidden="true" tabindex="-1" href="#application-process"><span class="icon icon-link"></span></a></h2>
<ul>
<li>workshop, get a packet</li>
<li>request OPT I20  form from OISS advisor</li>
<li>prepare and submit form I-765 OPT application to USCIS</li>
<li><strong>must be in US to apply for OPT</strong></li>
</ul>
<h2 id="application-timeline">application timeline<a aria-hidden="true" tabindex="-1" href="#application-timeline"><span class="icon icon-link"></span></a></h2>
<p><strong>application estimated to take 4 weeks.</strong></p>
<p>90 days before program end date → I-20 end date → 60 days after program end date</p>
<p>pick requested start date: 1 day after I 20 end date → end of 60 day grace period</p>
<figure class="rehype-figure"><img src="/blog/photos/2023-05-19-time-window.png" alt="time window of OPT application"><figcaption>time window of OPT application</figcaption></figure>
<h2 id="packet">Packet<a aria-hidden="true" tabindex="-1" href="#packet"><span class="icon icon-link"></span></a></h2>
<h3 id="request-opt-i20">request OPT-I20<a aria-hidden="true" tabindex="-1" href="#request-opt-i20"><span class="icon icon-link"></span></a></h3>
<p>requested OPT start date form</p>
<p>academic advisor verification form <code>OR</code> ABD OPT form, one or the other</p>
<h3 id="the-packet-is-for-getting-opt-i-20-recommendation-from-oiss">The packet is for getting OPT I-20 recommendation from OISS<a aria-hidden="true" tabindex="-1" href="#the-packet-is-for-getting-opt-i-20-recommendation-from-oiss"><span class="icon icon-link"></span></a></h3>
<h2 id="opt-i-20">OPT I-20<a aria-hidden="true" tabindex="-1" href="#opt-i-20"><span class="icon icon-link"></span></a></h2>
<p>application to USCIS with the recommendation from OISS</p>
<h3 id="evidence-files-to-upload-i-765--with-opt-i-20">evidence files to upload I-765  with OPT I-20<a aria-hidden="true" tabindex="-1" href="#evidence-files-to-upload-i-765--with-opt-i-20"><span class="icon icon-link"></span></a></h3>
<p>immigration docu: passport, I-94</p>
<p>previous OPT and CPT, can skip if you don’t have it</p>
<p>2 by 2 inches passport style photo; taken within 30 days; Public library, Walgreens, and CVS offer the service</p>
<h3 id="what-if-the-ead-start-date-is-after-the-end-date-of-the-grace-period">What if the EAD start date is after the end date of the grace period?<a aria-hidden="true" tabindex="-1" href="#what-if-the-ead-start-date-is-after-the-end-date-of-the-grace-period"><span class="icon icon-link"></span></a></h3>
<p>didn't quite hear the answer</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[.doc | Job Search Efforts During March Meeting]]></title>
            <link>https://blog.mountaye.com/en/articles/job-search-efforts-during-march-meeting</link>
            <guid>https://blog.mountaye.com/en/articles/job-search-efforts-during-march-meeting</guid>
            <pubDate>Wed, 05 Apr 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[[Translated by ChatGPT] 2 interviews and 1 focus session during March Meeting 2023.]]></description>
            <content:encoded><![CDATA[<h3 id="before-the-meeting">Before the Meeting<a aria-hidden="true" tabindex="-1" href="#before-the-meeting"><span class="icon icon-link"></span></a></h3>
<p>The March meeting will be held in Las Vegas this year.</p>
<p>It's about two weeks away from the conference, and I developed folliculitis at the base of my chin where I have a beard. It quickly worsened into herpes zoster, commonly known as "internal heat" in Chinese medicine. The second semester of the American academic year ends in May, and I haven't made much progress on my thesis. I can't find a job, and the application season for postdoctoral programs is in full swing with paper submissions. I watched helplessly as the application deadlines for two projects passed by. The postdoctoral project shared by a neighboring research group reposted their job advertisement online shortly after I submitted my application materials. I also applied to two research institutes in Germany, with one already sending a rejection letter and the other not responding at all. In addition to all this, I need to prepare for my presentation at the conference. It's no wonder I'm feeling stressed.</p>
<p>On Friday, we had a rehearsal for the group's presentations. I had initially planned to reuse the slides from last year's conference but realized that the main content from my paper was missing. It made me realize that I had indeed accomplished quite a bit over the past year. After receiving the rejection letter from the German research institute, I felt down for a day. However, the trend of using ChatGPT quickly gained popularity. So I compiled a list of professors I had heard of during my doctoral studies and fed their research group homepage descriptions, along with an abstract of my paper generated by AI, to ChatGPT, asking it to compose an email. The result was decent, and I received a reply inviting me to meet during the conference. The person who responded is a well-known researcher who studies animal behavior using a cross-scale approach and manages two research groups in Europe and East Asia. They made a big impression at last year's conference and later came to give a lecture at my university. We had lunch together. Shortly before the meeting, someone on the APS (American Physical Society) mailing list sent a mass email advertising a job opportunity. It turns out they are the current postdoc who will soon start a faculty position at a university in the western United States. Interestingly, they are currently working at the German research institute that rejected me. I can't help but feel a mix of envy and satisfaction knowing that they also fell for the ChatGPT-generated email trick.</p>
<h3 id="meeting">Meeting<a aria-hidden="true" tabindex="-1" href="#meeting"><span class="icon icon-link"></span></a></h3>
<p>I walked to the conference venue and checked in. I received a name tag, which was just a thick piece of paper hanging from a string, without even a plastic cover.</p>
<p>After checking in, I surveyed the layout of the conference venue. The rooms related to biophysics were located on both sides of the first intersection in the main corridor. Each doorway had display boards indicating the themes of the speeches for each time slot. Unlike last year when I was the only one from our team attending, this year all three members of our team have presentations. In addition, Katie, a former master's student in our group, and her current classmates also have presentations. When I marked the schedule, I found that most of the interesting sessions conflicted with each other. Although I have social anxiety, I still feel that interpersonal relationships are important. Or perhaps it's because of my social anxiety that I feel interpersonal relationships are more important?</p>
<p>Back at the hotel, I received a reply from my group email to confirm a time one or two weeks after the March meeting for a remote interview. The purpose is for me to introduce my current work and explain how I can contribute to his laboratory. It's a bit unexpected because his group email mentioned that he would attend the conference, and my email also stated that I was willing to meet during the conference. Does this reply imply a lack of interest? I feel a little disappointed.</p>
<h3 id="interview-1">Interview 1<a aria-hidden="true" tabindex="-1" href="#interview-1"><span class="icon icon-link"></span></a></h3>
<p>When I was wandering between different sub-venues and arrived late to one where the seats were already filled, I had to stand at the back. While I was standing and listening in one of the venues, a guy wearing a green jacket and carrying a sports backpack walked in. He listened for a while and then left. He seemed somewhat familiar, resembling the photos on ChatGPT's personal website.</p>
<p>Curious, I discreetly left the venue and saw him talking to a friend in the corridor, with the name tag on the front of his chest turned over. I temporarily left and explored around, discovering that coffee was available in the main corridor. I lined up and got a cup, then came back to investigate and confirmed it was him.</p>
<p>I greeted him, and it turned out that ChatGPT had been too verbose in his email and only mentioned that he was also attending the conference in March at the very end. I asked him when my presentation was scheduled and if he planned to attend, so we wouldn't need a Zoom meeting.</p>
<p>The title of my presentation during that time slot was quite peculiar, and it didn't seem to have much relevance to what I was working on. When I entered the waiting area, I noticed that apart from the two of us from our lab, all the other presentations in that session were focused on the same pattern and structure of a particular model organism. Our presentation came at the very end of the session, and I felt we performed well. When I started addressing the topic, I made a joke using the session's title, and we finished right on time. ChatGPT arrived at the venue about half an hour before my presentation, and after we finished, he left without coming up to talk to me.</p>
<p>Afterward, back at the hotel, I received an email from him, inviting me to meet the next afternoon. I searched his schedule on the conference website and found that it was right after his presentation. Looking at the title of his talk, it seemed to be about his recent paper. I fed the article into an AI tool to generate an abstract but didn't get a chance to read it before my classmates pulled me away to play...</p>
<p>His presentation was scheduled for the next afternoon and fell in the middle of the overall time slot. I entered the venue at the beginning of the session, and he arrived a little later, sat for a while, and then left. The venue was twice as large as when I gave my presentation, but it wasn't completely filled. While he was speaking, I was reviewing the article summary generated by AI from yesterday, feeling that it contained more information than most of the presentations I had heard up until that point. His presentation skills were also far above the average level. His research targeted a biological system one level higher than my current research focus, but the approach and process seemed similar. His research was much more advanced, both in theory and experimentation. Although the theory seemed to be a fairly traditional model in the field, it was still much better than just presenting experimental data like we did.</p>
<p>After the conference, we met in the corridor and found two seats. I showed him my slides, and he went through all the details, confirming that I would be working on gene editing in our lab's model organism. He also asked about the proportion of my work within the entire project.</p>
<p>Then, he asked a question that felt as significant as being confessed to in a romantic relationship: "What is the central question guiding your research career?" Ah, my brain immediately crashed. Seeing me struggling, the guy said I could speak in Chinese, as he understood it but couldn't speak it. Finally, when I felt cornered, I told the truth - I just wanted to coast through academia, eat and wait for death. If</p>
<p>ChatGPT has arrived, and we have super-intelligent AI, who needs physics anymore? Physics doesn't exist anymore. The guy chuckled at my response.</p>
<p>He then asked me to ask questions. I inquired about the duration of holidays, and he replied that it followed the school's policy. Those who have cultured cells should know that they might have to go to the school on weekends, so as long as the workload is sufficient, there are no attendance requirements on weekdays.</p>
<p>Overall, the conversation went quite smoothly. In the end, he mentioned that he would send me an email and asked for two or three ways to contact me, as well as a recommendation letter.</p>
<h3 id="interview-2">Interview 2<a aria-hidden="true" tabindex="-1" href="#interview-2"><span class="icon icon-link"></span></a></h3>
<p>Originally, I had a good impression of this esteemed person, but since it was the first day of the conference, I thought maybe everyone hadn't settled in yet. Therefore, I sent an email on Tuesday to confirm the meeting time, and as a result, we arranged to meet on Friday at noon, next to the DBIO service desk.</p>
<p>I had planned to prepare in advance, as his research group had three or four presentations, but most of them clashed with my own presentation or the previous interview. In the end, I only attended one of them.</p>
<p>Friday at noon turned out to be the last session of the entire conference. The DBIO table had already been removed, and everyone seemed eager to leave. After about ten minutes past 12 o'clock, I finally met the person, and five minutes later, the person I was talking to left. Everyone was busy packing up and closing the doors. We found an empty room with a table and chairs that had already been moved out. Inside the room, there was only one student lying on the floor sleeping. The two of us sat down facing each other on the floor.</p>
<p>Just as I was about to take out my computer to go over my presentation, he waved his hand and asked me to briefly summarize my work orally. The subsequent series of questions and answers followed the same style, with the two of us sitting on the floor, exchanging rapid-fire questions and quick responses, resembling the agility of Zen. He started by asking why I chose to pursue my current work. I thought I gave a decent answer, but as I spoke, I realized that it was the answer from the previous interview. Why didn't I think of that earlier? Feeling a bit too pleased with myself, I forgot that this esteemed person was focused on studying behavior, not organizational structure. It could have been easily smoothed over, but I didn't handle it well. Then he asked about my favorite course during my undergraduate studies, a question he mentioned during our lunch break, so I pretended to be impressive. After that, he asked two significant questions: "How did a stinky experimenter like you end up begging for food in our theoretical group?" and "How did a stinky structuralist like you end up begging for food in our behavioral research field?" I didn't answer them well. Earlier, in my self-satisfaction, I mentioned having another job offer, which led to both sides being somewhat perfunctory during the latter part of the conversation.</p>
<p>Finally, he briefed me that the research in East Asia has sufficient funding, although he spends a considerable amount of time there every year, it's not always possible to meet in person for guidance. Regarding Europe, if I decide to join, he would need to specifically apply for funding. The meaning behind this was quite clear, so we politely agreed to take some time to consider it and said we could stay in touch via email in the future.</p>
<h3 id="symposium">Symposium<a aria-hidden="true" tabindex="-1" href="#symposium"><span class="icon icon-link"></span></a></h3>
<p>The symposium actually took place on the afternoon of the same day as my speech, right before the two interviews.</p>
<p>The so-called symposium was organized by several research institutions in Germany and aimed to promote information related to research conducted in Germany. It was quite far from the venues of the biophysics sessions. After my friend Katie finished her speech, I slipped out of the venue and rushed over. By the time I arrived, it had already begun. There were bagels, jam, and cheese on both sides of the entrance, and it was the first time in many days that I had lunch.</p>
<p>There were six or seven round tables in the venue, each with a small label indicating the name of a research institution. There were one or two staff members from each corresponding institute sitting at the tables. The host introduced each research institution in turn and gave the leaders of the institutions three to five minutes to introduce themselves. After that, it was free time. I noticed that the Max Planck Institute's table was near the bread, and since the other institutions didn't seem to focus much on basic scientific research, I found a chair and sat down. The head of the Max Planck Institute was an elder with white hair. His attire was more formal compared to the other participants, and he had a strong presence, resembling a wise figure.</p>
<p>The first question was about the difficulty of immigrating to Germany and whether Germany was somewhat exclusive. The elder replied that Germany is currently one of the most open countries in terms of immigration policies. Considering the phrase "one of the," and also taking into account that foreign graduates in non-academic positions in the beacon country have to draw lots to obtain a work visa, excluding the "borderline," this answer could not be considered wrong. Deutsche Welle had previously released a video with a similar statement, but that video had a follow-up phrase of "aber..." (but...).</p>
<p>Someone then asked about the projects and job structure at the Max Planck Institute. The answer was similar to what I had previously understood. Each research institution has the authority to recruit its own researchers. The duration of a postdoctoral position is generally two years, with extensions to three years or longer only when necessary. At the Max Planck Institute, except for the director, there are hardly any permanent positions for research positions. The institute serves as a stepping stone for researchers before they secure a permanent faculty position. However, whether it was a government regulation or something else, there was a rule stating that nine years after obtaining a doctoral degree, the employing institution must provide a permanent position. As a result, individuals are often dismissed before the end of those nine years. It wasn't asked whether this contradicted the previous answer.</p>
<p>When asked what kind of research the Max Planck Institute favors, the elder explicitly stated that they prefer more challenging and ambitious topics rather than safe topics pursued solely to obtain a faculty position. He even specifically mentioned the aim to explore topics and scholars that have the potential to receive Nobel Prizes in the future. This naturally differs from the American-style notion of verbal freedom and the actual practice of focusing on safe bets. It's interesting how the understanding of pragmatism can differ so greatly between two cultures—one rooted in long-term plans and top-down designs, and the other more focused on short-term gains.</p>
<p>Someone also asked about the criteria for selecting applicants at the Max Planck Institute. The answer was that each research institution has its own criteria. However, he also mentioned his own criteria: academic performance is the main factor, and when conducting research, one should have a clear understanding of the underlying physics. So, how is academic performance judged? It mainly depends on attending prestigious schools, followed by academic rankings. If the school's name is less well-known, higher academic rankings are expected. The answer was sincere, and it didn't evoke any sense of objection towards such obvious discrimination based on one's undergraduate alma mater, nor did it provoke any intention to challenge it.</p>
<p>This response is clearly targeting the American model, which emphasizes research experience and places greater importance on the authorship of papers. The backbone of a research group consists of Ph.D. students who do not need to spend time attending classes. How much contribution can undergraduate students applying for a Ph.D. make to the entire project? Moreover, these contributions are largely made by sacrificing their efforts in coursework. The sentence highlighted above is a sarcastic comment on this matter. Furthermore, considering the notorious reputation of the academic environment in China, overseas research experience is typically required. Apart from special programs like the Everest Plan that provide scholarships, most students have to self-fund and contact foreign mentors. This not only turns academic selection into a disparity unrelated to academia, linked instead to students' economic conditions, but also fosters an intermediary industry that sells such information. What academic justice is there in this policy?</p>
<p>However, let's consider how much academic performance can be reflected in a transcript. How many students openly ask their professors for grades when they intend to study abroad? Until a few years ago, there were even legitimate operations like "passing and retaking" courses at certain universities to alter transcripts. Not to mention the highly similar nature of examination questions across different subjects in China, which is detrimental to stability and unity. If attending prestigious schools is a requirement, then going abroad after high school graduation has far more advantages than going after undergraduate studies. It becomes a class-based filtering process, leading to the same destination through different paths.</p>
<p>Both of these scenarios involve individuals, each operating under a different moral framework, which is gradually deconstructed and distorted when translated into executable actions. Throughout this process, their own judgment is constantly outsourced. Outsourcing itself is not a problem, as division of labor is both a reflection of societal development and an important driving force. However, let's take an airplane as an example. Safely delivering passengers to their destinations requires coordination and trust between the crew and ground staff, but the safe arrival ultimately has objective standards. In the education and research system, the outcomes of its own cultivation are digested by itself. The selection process inherently involves the phenomenon of athletes acting as both players and referees. Some of the selected individuals may not be competent, while some of the non-selected ones may be capable. In that case, it would be straightforward: allocate all resources to the winners and cut off the paths for the losers...</p>
<p>Both models, in their mediocrity, peck at each other, and neither can replace the other. Ultimately, today's physics itself is lackluster. Leaving aside the magnificent breakthroughs during the birth of quantum mechanics and relativity, even the process of constructing the standard model was full of ad hoc solutions. Today, it is difficult to hope for its complete reversal. How much of the knowledge you solidly understand can be applied in your actual research? How many valuable works have you produced over these years of early involvement in research? Young people consider matters they believe are crucial to their future and destiny, but it is nothing more than a few bytes in their boss's email inbox. Whether they accept you or someone else, the difference is insignificant.</p>
<p>In short, there are no heroes in our time, which allows mediocre individuals to gain fame.</p>
<p>In the afternoon, a lady who had a conversation with "群发哥" (a nickname) the day before gave a speech shortly after him. Looking at her organization on the first page of the presentation slides, it seemed that she was a junior colleague in his doctoral laboratory and was about to join his current research institute. <del>In other words, she is the enemy who took away my offer</del>. So, I posted a complaint in my friend circle. Her speech exceeded the allotted time and was interrupted by the host. I was about to</p>
<p>add a comment saying "Exceeded the time, so bad," but considering that I had been posting quite a lot on my friend circle in the past few days, I refrained.</p>
<p>The only person I admired during my four years in university, "峰神" (a nickname), replied below, saying he had also considered applying to the same research institute. I asked him where he is now, and a few minutes later, I saw his reply: "Already started working." I quickly teased him, saying "Rich brother, lend me 50 yuan." However, the words spoken at the meeting reverberated in my mind, sighing and turning into a deep breath. I silently put away my phone.</p>]]></content:encoded>
        </item>
    </channel>
</rss>